(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3082],{73676:function(e,t,n){var o,r=n(34155),i=Object.create,a=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&f(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&f(e,n,t[n]);return e},b=(e,t)=>s(e,c(t)),v=(e,t)=>{var n={};for(var o in e)h.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&p)for(var o of p(e))t.indexOf(o)<0&&m.call(e,o)&&(n[o]=e[o]);return n},k=(e,t)=>function(){return t||(0,e[d(e)[0]])((t={exports:{}}).exports,t),t.exports},w=(e,t,n,o)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let r of d(t))h.call(e,r)||r===n||a(e,r,{get:()=>t[r],enumerable:!(o=l(t,r))||o.enumerable});return e},x=(e,t,n)=>(n=null!=e?i(u(e)):{},w(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),y=k({"node_modules/react-is/cjs/react-is.production.min.js"(e){"use strict";var t,n=60103,o=60106,r=60107,i=60108,a=60114,s=60109,l=60110,c=60112,d=60113,p=60120,u=60115,h=60116,m=60121,f=60122,g=60117,b=60129,v=60131;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case u:case s:return e;default:return t}}case o:return t}}}"function"===typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),o=t("react.portal"),r=t("react.fragment"),i=t("react.strict_mode"),a=t("react.profiler"),s=t("react.provider"),l=t("react.context"),c=t("react.forward_ref"),d=t("react.suspense"),p=t("react.suspense_list"),u=t("react.memo"),h=t("react.lazy"),m=t("react.block"),f=t("react.server.block"),g=t("react.fundamental"),b=t("react.debug_trace_mode"),v=t("react.legacy_hidden"));var w=s,x=n,y=c,C=r,S=h,M=u,E=o,L=a,A=i,I=d;e.ContextConsumer=l,e.ContextProvider=w,e.Element=x,e.ForwardRef=y,e.Fragment=C,e.Lazy=S,e.Memo=M,e.Portal=E,e.Profiler=L,e.StrictMode=A,e.Suspense=I,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return k(e)===l},e.isContextProvider=function(e){return k(e)===s},e.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return k(e)===c},e.isFragment=function(e){return k(e)===r},e.isLazy=function(e){return k(e)===h},e.isMemo=function(e){return k(e)===u},e.isPortal=function(e){return k(e)===o},e.isProfiler=function(e){return k(e)===a},e.isStrictMode=function(e){return k(e)===i},e.isSuspense=function(e){return k(e)===d},e.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===a||e===b||e===i||e===d||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===l||e.$$typeof===c||e.$$typeof===g||e.$$typeof===m||e[0]===f)},e.typeOf=k}}),C=(k({"node_modules/react-is/cjs/react-is.development.js"(e){"use strict"}}),k({"node_modules/react-is/index.js"(e,t){"use strict";t.exports=y()}})),S=k({"node_modules/shallowequal/index.js"(e,t){t.exports=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var d=e[c],p=t[c];if(!1===(r=n?n.call(o,d,p,c):void 0)||void 0===r&&d!==p)return!1}return!0}}}),M=k({"node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(e){"use strict";var t="function"===typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,u=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,f=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case d:case r:case a:case i:case u:return e;default:switch(e=e&&e.$$typeof){case l:case p:case f:case m:case s:return e;default:return t}}case o:return t}}}function x(e){return w(e)===d}e.AsyncMode=c,e.ConcurrentMode=d,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=p,e.Fragment=r,e.Lazy=f,e.Memo=m,e.Portal=o,e.Profiler=a,e.StrictMode=i,e.Suspense=u,e.isAsyncMode=function(e){return x(e)||w(e)===c},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===l},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===p},e.isFragment=function(e){return w(e)===r},e.isLazy=function(e){return w(e)===f},e.isMemo=function(e){return w(e)===m},e.isPortal=function(e){return w(e)===o},e.isProfiler=function(e){return w(e)===a},e.isStrictMode=function(e){return w(e)===i},e.isSuspense=function(e){return w(e)===u},e.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===d||e===a||e===i||e===u||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===k||e.$$typeof===g)},e.typeOf=w}}),E=(k({"node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js"(e){"use strict"}}),k({"node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(e,t){"use strict";t.exports=M()}})),L=k({"node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(e,t){"use strict";var n=E(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function s(e){return n.isMemo(e)?i:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=i;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,o){if("string"!==typeof n){if(h){var i=u(n);i&&i!==h&&e(t,i,o)}var a=c(n);d&&(a=a.concat(d(n)));for(var m=s(t),f=s(n),g=0;g<a.length;++g){var b=a[g];if(!r[b]&&(!o||!o[b])&&(!f||!f[b])&&(!m||!m[b])){var v=p(n,b);try{l(t,b,v)}catch(k){}}}}return t}}}),A={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(A,{Extension:()=>Ii,default:()=>xd,parser:()=>gd,renderToHtml:()=>vd,schema:()=>fd,serializer:()=>bd,theme:()=>kd}),e.exports=(o=A,w(a({},"__esModule",{value:!0}),o));var I=x(n(67294)),$=x(n(42454)),T=n(72048),O=n(42391),R=n(31588),P=n(81634),D=n(51978),N=n(19443),_=n(78665),B=n(97354),z=n(49270),H=n(69124),V=x(C()),j=x(n(67294)),W=x(S());var F=function(e){function t(e,o,l,c,u){for(var h,m,f,g,w,y=0,C=0,S=0,M=0,E=0,O=0,P=f=h=0,N=0,_=0,B=0,z=0,H=l.length,V=H-1,j="",W="",F="",U="";N<H;){if(m=l.charCodeAt(N),N===V&&0!==C+M+S+y&&(0!==C&&(m=47===C?10:47),M=S=y=0,H++,V++),0===C+M+S+y){if(N===V&&(0<_&&(j=j.replace(p,"")),0<j.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(N)}m=59}switch(m){case 123:for(h=(j=j.trim()).charCodeAt(0),f=1,z=++N;N<H;){switch(m=l.charCodeAt(N)){case 123:f++;break;case 125:f--;break;case 47:switch(m=l.charCodeAt(N+1)){case 42:case 47:e:{for(P=N+1;P<V;++P)switch(l.charCodeAt(P)){case 47:if(42===m&&42===l.charCodeAt(P-1)&&N+2!==P){N=P+1;break e}break;case 10:if(47===m){N=P+1;break e}}N=P}}break;case 91:m++;case 40:m++;case 34:case 39:for(;N++<V&&l.charCodeAt(N)!==m;);}if(0===f)break;N++}if(f=l.substring(z,N),0===h&&(h=(j=j.replace(d,"").trim()).charCodeAt(0)),64===h){switch(0<_&&(j=j.replace(p,"")),m=j.charCodeAt(1)){case 100:case 109:case 115:case 45:_=o;break;default:_=T}if(z=(f=t(o,_,f,m,u+1)).length,0<R&&(w=s(3,f,_=n(T,j,B),o,A,L,z,m,u,c),j=_.join(""),void 0!==w&&0===(z=(f=w.trim()).length)&&(m=0,f="")),0<z)switch(m){case 115:j=j.replace(x,a);case 100:case 109:case 45:f=j+"{"+f+"}";break;case 107:f=(j=j.replace(b,"$1 $2"))+"{"+f+"}",f=1===$||2===$&&i("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=j+f,112===c&&(W+=f,f="")}else f=""}else f=t(o,n(o,j,B),f,c,u+1);F+=f,f=B=_=P=h=0,j="",m=l.charCodeAt(++N);break;case 125:case 59:if(1<(z=(j=(0<_?j.replace(p,""):j).trim()).length))switch(0===P&&(h=j.charCodeAt(0),45===h||96<h&&123>h)&&(z=(j=j.replace(" ",":")).length),0<R&&void 0!==(w=s(1,j,o,e,A,L,W.length,c,u,c))&&0===(z=(j=w.trim()).length)&&(j="\0\0"),h=j.charCodeAt(0),m=j.charCodeAt(1),h){case 0:break;case 64:if(105===m||99===m){U+=j+l.charAt(N);break}default:58!==j.charCodeAt(z-1)&&(W+=r(j,h,m,j.charCodeAt(2)))}B=_=P=h=0,j="",m=l.charCodeAt(++N)}}switch(m){case 13:case 10:47===C?C=0:0===1+h&&107!==c&&0<j.length&&(_=1,j+="\0"),0<R*D&&s(0,j,o,e,A,L,W.length,c,u,c),L=1,A++;break;case 59:case 125:if(0===C+M+S+y){L++;break}default:switch(L++,g=l.charAt(N),m){case 9:case 32:if(0===M+y+C)switch(E){case 44:case 58:case 9:case 32:g="";break;default:32!==m&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===M+C+y&&(_=B=1,g="\f"+g);break;case 108:if(0===M+C+y+I&&0<P)switch(N-P){case 2:112===E&&58===l.charCodeAt(N-3)&&(I=E);case 8:111===O&&(I=O)}break;case 58:0===M+C+y&&(P=N);break;case 44:0===C+S+M+y&&(_=1,g+="\r");break;case 34:case 39:0===C&&(M=M===m?0:0===M?m:M);break;case 91:0===M+C+S&&y++;break;case 93:0===M+C+S&&y--;break;case 41:0===M+C+y&&S--;break;case 40:if(0===M+C+y){if(0===h)if(2*E+3*O===533);else h=1;S++}break;case 64:0===C+S+M+y+P+f&&(f=1);break;case 42:case 47:if(!(0<M+y+S))switch(C){case 0:switch(2*m+3*l.charCodeAt(N+1)){case 235:C=47;break;case 220:z=N,C=42}break;case 42:47===m&&42===E&&z+2!==N&&(33===l.charCodeAt(z+2)&&(W+=l.substring(z,N+1)),g="",C=0)}}0===C&&(j+=g)}O=E,E=m,N++}if(0<(z=W.length)){if(_=o,0<R&&(void 0!==(w=s(2,W,_,e,A,L,z,c,u,c))&&0===(W=w).length))return U+W+F;if(W=_.join(",")+"{"+W+"}",0!==$*I){switch(2!==$||i(W,2)||(I=0),I){case 111:W=W.replace(k,":-moz-$1")+W;break;case 112:W=W.replace(v,"::-webkit-input-$1")+W.replace(v,"::-moz-$1")+W.replace(v,":-ms-input-$1")+W}I=0}}return U+W+F}function n(e,t,n){var r=t.trim().split(f);t=r;var i=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=o(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[l++]=o(e[c]+" ",r[s],n).trim()}return t}function o(e,t,n){var o=t.charCodeAt(0);switch(33>o&&(o=(t=t.trim()).charCodeAt(0)),o){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===$||2===$&&i(l,1)?"-webkit-"+l+l:l}if(0===$||2===$&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(w,"tb");break;case 232:l=a.replace(w,"tb-rl");break;case 220:l=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===M.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),o=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?o:o.replace(S,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(y," or ($1)").substring(4):"("+t+")"}function s(e,t,n,o,r,i,a,s,l,d){for(var p,u=0,h=t;u<R;++u)switch(p=O[u].call(c,e,h,n,o,r,i,a,s,l,d)){case void 0:case!1:case!0:case null:break;default:h=p}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?$=1:($=2,P=e):$=0),l}function c(e,n){var o=e;if(33>o.charCodeAt(0)&&(o=o.trim()),o=[o],0<R){var r=s(-1,n,o,o,A,L,0,0,0,0);void 0!==r&&"string"===typeof r&&(n=r)}var i=t(T,o,n,0,0);return 0<R&&(void 0!==(r=s(-2,i,o,o,A,L,i.length,0,0,0))&&(i=r)),"",I=0,L=A=1,i}var d=/^\0+/g,p=/[\0\r\f]/g,u=/: */g,h=/zoo|gra/,m=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,y=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,L=1,A=1,I=0,$=1,T=[],O=[],R=0,P=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var n=0,o=t.length;n<o;++n)e(t[n]);else D=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},U={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Z=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,q=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return Z.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),G=x(L());function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var J=function(e,t){for(var n=[e[0]],o=0,r=t.length;o<r;o+=1)n.push(t[o],e[o+1]);return n},X=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,V.typeOf)(e)},Y=Object.freeze([]),Q=Object.freeze({});function ee(e){return"function"==typeof e}function te(e){return e.displayName||e.name||"Component"}function ne(e){return e&&"string"==typeof e.styledComponentId}var oe="undefined"!=typeof r&&(r.env.REACT_APP_SC_ATTR||r.env.SC_ATTR)||"data-styled",re="undefined"!=typeof window&&"HTMLElement"in window,ie=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof r&&void 0!==r.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==r.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==r.env.REACT_APP_SC_DISABLE_SPEEDY&&r.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof r&&void 0!==r.env.SC_DISABLE_SPEEDY&&""!==r.env.SC_DISABLE_SPEEDY&&("false"!==r.env.SC_DISABLE_SPEEDY&&r.env.SC_DISABLE_SPEEDY)),ae={};function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var le=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,r=o;e>=r;)(r<<=1)<0&&se(16,""+e);this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var i=o;i<r;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),o=n+t;this.groupSizes[e]=0;for(var r=n;r<o;r++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],o=this.indexOfGroup(e),r=o+n,i=o;i<r;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),ce=new Map,de=new Map,pe=1,ue=function(e){if(ce.has(e))return ce.get(e);for(;de.has(pe);)pe++;var t=pe++;return ce.set(e,t),de.set(t,e),t},he=function(e){return de.get(e)},me=function(e,t){t>=pe&&(pe=t+1),ce.set(e,t),de.set(t,e)},fe="style["+oe+'][data-styled-version="5.3.6"]',ge=new RegExp("^"+oe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),be=function(e,t,n){for(var o,r=n.split(","),i=0,a=r.length;i<a;i++)(o=r[i])&&e.registerName(t,o)},ve=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),o=[],r=0,i=n.length;r<i;r++){var a=n[r].trim();if(a){var s=a.match(ge);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(me(c,l),be(e,c,s[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(a)}}},ke=function(){return n.nc},we=function(e){var t=document.head,n=e||t,o=document.createElement("style"),r=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var o=t[n];if(o&&1===o.nodeType&&o.hasAttribute(oe))return o}}(n),i=void 0!==r?r.nextSibling:null;o.setAttribute(oe,"active"),o.setAttribute("data-styled-version","5.3.6");var a=ke();return a&&o.setAttribute("nonce",a),n.insertBefore(o,i),o},xe=function(){function e(e){var t=this.element=we(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,o=t.length;n<o;n++){var r=t[n];if(r.ownerNode===e)return r}se(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ye=function(){function e(e){var t=this.element=we(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),o=this.nodes[e];return this.element.insertBefore(n,o||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ce=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Se=re,Me={isServer:!re,useCSSOMInjection:!ie},Ee=function(){function e(e,t,n){void 0===e&&(e=Q),void 0===t&&(t={}),this.options=K({},Me,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&re&&Se&&(Se=!1,function(e){for(var t=document.querySelectorAll(fe),n=0,o=t.length;n<o;n++){var r=t[n];r&&"active"!==r.getAttribute(oe)&&(ve(e,r),r.parentNode&&r.parentNode.removeChild(r))}}(this))}e.registerId=function(e){return ue(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(K({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,o=t.useCSSOMInjection,r=t.target,e=n?new Ce(r):o?new xe(r):new ye(r),new le(e)));var e,t,n,o,r},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(ue(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ue(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(ue(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,o="",r=0;r<n;r++){var i=he(r);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(r);if(a&&s&&a.size){var l=oe+".g"+r+'[id="'+i+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),o+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return o}(this)},e}(),Le=/(a)(d)/gi,Ae=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ie(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ae(t%52)+n;return(Ae(t%52)+n).replace(Le,"$1-$2")}var $e=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Te=function(e){return $e(5381,e)};function Oe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ee(n)&&!ne(n))return!1}return!0}var Re=Te("5.3.6"),Pe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Oe(e),this.componentId=t,this.baseHash=$e(Re,t),this.baseStyle=n,Ee.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var o=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))r.push(this.staticRulesId);else{var i=Ye(this.rules,e,t,n).join(""),a=Ie($e(this.baseHash,i)>>>0);if(!t.hasNameForId(o,a)){var s=n(i,"."+a,void 0,o);t.insertRules(o,a,s)}r.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=$e(this.baseHash,n.hash),d="",p=0;p<l;p++){var u=this.rules[p];if("string"==typeof u)d+=u;else if(u){var h=Ye(u,e,t,n),m=Array.isArray(h)?h.join(""):h;c=$e(c,m+p),d+=m}}if(d){var f=Ie(c>>>0);if(!t.hasNameForId(o,f)){var g=n(d,"."+f,void 0,o);t.insertRules(o,f,g)}r.push(f)}}return r.join(" ")},e}(),De=/^\s*\/\/.*$/gm,Ne=[":","[",".","#"];function _e(e){var t,n,o,r,i=void 0===e?Q:e,a=i.options,s=void 0===a?Q:a,l=i.plugins,c=void 0===l?Y:l,d=new F(s),p=[],u=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,o,r,i,a,s,l,c,d,p){switch(n){case 1:if(0===d&&64===o.charCodeAt(0))return e(o+";"),"";break;case 2:if(0===c)return o+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(r[0]+o),"";default:return o+(0===p?"/*|*/":"")}case-2:o.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),h=function(e,o,i){return 0===o&&-1!==Ne.indexOf(i[n.length])||i.match(r)?e:"."+t};function m(e,i,a,s){void 0===s&&(s="&");var l=e.replace(De,""),c=i&&a?a+" "+i+" { "+l+" }":l;return t=s,n=i,o=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),d(a||!i?"":i,c)}return d.use([].concat(c,[function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(n)>0&&(r[0]=r[0].replace(o,h))},u,function(e){if(-2===e){var t=p;return p=[],t}}])),m.hash=c.length?c.reduce((function(e,t){return t.name||se(15),$e(e,t.name)}),5381).toString():"",m}var Be=j.default.createContext(),ze=(Be.Consumer,j.default.createContext()),He=(ze.Consumer,new Ee),Ve=_e();function je(){return(0,j.useContext)(Be)||He}function We(){return(0,j.useContext)(ze)||Ve}function Fe(e){var t=(0,j.useState)(e.stylisPlugins),n=t[0],o=t[1],r=je(),i=(0,j.useMemo)((function(){var t=r;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),a=(0,j.useMemo)((function(){return _e({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,j.useEffect)((function(){(0,W.default)(n,e.stylisPlugins)||o(e.stylisPlugins)}),[e.stylisPlugins]),j.default.createElement(Be.Provider,{value:i},j.default.createElement(ze.Provider,{value:a},e.children))}var Ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ve);var o=n.name+t.hash;e.hasNameForId(n.id,o)||e.insertRules(n.id,o,t(n.rules,o,"@keyframes"))},this.toString=function(){return se(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ve),this.name+e.hash},e}(),Ze=/([A-Z])/,qe=/([A-Z])/g,Ge=/^ms-/,Ke=function(e){return"-"+e.toLowerCase()};function Je(e){return Ze.test(e)?e.replace(qe,Ke).replace(Ge,"-ms-"):e}var Xe=function(e){return null==e||!1===e||""===e};function Ye(e,t,n,o){if(Array.isArray(e)){for(var r,i=[],a=0,s=e.length;a<s;a+=1)""!==(r=Ye(e[a],t,n,o))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}return Xe(e)?"":ne(e)?"."+e.styledComponentId:ee(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Ye(e(t),t,n,o):e instanceof Ue?n?(e.inject(n,o),e.getName(o)):e:X(e)?function e(t,n){var o,r,i=[];for(var a in t)t.hasOwnProperty(a)&&!Xe(t[a])&&(Array.isArray(t[a])&&t[a].isCss||ee(t[a])?i.push(Je(a)+":",t[a],";"):X(t[a])?i.push.apply(i,e(t[a],a)):i.push(Je(a)+": "+(o=a,(null==(r=t[a])||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||o in U?String(r).trim():r+"px")+";")));return n?[n+" {"].concat(i,["}"]):i}(e):e.toString();var l}var Qe=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return ee(e)||X(e)?Qe(Ye(J(Y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Qe(Ye(J(e,n)))}var tt=function(e,t,n){return void 0===n&&(n=Q),e.theme!==n.theme&&e.theme||t||n.theme},nt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ot=/(^-|-$)/g;function rt(e){return e.replace(nt,"-").replace(ot,"")}var it=function(e){return Ie(Te(e)>>>0)};function at(e){return"string"==typeof e&&!0}var st=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},lt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ct(e,t,n){var o=e[n];st(t)&&st(o)?dt(o,t):e[n]=t}function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var r=0,i=n;r<i.length;r++){var a=i[r];if(st(a))for(var s in a)lt(s)&&ct(e,a[s],s)}return e}var pt=j.default.createContext();pt.Consumer;function ut(e){var t=(0,j.useContext)(pt),n=(0,j.useMemo)((function(){return n=e.theme,o=t,n?ee(n)?n(o):Array.isArray(n)||"object"!=typeof n?se(8):o?K({},o,{},n):n:se(14);var n,o}),[e.theme,t]);return e.children?j.default.createElement(pt.Provider,{value:n},e.children):null}var ht={};function mt(e,t,n){var o,r=ne(e),i=!at(e),a=t.attrs,s=void 0===a?Y:a,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":rt(e);ht[n]=(ht[n]||0)+1;var o=n+"-"+it("5.3.6"+n+ht[n]);return t?t+"-"+o:o}(t.displayName,t.parentComponentId):l,d=t.displayName,p=void 0===d?at(o=e)?"styled."+o:"Styled("+te(o)+")":d,u=t.displayName&&t.componentId?rt(t.displayName)+"-"+t.componentId:t.componentId||c,h=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(n,o,r){return e.shouldForwardProp(n,o,r)&&t.shouldForwardProp(n,o,r)}:e.shouldForwardProp);var f,g=new Pe(n,u,r?e.componentStyle:void 0),b=g.isStatic&&0===s.length,v=function(e,t){return function(e,t,n,o){var r=e.attrs,i=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,c=e.styledComponentId,d=e.target,p=function(e,t,n){void 0===e&&(e=Q);var o=K({},t,{theme:e}),r={};return n.forEach((function(e){var t,n,i,a=e;for(t in ee(a)&&(a=a(o)),a)o[t]=r[t]="className"===t?(n=r[t],i=a[t],n&&i?n+" "+i:n||i):a[t]})),[o,r]}(tt(t,(0,j.useContext)(pt),a)||Q,t,r),u=p[0],h=p[1],m=function(e,t,n,o){var r=je(),i=We();return t?e.generateAndInjectStyles(Q,r,i):e.generateAndInjectStyles(n,r,i)}(i,o,u),f=n,g=h.$as||t.$as||h.as||t.as||d,b=at(g),v=h!==t?K({},t,{},h):t,k={};for(var w in v)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?k.as=v[w]:(l?l(w,q,g):!b||q(w))&&(k[w]=v[w]));return t.style&&h.style!==t.style&&(k.style=K({},t.style,{},h.style)),k.className=Array.prototype.concat(s,c,m!==c?m:null,t.className,h.className).filter(Boolean).join(" "),k.ref=f,(0,j.createElement)(g,k)}(f,e,t,b)};return v.displayName=p,(f=j.default.forwardRef(v)).attrs=h,f.componentStyle=g,f.displayName=p,f.shouldForwardProp=m,f.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Y,f.styledComponentId=u,f.target=r?e.target:e,f.withComponent=function(e){var o=t.componentId,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["componentId"]),i=o&&o+"-"+(at(e)?e:rt(te(e)));return mt(e,K({},r,{attrs:h,componentId:i}),n)},Object.defineProperty(f,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?dt({},e.defaultProps,t):t}}),f.toString=function(){return"."+f.styledComponentId},i&&(0,G.default)(f,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),f}var ft=function(e){return function e(t,n,o){if(void 0===o&&(o=Q),!(0,V.isValidElementType)(n))return se(1,String(n));var r=function(){return t(n,o,et.apply(void 0,arguments))};return r.withConfig=function(r){return e(t,n,K({},o,{},r))},r.attrs=function(r){return e(t,n,K({},o,{attrs:Array.prototype.concat(o.attrs,r).filter(Boolean)}))},r}(mt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ft[e]=ft(e)}));var gt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Oe(e),Ee.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,o){var r=o(Ye(this.rules,t,n,o).join(""),""),i=this.componentId+e;n.insertRules(i,i,r)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,o){e>2&&Ee.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,o)},e}();function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=et.apply(void 0,[e].concat(n)),i="sc-global-"+it(JSON.stringify(r)),a=new gt(r,i);function s(e){var t=je(),n=We(),o=(0,j.useContext)(pt),r=(0,j.useRef)(t.allocateGSInstance(i)).current;return t.server&&l(r,e,t,o,n),null}function l(e,t,n,o,r){if(a.isStatic)a.renderStyles(e,ae,n,r);else{var i=K({},t,{theme:tt(t,o,s.defaultProps)});a.renderStyles(e,i,n,r)}}return j.default.memo(s)}var vt=/^\s*<\/[a-z]/i,kt=(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ke();return"<style "+[n&&'nonce="'+n+'"',oe+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?se(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return se(2);var n=((t={})[oe]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),o=ke();return o&&(n.nonce=o),[j.default.createElement("style",K({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ee({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?se(2):j.default.createElement(Fe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){if(re)return se(3);if(this.sealed)return se(2);this.seal();var t=n(79681),o=(t.Readable,t.Transform),r=e,i=this.instance,a=this._emitSheetCSS,s=new o({transform:function(e,t,n){var o=e.toString(),r=a();if(i.clearTag(),vt.test(o)){var s=o.indexOf(">")+1,l=o.slice(0,s),c=o.slice(s);this.push(l+r+c)}else this.push(r+o);n()}});return r.on("error",(function(e){s.emit("error",e)})),r.pipe(s)}}(),function(e){var t=j.default.forwardRef((function(t,n){var o=(0,j.useContext)(pt),r=e.defaultProps,i=tt(t,o,r);return j.default.createElement(e,K({},t,{theme:i,ref:n}))}));return(0,G.default)(t,e),t.displayName="WithTheme("+te(e)+")",t}),wt=ft,xt={almostBlack:"#181A1B",lightBlack:"#2F3336",almostWhite:"#E6E6E6",white:"#FFF",white10:"rgba(255, 255, 255, 0.1)",black:"#000",black10:"rgba(0, 0, 0, 0.1)",primary:"#007AFF",greyLight:"#F4F7FA",grey:"#E8EBED",greyMid:"#C5CCD3",greyDark:"#DAE1E9"},yt=b(g({},xt),{fontFamily:"-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen, Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif",fontFamilyMono:"'SFMono-Regular',Consolas,'Liberation Mono', Menlo, Courier,monospace",fontWeight:400,zIndex:100,link:xt.primary,placeholder:"rgba(82,82,82,0.6)",textSecondary:"#4E5C6E",textLight:xt.white,textHighlight:"#b3e7ff",textHighlightForeground:xt.black,selected:xt.primary,codeComment:"#6a737d",codePunctuation:"#5e6687",codeNumber:"#d73a49",codeProperty:"#c08b30",codeTag:"#3d8fd1",codeString:"#032f62",codeSelector:"#6679cc",codeAttr:"#c76b29",codeEntity:"#22a2c9",codeKeyword:"#d73a49",codeFunction:"#6f42c1",codeStatement:"#22a2c9",codePlaceholder:"#3d8fd1",codeInserted:"#202746",codeImportant:"#c94922",blockToolbarBackground:xt.white,blockToolbarTrigger:xt.greyMid,blockToolbarTriggerIcon:xt.white,blockToolbarItem:xt.almostBlack,blockToolbarIcon:void 0,blockToolbarIconSelected:xt.black,blockToolbarText:xt.almostBlack,blockToolbarTextSelected:xt.black,blockToolbarSelectedBackground:xt.greyMid,blockToolbarHoverBackground:xt.greyLight,blockToolbarDivider:xt.greyMid,noticeInfoBackground:"#fEd4A4",noticeInfoText:xt.almostBlack,noticeTipBackground:"#9E5CF7",noticeTipText:xt.white,noticeWarningBackground:"#FF5C80",noticeWarningText:xt.white}),Ct=b(g({},yt),{background:xt.white,text:xt.almostBlack,code:xt.lightBlack,cursor:xt.black,divider:xt.greyMid,toolbarBackground:xt.lightBlack,toolbarHoverBackground:xt.black,toolbarInput:xt.white10,toolbarItem:xt.white,tableDivider:"#EBEBEB",tableSelected:xt.primary,tableSelectedBackground:"#E5F7FF",quote:xt.greyDark,codeBackground:xt.greyLight,codeBorder:xt.grey,horizontalRule:xt.greyMid,imageErrorBackground:xt.greyLight,scrollbarBackground:xt.greyLight,scrollbarThumb:xt.greyMid}),St=b(g({},yt),{background:xt.almostBlack,text:xt.almostWhite,code:xt.almostWhite,cursor:xt.white,divider:"#4E5C6E",placeholder:"#52657A",toolbarBackground:xt.white,toolbarHoverBackground:xt.greyMid,toolbarInput:xt.black10,toolbarItem:xt.lightBlack,tableDivider:xt.lightBlack,tableSelected:xt.primary,tableSelectedBackground:"#002333",quote:xt.greyDark,codeBackground:xt.black,codeBorder:xt.lightBlack,codeString:"#3d8fd1",horizontalRule:xt.lightBlack,imageErrorBackground:"rgba(0, 0, 0, 0.5)",scrollbarBackground:xt.black,scrollbarThumb:xt.lightBlack}),Mt=Ct,Et={addColumnAfter:"\u53f3\u4fa7\u63d2\u5165\u5217",addColumnBefore:"\u5de6\u4fa7\u63d2\u5165\u5217",addRowAfter:"\u4e0b\u65b9\u63d2\u5165\u884c",addRowBefore:"\u4e0a\u65b9\u63d2\u5165\u884c",alignCenter:"\u5c45\u4e2d\u5bf9\u9f50",alignLeft:"\u5de6\u5bf9\u9f50",alignRight:"\u53f3\u5bf9\u9f50",originWidth:"\u539f\u672c\u5bbd\u5ea6",fullWidth:"\u5168\u5bbd",bulletList:"\u65e0\u5e8f\u5217\u8868",checkboxList:"\u5f85\u529e\u4efb\u52a1",codeBlock:"\u4ee3\u7801\u5757",codeCopied:"\u590d\u5236\u6210\u529f",codeInline:"Code",createLink:"Create link",createLinkError:"Sorry, an error occurred creating the link",createTexError:"Sorry, an error occurred creating the tex",createNewDoc:"Create a new doc",deleteColumn:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",deleteImage:"Delete image",downloadImage:"Download image",replaceImage:"Replace image",alignImageLeft:"Float left half width",alignImageRight:"Float right half width",alignImageDefault:"Center large",em:"Italic",embedInvalidLink:"Sorry, that link won\u2019t work for this embed type",findOrCreateDoc:"Find or create a doc\u2026",h1:"\u4e00\u7ea7\u6807\u9898",h2:"\u4e8c\u7ea7\u6807\u9898",h3:"\u4e09\u7ea7\u6807\u9898",h4:"\u56db\u7ea7\u6807\u9898",h5:"\u4e94\u7ea7\u6807\u9898",h6:"\u516d\u7ea7\u6807\u9898",custom:"\u81ea\u5b9a\u4e49\u6807\u9898",heading:"Heading",hr:"\u5206\u9694\u7ebf",image:"\u56fe\u7247",video:"\u89c6\u9891",imageUploadError:"Sorry, an error occurred uploading the image",videoUploadError:"Sorry, an error occurred uploading the video",imageCaptionPlaceholder:"Write a caption",info:"Info",infoNotice:"\u9ad8\u4eae\u5757(info)",link:"\u94fe\u63a5",linkCopied:"Link copied to clipboard",mark:"Highlight",newLineEmpty:"\u8f93\u5165 \u201c/\u201d \u5feb\u901f\u6dfb\u52a0\u5185\u5bb9",newLineWithSlash:"\u5feb\u901f\u6dfb\u52a0\u5185\u5bb9",noResults:"No results",openLink:"Open link",orderedList:"\u6709\u5e8f\u5217\u8868",pageBreak:"\u5206\u9875\u7ebf",pasteLink:"Paste a link\u2026",pasteLinkWithTitle:e=>`Paste a ${e} link\u2026`,placeholder:"Placeholder",quote:"\u5f15\u7528",removeLink:"Remove link",searchOrPasteLink:"\u8f93\u5165\u94fe\u63a5URL",linkTitle:"\u8f93\u5165\u94fe\u63a5\u6587\u672c",strikethrough:"Strikethrough",strong:"Bold",subheading:"Subheading",table:"\u8868\u683c",tip:"Tip",tipNotice:"\u9ad8\u4eae\u5757(notice)",warning:"Warning",warningNotice:"\u9ad8\u4eae\u5757(warning)",blockEquation:"\u516c\u5f0f",inputOrPasteTeX:"\u8f93\u5165\u516c\u5f0f",commonText:"\u6b63\u6587"},Lt=wt.div`
  display: flex;
  flex: ${({auto:e})=>e?"1 1 auto":"initial"};
  flex-direction: ${({column:e})=>e?"column":"row"};
  align-items: ${({align:e})=>e};
  justify-content: ${({justify:e})=>e};
`,At=x(n(67294)),It=n(47175),$t=x(n(34081)),Tt=n(42391),Ot=x(n(67294)),Rt=Ot.default.forwardRef((function(){return Ot.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ot.default.createElement("path",{d:"M5.41333 4H14M5.41333 8.32H14M5.41333 12.64H14M2 4V4.00853M2 8.32V8.32853M2 12.64V12.6485",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Pt=x(n(67294)),Dt=Pt.default.forwardRef((function(){return Pt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pt.default.createElement("g",{clipPath:"url(#clip0_36_15267)"},Pt.default.createElement("path",{d:"M7.2001 3.2001H14.4001M7.2001 8.0001H14.4001M8.0001 12.8001H14.4001M1.6001 11.2001C1.6001 10.7758 1.76867 10.3688 2.06873 10.0687C2.36878 9.76867 2.77575 9.6001 3.2001 9.6001C3.62444 9.6001 4.03141 9.76867 4.33147 10.0687C4.63153 10.3688 4.8001 10.7758 4.8001 11.2001C4.8001 11.6729 4.4001 12.0001 4.0001 12.4001L1.6001 14.4001H4.8001M3.2001 6.4001V1.6001L1.6001 3.2001",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"})),Pt.default.createElement("defs",null,Pt.default.createElement("clipPath",{id:"clip0_36_15267"},Pt.default.createElement("rect",{width:"16",height:"16",fill:"white"}))))})),Nt=x(n(67294)),_t=Nt.default.forwardRef((function(){return Nt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Nt.default.createElement("path",{d:"M1.6001 14.4001V12.3244C1.6001 11.5602 2.22813 10.9406 3.00284 10.9406L12.9974 10.9406C13.7721 10.9406 14.4001 11.5602 14.4001 12.3244V14.4001M1.6001 1.6001V3.67577C1.6001 4.44002 2.22813 5.05956 3.00284 5.05956H12.9974C13.7721 5.05956 14.4001 4.44002 14.4001 3.67577V1.6001M1.6001 8.00014H1.64281M4.74671 8.00014H4.78942M7.97874 8.00014H8.02146M11.1681 8.00014H11.2108M14.3574 8.00014H14.4001",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Bt=x(n(67294)),zt=Bt.default.forwardRef((function(){return Bt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bt.default.createElement("path",{d:"M2.10254 13.3334V8.00008M2.10254 8.00008V2.66675M2.10254 8.00008H9.23074M9.23074 8.00008V13.3334M9.23074 8.00008V2.66675M13.6 13.4667V11.0667V8.66675L12 10.2667",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Ht=x(n(67294)),Vt=Ht.default.forwardRef((function(){return Ht.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht.default.createElement("path",{d:"M11.3333 10.0001C11.3333 9.5758 11.5019 9.16883 11.802 8.86878C12.102 8.56872 12.509 8.40015 12.9333 8.40015C13.3577 8.40015 13.7646 8.56872 14.0647 8.86878C14.3648 9.16883 14.5333 9.5758 14.5333 10.0001C14.5333 10.4729 14.1333 10.8001 13.7333 11.2001L11.3333 13.2001H14.5333M2.10254 13.3334V8.00008M2.10254 8.00008V2.66675M2.10254 8.00008H9.23074M9.23074 8.00008V13.3334M9.23074 8.00008V2.66675",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),jt=x(n(67294)),Wt=jt.default.forwardRef((function(){return jt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.default.createElement("path",{d:"M11.2667 9.33348C11.2667 8.90913 11.4352 8.50217 11.7353 8.20211C12.0354 7.90205 12.4423 7.73348 12.8667 7.73348C13.291 7.73348 13.698 7.90205 13.998 8.20211C14.2981 8.50217 14.4667 8.90913 14.4667 9.33348C14.4667 9.80628 14.0667 10.1335 13.6667 10.5335C14.0667 10.9335 14.4667 11.2606 14.4667 11.7334C14.4667 12.1578 14.2981 12.5647 13.998 12.8648C13.698 13.1648 13.291 13.3334 12.8667 13.3334C12.4423 13.3334 12.0354 13.1648 11.7353 12.8648C11.4352 12.5647 11.2667 12.1578 11.2667 11.7334M2.10254 13.3334V8.00008M2.10254 8.00008V2.66675M2.10254 8.00008H9.23074M9.23074 8.00008V13.3334M9.23074 8.00008V2.66675",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Ft=x(n(67294)),Ut=Ft.default.forwardRef((function(){return Ft.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ft.default.createElement("path",{d:"M3.91901 5.79375L2.43004 7.28272C1.87395 7.83881 1.55416 8.59545 1.56 9.39066C1.56585 10.1859 1.87864 10.9471 2.46111 11.5116C3.02557 12.0941 3.78699 12.4069 4.58207 12.4127C5.39529 12.4187 6.13402 12.1169 6.69014 11.5608L8.17911 10.0719M10.081 8.20636L11.57 6.71739C12.126 6.1613 12.4458 5.40466 12.44 4.60945C12.4341 3.81424 12.1214 3.05299 11.5389 2.4885C10.9746 1.92417 10.2133 1.61137 9.41806 1.60552C8.62285 1.59968 7.86611 1.90131 7.30999 2.45742L5.82102 3.94639M4.74207 9.21817L9.20898 4.75126",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Zt=x(n(67294)),qt=Zt.default.forwardRef((function(){return Zt.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zt.default.createElement("rect",{width:"14",height:"14",transform:"translate(0 0.00463867)",fill:"#F2F2F2"}),Zt.default.createElement("path",{d:"M7.00005 2.80469L7.00005 11.2047M11.2 7.00469L2.80005 7.00469",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round"}))})),Gt=x(n(67294)),Kt=Gt.default.forwardRef((function(){return Gt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gt.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.3335 4.5C1.3335 4.22386 1.54669 4 1.80969 4H2.62382C5.23678 4 7.355 5.96995 7.355 8.4V11.5C7.355 11.7761 7.1418 12 6.87881 12H5.25055C4.98755 12 4.77436 11.7761 4.77436 11.5V8.4C4.77436 7.29543 3.81153 6.4 2.62382 6.4H1.80969C1.54669 6.4 1.3335 6.17614 1.3335 5.9V4.5ZM8.64532 4.5C8.64532 4.22386 8.85852 4 9.12151 4H9.93565C12.5486 4 14.6668 5.96995 14.6668 8.4V11.5C14.6668 11.7761 14.4536 12 14.1906 12H12.5624C12.2994 12 12.0862 11.7761 12.0862 11.5V8.4C12.0862 7.29543 11.1234 6.4 9.93565 6.4H9.12151C8.85852 6.4 8.64532 6.17614 8.64532 5.9V4.5Z",stroke:"#525252",strokeWidth:"1.33"}))})),Jt=x(n(67294)),Xt=Jt.default.forwardRef((function(){return Jt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt.default.createElement("path",{d:"M6.6651 1.6001C6.6651 1.23283 6.36737 0.935098 6.0001 0.935098C5.63283 0.935098 5.3351 1.23283 5.3351 1.6001H6.6651ZM5.3351 14.4001C5.3351 14.7674 5.63283 15.0651 6.0001 15.0651C6.36737 15.0651 6.6651 14.7674 6.6651 14.4001H5.3351ZM4.0001 2.2651H12.0001V0.935098H4.0001V2.2651ZM13.7351 4.0001V12.0001H15.0651V4.0001H13.7351ZM12.0001 13.7351H4.0001V15.0651H12.0001V13.7351ZM2.2651 12.0001V4.0001H0.935098V12.0001H2.2651ZM4.0001 13.7351C3.04188 13.7351 2.2651 12.9583 2.2651 12.0001H0.935098C0.935098 13.6929 2.30735 15.0651 4.0001 15.0651V13.7351ZM13.7351 12.0001C13.7351 12.9583 12.9583 13.7351 12.0001 13.7351V15.0651C13.6929 15.0651 15.0651 13.6929 15.0651 12.0001H13.7351ZM12.0001 2.2651C12.9583 2.2651 13.7351 3.04188 13.7351 4.0001H15.0651C15.0651 2.30735 13.6929 0.935098 12.0001 0.935098V2.2651ZM4.0001 0.935098C2.30735 0.935098 0.935098 2.30735 0.935098 4.0001H2.2651C2.2651 3.04188 3.04188 2.2651 4.0001 2.2651V0.935098ZM5.3351 1.6001V14.4001H6.6651V1.6001H5.3351ZM2.0001 6.6651H14.0001V5.3351H2.0001V6.6651Z",fill:"#525252"}))})),Yt=x(n(67294)),Qt=Yt.default.forwardRef((function(){return Yt.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yt.default.createElement("path",{d:"M4.72617 13.4918H4.38822C3.45498 13.4918 2.69845 12.7353 2.69845 11.802V8.42249C2.69845 7.90194 1.6001 7.6621 1.6001 7.6621C1.6001 7.6621 2.69845 7.46164 2.69845 6.9017V4.19807C2.69845 3.26484 3.45498 2.5083 4.38822 2.5083H4.72617M11.274 2.5083H11.612C12.5452 2.5083 13.3017 3.26484 13.3017 4.19807V7.57761C13.3017 8.09816 14.4001 8.338 14.4001 8.338C14.4001 8.338 13.3017 8.53846 13.3017 9.0984L13.3017 11.802C13.3017 12.7353 12.5452 13.4918 11.612 13.4918H11.274",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),en=x(n(67294)),tn=en.default.forwardRef((function(){return en.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en.default.createElement("path",{d:"M1.98794 13.0089C1.72825 13.2686 1.72825 13.6897 1.98794 13.9494C2.24764 14.2091 2.6687 14.2091 2.9284 13.9494L1.98794 13.0089ZM5.62484 10.3125L6.09506 9.84227C5.97035 9.71756 5.80121 9.6475 5.62484 9.6475C5.44847 9.6475 5.27932 9.71756 5.15461 9.84227L5.62484 10.3125ZM7.20817 11.8958L6.73794 12.3661C6.86266 12.4908 7.0318 12.5608 7.20817 12.5608C7.38454 12.5608 7.55368 12.4908 7.6784 12.3661L7.20817 11.8958ZM10.7707 8.33333L11.2409 7.86311C11.1162 7.7384 10.947 7.66833 10.7707 7.66833C10.5943 7.66833 10.4252 7.7384 10.3004 7.86311L10.7707 8.33333ZM13.4671 11.9702C13.7268 12.2299 14.1479 12.2299 14.4076 11.9702C14.6673 11.7105 14.6673 11.2895 14.4076 11.0298L13.4671 11.9702ZM2.9284 13.9494L6.09506 10.7827L5.15461 9.84227L1.98794 13.0089L2.9284 13.9494ZM5.15461 10.7827L6.73794 12.3661L7.6784 11.4256L6.09506 9.84227L5.15461 10.7827ZM7.6784 12.3661L11.2409 8.80356L10.3004 7.86311L6.73794 11.4256L7.6784 12.3661ZM10.3004 8.80356L13.4671 11.9702L14.4076 11.0298L11.2409 7.86311L10.3004 8.80356ZM4.0415 2.665H11.9582V1.335H4.0415V2.665ZM13.6682 4.375V12.2917H14.9982V4.375H13.6682ZM11.9582 14.0017H4.0415V15.3317H11.9582V14.0017ZM2.3315 12.2917V4.375H1.0015V12.2917H2.3315ZM4.0415 14.0017C3.0971 14.0017 2.3315 13.2361 2.3315 12.2917H1.0015C1.0015 13.9706 2.36256 15.3317 4.0415 15.3317V14.0017ZM13.6682 12.2917C13.6682 13.2361 12.9026 14.0017 11.9582 14.0017V15.3317C13.6371 15.3317 14.9982 13.9706 14.9982 12.2917H13.6682ZM11.9582 2.665C12.9026 2.665 13.6682 3.43059 13.6682 4.375H14.9982C14.9982 2.69605 13.6371 1.335 11.9582 1.335V2.665ZM4.0415 1.335C2.36256 1.335 1.0015 2.69605 1.0015 4.375H2.3315C2.3315 3.43059 3.0971 2.665 4.0415 2.665V1.335ZM5.7515 5.5625C5.7515 5.85107 5.51757 6.085 5.229 6.085V7.415C6.25211 7.415 7.0815 6.58561 7.0815 5.5625H5.7515ZM5.229 6.085C4.94043 6.085 4.7065 5.85107 4.7065 5.5625H3.3765C3.3765 6.58561 4.2059 7.415 5.229 7.415V6.085ZM4.7065 5.5625C4.7065 5.27393 4.94043 5.04 5.229 5.04V3.71C4.2059 3.71 3.3765 4.53939 3.3765 5.5625H4.7065ZM5.229 5.04C5.51757 5.04 5.7515 5.27393 5.7515 5.5625H7.0815C7.0815 4.53939 6.25211 3.71 5.229 3.71V5.04Z",fill:"#525252"}))})),nn=x(n(67294)),on=(nn.default.forwardRef((function(){return nn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nn.default.createElement("path",{d:"M2.15869 13C3.0423 11.5262 4.97888 10.5175 8.00021 10.5175C11.0215 10.5175 12.9581 11.5262 13.8417 13M10.4002 5.4C10.4002 6.72548 9.32569 7.8 8.00021 7.8C6.67472 7.8 5.60021 6.72548 5.60021 5.4C5.60021 4.07452 6.67472 3 8.00021 3C9.32569 3 10.4002 4.07452 10.4002 5.4Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round"}))})),x(n(67294))),rn=(on.default.forwardRef((function(){return on.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on.default.createElement("path",{d:"M7.16531 12.4522H14.4001M1.6001 3.54785L6.05227 8.00003L1.6001 12.4522",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),x(n(67294))),an=rn.default.forwardRef((function(){return rn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rn.default.createElement("path",{d:"M9.19961 11.2001V4.8001M6.79961 11.2001V4.8001M11.9996 1.6001L3.99961 1.6001C2.67413 1.6001 1.59961 2.67461 1.59961 4.0001L1.59961 12.0001C1.59961 13.3256 2.67413 14.4001 3.99961 14.4001H11.9996C13.3251 14.4001 14.3996 13.3256 14.3996 12.0001V4.0001C14.3996 2.67462 13.3251 1.6001 11.9996 1.6001Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),sn=x(n(67294)),ln=sn.default.forwardRef((function(){return sn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},sn.default.createElement("path",{d:"M4.79961 4.8001L4.79961 11.2001M7.19961 4.8001L7.19961 11.2001M3.99961 14.4001H11.9996C13.3251 14.4001 14.3996 13.3256 14.3996 12.0001V4.0001C14.3996 2.67461 13.3251 1.6001 11.9996 1.6001H3.99961C2.67413 1.6001 1.59961 2.67461 1.59961 4.0001V12.0001C1.59961 13.3256 2.67413 14.4001 3.99961 14.4001Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),cn=x(n(67294)),dn=cn.default.forwardRef((function(){return cn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cn.default.createElement("path",{d:"M11.1996 11.2001V4.8001M8.79961 11.2001V4.8001M11.9996 1.6001L3.99961 1.6001C2.67413 1.6001 1.59961 2.67461 1.59961 4.0001L1.59961 12.0001C1.59961 13.3256 2.67413 14.4001 3.99961 14.4001H11.9996C13.3251 14.4001 14.3996 13.3256 14.3996 12.0001V4.0001C14.3996 2.67462 13.3251 1.6001 11.9996 1.6001Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),pn=x(n(67294)),un=pn.default.forwardRef((function(){return pn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pn.default.createElement("path",{d:"M5.13372 1.3999H2.64484C1.95755 1.3999 1.40039 1.95706 1.40039 2.64435V5.13324M5.13372 12.5999H2.64484C1.95755 12.5999 1.40039 12.0427 1.40039 11.3555V8.86657M8.86706 1.3999H11.3559C12.0432 1.3999 12.6004 1.95706 12.6004 2.64435V5.13324M12.6004 8.86657V11.3555C12.6004 12.0427 12.0432 12.5999 11.3559 12.5999H8.86706",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round"}))})),hn=x(n(67294)),mn=hn.default.forwardRef((function(){return hn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hn.default.createElement("path",{d:"M1.85347 8.7499C2.58833 10.9857 4.69296 12.5999 7.17461 12.5999C10.2674 12.5999 12.7746 10.0927 12.7746 6.9999C12.7746 3.90711 10.2674 1.3999 7.17461 1.3999C5.10182 1.3999 3.29206 2.52606 2.32379 4.1999M4.02461 4.8999H1.22461V2.0999",stroke:"#525252",strokeWidth:"1.17",strokeLinecap:"round",strokeLinejoin:"round"}))})),fn=x(n(67294)),gn=fn.default.forwardRef((function(){return fn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fn.default.createElement("path",{d:"M6.2999 10.3295L7.6999 3.6795M3.4999 9.27951L1.3999 7.17951L3.4999 5.0795M10.4999 5.0795L12.5999 7.17951L10.4999 9.27951",stroke:"#525252",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))})),bn=x(n(67294)),vn=bn.default.forwardRef((function(){return bn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bn.default.createElement("path",{d:"M2.7998 7.00466V12.6047H8.61519C10.1616 12.6047 11.4152 11.3511 11.4152 9.80466C11.4152 8.25826 10.1616 7.00466 8.61519 7.00466H2.7998ZM2.7998 7.00466H7.75365C9.30005 7.00466 10.5537 5.75106 10.5537 4.20466C10.5537 2.65827 9.30005 1.40466 7.75365 1.40466H2.7998V7.00466Z",stroke:"#525252",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))})),kn=x(n(67294)),wn=kn.default.forwardRef((function(){return kn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kn.default.createElement("path",{d:"M5.74613 11.9047L8.57724 2.10468M5.74613 11.9047H2.80029M5.74613 11.9047H8.69196M8.57724 2.10468H5.6314M8.57724 2.10468H11.5231",stroke:"#525252",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))})),xn=x(n(67294)),yn=xn.default.forwardRef((function(){return xn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xn.default.createElement("path",{d:"M6.05714 12.8001H8.23529M8.23529 12.8001H10.5143M8.23529 12.8001V3.20007M8.23529 3.20007H4.68571C4.307 3.20007 4 3.50708 4 3.88579V4.89419M8.23529 3.20007H11.5025C11.8812 3.20007 12.1882 3.50708 12.1882 3.88579V5.17654",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Cn=x(n(67294)),Sn=(Cn.default.forwardRef((function(){return Cn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cn.default.createElement("path",{d:"M4.72617 13.4918H4.38822C3.45498 13.4918 2.69845 12.7353 2.69845 11.802V8.42249C2.69845 7.90194 1.6001 7.6621 1.6001 7.6621C1.6001 7.6621 2.69845 7.46164 2.69845 6.9017V4.19807C2.69845 3.26484 3.45498 2.5083 4.38822 2.5083H4.72617M11.274 2.5083H11.612C12.5452 2.5083 13.3017 3.26484 13.3017 4.19807V7.57761C13.3017 8.09816 14.4001 8.338 14.4001 8.338C14.4001 8.338 13.3017 8.53846 13.3017 9.0984L13.3017 11.802C13.3017 12.7353 12.5452 13.4918 11.612 13.4918H11.274",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),x(n(67294))),Mn=Sn.default.forwardRef((function(){return Sn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Sn.default.createElement("path",{d:"M1.59961 3.60459H14.3996M5.59961 1.20459H10.3996M6.39961 11.6046V6.80459M9.59961 11.6046V6.80459M10.7996 14.8046H5.19961C4.31595 14.8046 3.59961 14.0882 3.59961 13.2046L3.23433 4.43789C3.21539 3.98339 3.57874 3.60459 4.03364 3.60459H11.9656C12.4205 3.60459 12.7838 3.98339 12.7649 4.43789L12.3996 13.2046C12.3996 14.0882 11.6833 14.8046 10.7996 14.8046Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),En=x(n(67294)),Ln=En.default.forwardRef((function(){return En.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},En.default.createElement("path",{d:"M7 13.3334L2 8.00008M2 8.00008L7 2.66675M2 8.00008H14",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),An=x(n(67294)),In=An.default.forwardRef((function(){return An.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},An.default.createElement("path",{d:"M9 2.66675L14 8.00008M14 8.00008L9 13.3334M14 8.00008L2 8.00008",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),$n=x(n(67294)),Tn=$n.default.forwardRef((function(){return $n.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$n.default.createElement("path",{d:"M3.88672 7.19995L8.001 3.19995M8.001 3.19995L12.1153 7.19995M8.001 3.19995V12.8",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),On=x(n(67294)),Rn=On.default.forwardRef((function(){return On.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},On.default.createElement("path",{d:"M12.1153 8.79995L8.001 12.8M8.001 12.8L3.88672 8.79995M8.001 12.8L8.00101 3.19995",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Pn=x(n(67294)),Dn=Pn.default.forwardRef((function(){return Pn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pn.default.createElement("path",{d:"M1.6001 4.26676C1.6001 2.794 2.794 1.6001 4.26676 1.6001H11.7334C13.2062 1.6001 14.4001 2.794 14.4001 4.26676V11.7334C14.4001 13.2062 13.2062 14.4001 11.7334 14.4001H4.26676C2.794 14.4001 1.6001 13.2062 1.6001 11.7334V4.26676Z",stroke:"#525252",strokeWidth:"1.33"}),Pn.default.createElement("path",{d:"M10.3996 7.7556C10.8681 8.02635 10.8699 8.36695 10.3996 8.67305L6.76638 11.2142C6.30987 11.4668 5.99982 11.3176 5.96727 10.771L5.95185 5.45248C5.94158 4.94891 6.34156 4.80664 6.7227 5.04807L10.3996 7.7556Z",stroke:"#525252",strokeWidth:"1.33"}))})),Nn=x(n(67294)),_n=Nn.default.forwardRef((function(){return Nn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Nn.default.createElement("path",{d:"M9.10039 7.0042H7.00039M7.00039 7.0042H4.90039M7.00039 7.0042V9.1042M7.00039 7.0042L7.00039 4.9042M12.6004 7.00454C12.6004 10.0973 10.0932 12.6045 7.00039 12.6045C3.9076 12.6045 1.40039 10.0973 1.40039 7.00454C1.40039 3.91175 3.9076 1.40454 7.00039 1.40454C10.0932 1.40454 12.6004 3.91175 12.6004 7.00454Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round"}))})),Bn=x(n(67294)),zn=Bn.default.forwardRef((function(){return Bn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bn.default.createElement("path",{d:"M1.6001 5.47483L5.39133 9.26607M5.39133 9.26607L9.18257 13.0573M5.39133 9.26607L9.18257 5.47483M5.39133 9.26607L1.6001 13.0573M11.2688 4.73159C11.2688 4.30725 11.4374 3.90028 11.7375 3.60022C12.0375 3.30016 12.4445 3.13159 12.8688 3.13159C13.2932 3.13159 13.7002 3.30016 14.0002 3.60022C14.3003 3.90028 14.4688 4.30725 14.4688 4.73159C14.4688 5.20439 14.0688 5.53159 13.6688 5.93159L11.2688 7.93159H14.4688",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Hn=x(n(67294)),Vn=Hn.default.forwardRef((function(){return Hn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hn.default.createElement("path",{d:"M5.50747 11.1999V7.87678M5.50747 7.87678V4.5537M5.50747 7.87678H10.4921M10.4921 7.87678V11.1999M10.4921 7.87678V4.5537M3.19985 14.4H12.7999C13.6835 14.4 14.3999 13.6836 14.3999 12.8V3.19998C14.3999 2.31632 13.6835 1.59998 12.7999 1.59998H3.19985C2.3162 1.59998 1.59985 2.31632 1.59985 3.19998V12.8C1.59985 13.6836 2.3162 14.4 3.19985 14.4Z",stroke:"#525252",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}))})),jn=x(n(67294)),Wn=jn.default.forwardRef((function(){return jn.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jn.default.createElement("path",{d:"M1.40039 3.15469H12.6004M4.90039 1.05469H9.10039M5.60039 10.1547V5.95469M8.40039 10.1547V5.95469M9.45039 12.9547H4.55039C3.77719 12.9547 3.15039 12.3279 3.15039 11.5547L2.83077 3.88383C2.8142 3.48614 3.13213 3.15469 3.53016 3.15469H10.4706C10.8686 3.15469 11.1866 3.48614 11.17 3.88383L10.8504 11.5547C10.8504 12.3279 10.2236 12.9547 9.45039 12.9547Z",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Fn=x(n(67294)),Un=Fn.default.forwardRef((function(){return Fn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fn.default.createElement("path",{d:"M14.3996 13.2H1.59961M13.1996 9.73328H3.78352M14.3996 6.26662H1.59961M11.5996 3.19995L4.75823 3.19995",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Zn=x(n(67294)),qn=Zn.default.forwardRef((function(){return Zn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zn.default.createElement("path",{d:"M1.60039 2.3999L14.4004 2.3999M1.60039 5.86657L11.0165 5.86657M1.60039 9.33324L14.4004 9.33324M1.60039 12.7999L8.44177 12.7999",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Gn=x(n(67294)),Kn=Gn.default.forwardRef((function(){return Gn.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gn.default.createElement("path",{d:"M14.3996 12.7999H1.59961M14.3996 9.33324H4.98352M14.3996 5.86657H1.59961M14.3996 2.3999L7.55823 2.3999",stroke:"#525252",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}))})),Jn=n(69124),Xn=(e,t={})=>n=>{if(!e)return!1;const o=(0,Jn.findSelectedNodeOfType)(e)(n.selection)||(0,Jn.findParentNode)((t=>t.type===e))(n.selection);return Object.keys(t).length&&o?o.node.hasMarkup(e,g(g({},o.node.attrs),t)):!!o};function Yn(e){return[{name:"deleteTable",tooltip:e.deleteTable,icon:Wn,active:()=>!1}]}var Qn=n(31640);function eo(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(["ordered_list","bullet_list","checkbox_list"].includes(t.node(n).type.name))return!0;return!1}var to=e=>t=>{if(!e)return!1;const{from:n,$from:o,to:r,empty:i}=t.selection;return i?e.isInSet(t.storedMarks||o.marks()):t.doc.rangeHasMark(n,r,e)},no=e=>{const{from:t,to:n}=e.selection,o=e.doc.childAfter(t);return e.doc.childBefore(n).index===o.index};var oo=x(n(67294)),ro=n(47175),io=n(30215),ao=n(67294);var so=n(67294);var lo=n(67294);function co(e){if(!(e.isColSelection&&e.isColSelection()))return;const t=e.$from.path;return t[t.length-5]}function po(e){if(!(e.isRowSelection&&e.isRowSelection()))return;const t=e.$from.path;return t[t.length-8]}var uo=n(69124),ho="undefined"===typeof window,mo={left:-1e3,top:0,offset:0,visible:!1};function fo({menuRef:e,isSelectingText:t,props:n}){const{view:o,active:r}=n,{selection:i}=o.state,{width:a,height:s}=function(e){const[t,n]=(0,ao.useState)({width:0,height:0});return(0,ao.useEffect)((()=>{const o=new io.ResizeObserver((e=>{e.forEach((({target:e})=>{t.width===e.clientWidth&&t.height===e.clientHeight||n({width:e.clientWidth,height:e.clientHeight})}))}));return o.observe(e.current),()=>o.disconnect()}),[e]),t}(e),l=function(){const[e,t]=(0,lo.useState)((()=>{var e;return(null==(e=window.visualViewport)?void 0:e.height)||window.innerHeight}));return(0,lo.useLayoutEffect)((()=>{var e;const n=()=>{t((()=>{var e;return(null==(e=window.visualViewport)?void 0:e.height)||window.innerHeight}))};return null==(e=window.visualViewport)||e.addEventListener("resize",n),()=>{var e;null==(e=window.visualViewport)||e.removeEventListener("resize",n)}}),[]),e}(),c=function(e){const[t,n]=(0,so.useState)(!1);return(0,so.useEffect)((()=>{if(window.matchMedia){const o=window.matchMedia(e);o.matches!==t&&n(o.matches);const r=()=>{n(o.matches)};return o.addListener(r),()=>o.removeListener(r)}}),[t,e]),t}("(hover: none) and (pointer: coarse)");if(!r||!a||!s||ho||t)return mo;if(c&&l)return{left:0,right:0,top:l-s,offset:0,visible:!0};let d,p;try{d=o.coordsAtPos(i.from),p=o.coordsAtPos(i.to,-1)}catch(C){return console.warn(C),mo}const u={top:Math.min(d.top,p.top),bottom:Math.max(d.bottom,p.bottom),left:Math.min(d.left,p.left),right:Math.max(d.right,p.right)};if(Xn(o.state.schema.nodes.code_block)(o.state)){const e=o.domAtPos(i.from),t=o.state.doc.cut(o.state.selection.from,o.state.selection.to).textContent;if(e.node&&!t){let t=e.node;for(;"PRE"!==t.tagName&&t.parentElement;)t=t.parentElement;const{left:n,top:o,width:r}=t.getBoundingClientRect();return u.top=o,u.left=n,{left:Math.round(n+r+5),top:Math.round(o+window.scrollY-s+38),offset:0,visible:!0}}}const h=co(i),m=po(i),f=(0,uo.getCellsInRow)(0)(i),g=(0,uo.getCellsInColumn)(0)(i);if(void 0===m&&void 0===h&&f&&g){const e=o.domAtPos(i.from),t=o.state.doc.cut(o.state.selection.from,o.state.selection.to).textContent;if(e.node&&!t){let t=e.node;for(;("DIV"!==t.tagName||"scrollable"!==t.className)&&t.parentElement;)t=t.parentElement;const{left:n,top:o,width:r}=t.getBoundingClientRect();return u.top=o,u.left=n,{left:Math.round(n+r+5),top:Math.round(o+window.scrollY-s+45),offset:0,visible:!0}}}const b=i.isColSelection&&i.isColSelection(),v=i.isRowSelection&&i.isRowSelection();if(b){const{node:e}=o.domAtPos(i.from),{width:t}=e.getBoundingClientRect();u.top-=20,u.right=u.left+t}v&&(u.right=u.left=u.left-18);const k=i.node&&"image"===i.node.type.name,w=i.node&&"video"===i.node.type.name,x=i.node&&"block_equation"===i.node.type.name,y=to(o.state.schema.marks.link)(o.state);if(k){const e=o.nodeDOM(i.from).getElementsByTagName("img")[0],{left:t,top:n,width:r}=e.getBoundingClientRect();return{left:Math.round(t+r/2+window.scrollX-a/2),top:Math.round(n+window.scrollY-s-2),offset:0,visible:!0}}if(w){const e=o.nodeDOM(i.from).querySelector(".video-wrapper"),{left:t,top:n,width:r}=e.getBoundingClientRect();return{left:Math.round(t+r/2+window.scrollX-a/2),top:Math.round(n+window.scrollY-s-5),offset:0,visible:!0}}if(x){const e=8,t=Math.min(window.innerWidth-a-e,Math.max(e,u.left)),n=Math.min(window.innerHeight-s-e,Math.max(e,u.bottom-s)),r=o.nodeDOM(i.from),{width:l,height:c}=r.getBoundingClientRect();return{left:t+l/2-160,top:Math.round(n+window.scrollY+c+120),offset:120,visible:!0}}if(n.ifCreate){const e=u.left,t=12,n=Math.min(window.innerWidth-a-t,Math.max(t,e)),o=Math.min(window.innerHeight-s-t,Math.max(t,u.top-s)),r=n-(e-a/2);return{left:Math.round(n+window.scrollX),top:Math.round(o+window.scrollY),offset:Math.round(r),visible:!0}}if(y){const e=u.left,t=12,n=Math.min(window.innerWidth-a-t,Math.max(t,e)),o=Math.min(window.innerHeight-s-t,Math.max(t,u.bottom+15)),r=n-(e-a/2);return{left:Math.round(n+window.scrollX),top:Math.round(o+window.scrollY),offset:Math.round(r),visible:!0}}{const e=Math.abs(u.right-u.left)/2,t=u.left+e,n=12,o=Math.min(window.innerWidth-a-n,Math.max(n,t-a/2)),r=Math.min(window.innerHeight-s-n,Math.max(n,u.top-s)),i=o-(t-a/2);return{left:Math.round(o+window.scrollX),top:Math.round(r+window.scrollY),offset:Math.round(i),visible:!0}}}function go(e){const t=e.forwardedRef||oo.createRef(),[n,o]=oo.useState(!1),r=fo({menuRef:t,isSelectingText:n,props:e});return oo.useEffect((()=>{const t=()=>{e.active||o(!0)},n=()=>{o(!1)};return window.addEventListener("mousedown",t),window.addEventListener("mouseup",n),()=>{window.removeEventListener("mousedown",t),window.removeEventListener("mouseup",n)}}),[e.active]),oo.createElement(ro.Portal,null,oo.createElement(bo,{active:e.active&&r.visible,ref:t,offset:r.offset,style:{top:`${r.top}px`,left:`${r.left}px`,height:e.height?e.height:void 0}},r.visible&&e.children))}var bo=wt.div`
  will-change: opacity, transform;
  padding: 4px;
  position: absolute;
  z-index: ${e=>e.theme.zIndex+1e3};
  opacity: 0;
  // background-color: ${e=>e.theme.toolbarBackground};
  background: #FFFFFF;
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04), 0px 12px 48px rgba(0, 0, 0, 0.04);
  border-radius: 5px;
  height: 32px;
  transform: scale(0.95);
  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
  transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: 150ms;
  line-height: 0;
  box-sizing: border-box;
  pointer-events: all;
  white-space: nowrap;

  // &::before {
  //   content: "";
  //   display: block;
  //   width: 24px;
  //   height: 24px;
  //   transform: translateX(-50%) rotate(45deg);
  //   background: ${e=>e.theme.toolbarBackground};
  //   border-radius: 3px;
  //   z-index: -1;
  //   position: absolute;
  //   bottom: -2px;
  //   left: calc(50% - ${e=>e.offset||0}px);
  //   pointer-events: none;
  // }

  * {
    box-sizing: border-box;
  }

  ${({active:e})=>e&&"\n    transform: translateY(-6px) scale(1);\n    opacity: 1;\n  "};

  @media print {
    display: none;
  }

  @media (hover: none) and (pointer: coarse) {
    &:before {
      display: none;
    }

    transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: scale(1);
    border-radius: 0;
    width: 100vw;
    position: fixed;
  }
`,vo=oo.forwardRef((function(e,t){return oo.createElement(go,b(g({},e),{forwardedRef:t}))})),ko=x(n(67294)),wo=n(69124);function xo(e){if(e.match(/\n/))return!1;try{return""!==new URL(e).hostname}catch(t){return!1}}var yo=wt.input`
  font-size: 15px;
  background: ${e=>e.theme.toolbarInput};
  color: ${e=>e.theme.toolbarItem};
  border-radius: 2px;
  padding: 3px 8px;
  border: 0;
  margin: 0;
  outline: none;
  flex-grow: 1;
  @media (hover: none) and (pointer: coarse) {
    font-size: 16px;
  }
  &::placeholder {
    color: rgba(82, 82, 82, 0.6);
  }
  &:focus {
    background: #fff;
  }
`,Co=bt`
  .hover-a-tag-el {
    display:none !important;
  }
`,So=class extends ko.Component{constructor(){super(...arguments),this.discardInputValue=!1,this.initialValue=this.href,this.initialSelectionLength=this.props.to-this.props.from,this.state={selectedIndex:-1,value:this.href,previousValue:"",title:this.title,results:{}},this.componentWillUnmount=()=>{if(window.gokuEditorHoverLinkEdit&&(window.gokuEditorHoverLinkEdit=!1),!this.discardInputValue)if(this.state.value!==this.initialValue)this.state.value&&this.state.title&&this.save(this.state.value,this.state.title);else{!(this.state.value||"").trim()&&this.state.title&&this.handleRemoveLink()}},this.save=(e,t)=>{if(0===(e=e.trim()).length)return;this.discardInputValue=!0;const{from:n,to:o}=this.props;xo(e)||e.startsWith("/")||e.startsWith("#")||e.startsWith("mailto:")||(e=`https://${e}`),this.props.onSelectLink({href:e,title:t,from:n,to:o})},this.handleConfirm=()=>{const{selectedIndex:e,value:t,title:n}=this.state,o=this.state.results[t]||[],{onCreateLink:r}=this.props;if(t&&n){if(e>=0){const t=o[e];t?this.save(t.url,t.title):r&&e===o.length&&this.handleCreateLink(this.suggestedLinkTitle)}else this.save(t,n);this.initialSelectionLength&&this.moveSelectionToEnd()}},this.handleKeyDown=e=>{switch(e.key){case"Enter":{e.preventDefault();const{selectedIndex:t,value:n,title:o}=this.state,r=this.state.results[n]||[],{onCreateLink:i}=this.props;if(!n||!o)return;if(t>=0){const e=r[t];e?this.save(e.url,e.title):i&&t===r.length&&this.handleCreateLink(this.suggestedLinkTitle)}else this.save(n,o);return void(this.initialSelectionLength&&this.moveSelectionToEnd())}case"Escape":return e.preventDefault(),void(this.initialValue?this.setState({value:this.initialValue},this.moveSelectionToEnd):this.handleRemoveLink())}},this.handleFocusLink=e=>{this.setState({selectedIndex:e})},this.handleChange=async e=>{const t=e.target.value;this.setState({value:t,selectedIndex:-1})},this.handleChangeTitle=async e=>{const t=e.target.value;this.setState({title:t,selectedIndex:-1})},this.handleCreateLink=e=>{this.discardInputValue=!0;const{onCreateLink:t}=this.props;if(0!==(e=e.trim()).length)return t?t(e):void 0},this.handleRemoveLink=()=>{this.discardInputValue=!0;const{from:e,to:t,mark:n,view:o,onRemoveLink:r}=this.props,{state:i,dispatch:a}=this.props.view;n&&a(i.tr.removeMark(e,t,n)),r&&r(),o.focus()},this.moveSelectionToEnd=()=>{const{to:e,view:t}=this.props,{state:n,dispatch:o}=t;o((0,wo.setTextSelection)(e)(n.tr)),t.focus()}}get href(){return this.props.mark?this.props.mark.attrs.href:""}get title(){return this.props.title||""}get suggestedLinkTitle(){const{state:e}=this.props.view,{value:t}=this.state,n=e.doc.cut(e.selection.from,e.selection.to).textContent;return t.trim()||n.trim()}render(){const{dictionary:e,ifSelect:t}=this.props,{value:n,title:o}=this.state,r=this.props.tooltip;return t&&!window.gokuEditorHoverLinkEdit?ko.createElement(Eo,null,ko.createElement(Lo,{style:{margin:"0px 8px 0px -2px"}},ko.createElement(yo,{value:n,style:{width:"236px"},placeholder:e.searchOrPasteLink,onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:""===this.href})),ko.createElement(Io,{onClick:this.handleConfirm,className:this.state.value&&this.state.title?"":"disabled"},ko.createElement(r,{tooltip:e.removeLink,placement:"top"},ko.createElement("span",{style:{color:"#fff",fontSize:"14px",fontWeight:500}},"\u786e\u8ba4"))),ko.createElement(Co,null)):ko.createElement(Mo,null,ko.createElement(Ao,null,"\u6587\u672c"),ko.createElement(Lo,null,ko.createElement(yo,{value:o,placeholder:e.linkTitle,onKeyDown:this.handleKeyDown,onChange:this.handleChangeTitle,autoFocus:!0})),ko.createElement(Ao,null,"\u94fe\u63a5"),ko.createElement(Lo,null,ko.createElement(yo,{value:n,placeholder:e.searchOrPasteLink,onKeyDown:this.handleKeyDown,onChange:this.handleChange})),ko.createElement(Io,{onClick:this.handleConfirm,className:this.state.value&&this.state.title?"":"disabled"},ko.createElement(r,{tooltip:e.removeLink,placement:"top"},ko.createElement("span",{style:{color:"#fff",fontSize:"14px",fontWeight:500}},"\u786e\u8ba4"))),ko.createElement(Co,null))}},Mo=wt(Lt)`
  width: 312px;
  padding: 12px;
  pointer-events: all;
  flex-flow: row wrap;
  .disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,Eo=wt(Lt)`
  width: 314px;
  padding: 4px;
  pointer-events: all;
  flex-flow: row wrap;
  .disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,Lo=wt.div`
  margin-top: 8px;
  margin-bottom: 16px;
  height: 32px;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 5px;
  padding: 2px;
  input {
    height: 28px;
    // line-height: 32px;
    width: 288px;
    color: #1a1a1a;
  }
`,Ao=wt.div`
  width: 100%;
  line-height: 20px;
  height: 20p;
  color: #1a1a1a;
  font-size: 14px;
`,Io=wt.div`
  width: 60px;
  height: 32px;
  background: #212121;
  border-radius: 4px;
  line-height: 32px;
  text-align: center;
  cursor: pointer;
`,$o=kt(So),To=x(n(67294)),Oo=x(n(67294)),Ro=wt.div`
  display: inline-block;
  height: 24px;
  width: 24px;
  cursor: pointer;
  margin-left: 8px;
  border-radius: 3px;
  border: none;
  transition: opacity 100ms ease-in-out;
  padding: 5px 0px 0px 5px;
  outline: none;
  pointer-events: all;
  position: relative;
  font-size: 12px;
  line-height: 16px;
  // opacity: 0.7;

  &:nth-of-type(1) {
    margin-left: 0px;
  }

  &:first-child {
    margin-left: 0;
  }

  &:hover {
    // opacity: 1;
    background: rgba(0, 0, 0, 0.05);
  }

  &:disabled {
    opacity: 0.3;
    cursor: default;
  }

  ${e=>e.iconExplain&&"width: auto; padding-right: 8px;"}

  // &:before {
  //   position: absolute;
  //   content: "";
  //   top: -4px;
  //   right: -4px;
  //   left: -4px;
  //   bottom: -4px;
  // }

  ${e=>e.active&&"background: rgba(0, 0, 0, 0.03); \n     & svg {\n      path {\n        stroke: #1A1A1A\n      }\n     }\n    "};

  // .editor-selection-tooltip {
  //   position: absolute;
  //   top: -40px;
  //   left: 50%;
  //   transform: translateX(-50%);
  //   background: #2A2A2A;
  //   border-radius: 4px;
  //   display: none;
  //   font-weight: 400;
  //   font-size: 14px;
  //   line-height: 20px;
  //   color: #fff;
  //   padding: 6px 12px;
  //   &::after {
  //     content: "";
  //     display: block;
  //     position: absolute;
  //     width: 0;
  //     height: 0;
  //     border-color: transparent;
  //     border-width: 8px;
  //     border-style: solid;
  //     top: 100%;
  //     left: 50%;
  //     margin-left: -8px;
  //     border-top-color: #2A2A2A;
  //   }
  // }

  &:hover .editor-selection-tooltip {
    display: inline-block;
  }
`,Po=({children:e,onClick:t,active:n,item:o})=>Oo.default.createElement(Ro,{onClick:t,active:n,iconExplain:!!o.iconExplain,id:o.name},e,o.floatExplain?Oo.default.createElement("div",{className:"editor-selection-tooltip"},o.floatExplain):null),Do=wt.div`
  height: 16px;
  width: 1px;
  background: rgba(0, 0, 0, 0.05);
  display: inline-block;
  margin-left: 8px;
  margin-top: 4px;
  &:nth-of-type(1) {
    opacity: 0;
    margin-left: -8px;
  }
  &:nth-last-of-type(1) {
    display: none;
  }
`,No=x(n(67294)),_o=({item:e,commands:t,state:n})=>{const o=(0,No.useRef)(null),r=(0,No.useRef)(null),[i,a]=(0,No.useState)(!1),s=(0,No.useCallback)((()=>{r.current&&(r.current.style="display: none",o.current&&o.current.firstChild&&o.current.firstChild.lastChild&&(o.current.firstChild.lastChild.style="none"))}),[]);(0,No.useEffect)((()=>{const e=()=>{r.current&&(r.current.style="display: block",o.current&&o.current.firstChild&&o.current.firstChild.lastChild&&(o.current.firstChild.lastChild.style="transform: rotate(180deg)"))},t=s;return o.current&&r.current&&(o.current.addEventListener("mouseover",e),o.current.addEventListener("mouseout",t),r.current.addEventListener("mouseover",e),r.current.addEventListener("mouseout",t)),()=>{o.current&&r.current&&(o.current.removeEventListener("mouseover",e),o.current.removeEventListener("mouseout",t),r.current.removeEventListener("mouseover",e),r.current.removeEventListener("mouseout",t))}}),[]);const l=e.children.filter((e=>e.visible));if(!l.length)return null;let c=Vn;const d=e.icon&&"no-value-bind"===e.title;d&&(c=e.icon),(0,No.useEffect)((()=>{if(o.current){const{top:e}=o.current.getBoundingClientRect();window.innerHeight-e<250&&!i?a(!0):window.innerHeight-e>=250&&i&&a(!1)}}),[]);const p=No.default.createElement(Ho,{ref:r,directionDown:i},l.map(((e,o)=>{if(!e)return null;const r=!!e.active&&e.active(n);r&&!d&&(c=e.icon);const i=e.icon;return No.default.createElement(Vo,{key:o,onClick:()=>{e.name&&t[e.name](e.attrs),s()},isActive:r},No.default.createElement("div",{style:{transform:"translateY(1px)",display:"inline-block",marginLeft:d?"-20px":"unset"}},No.default.createElement(i,null)),No.default.createElement(jo,null,e.tooltip))})));return No.default.createElement(zo,{ref:o,noValueBind:d},No.default.createElement(Fo,{noValueBind:d},No.default.createElement(Bo,null,No.default.createElement(c,null)),d?null:No.default.createElement(Wo,null)),p)},Bo=wt.div`
  display: inline-block;
  margin: 1px 0px 0px 1px;
  height: 14px;
  width: 14px;
  & svg {
    height: 14px !important;
    width: 14px !important;
  }
`,zo=wt.div`
  width: 40px;
  height: 24px;
  position: relative;
  margin-left: 8px;
  &:nth-of-type(1) {
    margin-left: 0px;
  }
  ${e=>e.noValueBind?"width: 24px;":null}
`,Ho=wt.div`
  display: none;
  width: 180px;
  max-height: 282px;
  padding: 6px;
  position: absolute;
  ${e=>e.directionDown?"bottom: 32px;":"top: 32px;"}
  left: -4px;
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04),
    0px 12px 48px rgba(0, 0, 0, 0.04);
  border-radius: 5px;
  background: #ffffff;
  z-index: 1001;
  pointer-events: all;
  &::before {
    display: block;
    content: "";
    background: rgba(0, 0, 0, 0);
    height: 10px;
    width: 180px;
    left: -2px;
    top: -10px;
    position: absolute;
  }
`,Vo=wt("div")`
  width: 168px;
  height: 32px;
  pointer-events: all;
  border-radius: 3px;
  ${e=>e.isActive?"font-weight: 500;":null};
  font-size: 14px;
  &:hover {
    background: rgba(0, 0, 0, 0.05);
  }
  &::before {
    content: "";
    display: inline-block;
    ${e=>e.isActive?"background-image: url('https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorSelected.png'); background-size: 100% 100%;":null};
    height: 14px;
    width: 14px;
    margin-top: 9px;
    margin-left: 4px;
    margin-right: 8px;
  }
`,jo=wt.div`
  display: inline-block;
  margin-left: 8px;
  line-height: 32px;
  height: 32px;
  transform: translateY(-1px);
`,Wo=wt.div`
  height: 14px;
  width: 14px;
  background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorClickDown.png");
  background-size: 100% 100%;
  display: inline-block;
  margin-left: 2px;
  vertical-align: top;
  transition: transform 0.2s;
`,Fo=wt.div`
  width: 40px;
  height: 24px;
  padding: 4px;
  border-radius: 3px;
  pointer-events: all;
  &:hover {
    background: rgba(0, 0, 0, 0.05);
  }
  ${e=>e.noValueBind?"width: 24px;":null}
`,Uo=wt.div`
  display: flex;
`,Zo=kt(class extends To.Component{render(){const{view:e,items:t}=this.props,{state:n}=e;return To.createElement(Uo,null,t.map(((e,t)=>{if("separator"===e.name&&!1!==e.visible)return To.createElement(Do,{key:t});if("drop-down"===e.name)return To.createElement(_o,{key:t,item:e,commands:this.props.commands,state:n});if(!1===e.visible||!e.icon)return null;const o=e.icon,r=!!e.active&&e.active(n);return e.iconExplain?To.createElement(Po,{key:t,onClick:()=>e.name&&this.props.commands[e.name](e.attrs),item:e,active:r},To.createElement(o,{color:this.props.theme.toolbarItem}),To.createElement("span",{style:{display:"inline-block",transform:"translateY(-3px)",lineHeight:"14px",fontSize:"12px",marginLeft:"9px",color:"#1a1a1a",fontWeight:500}}," ",e.iconExplain)):To.createElement(Po,{key:t,onClick:()=>e.name&&this.props.commands[e.name](e.attrs),active:r,item:e},To.createElement(o,{color:this.props.theme.toolbarItem}),e.iconExplain?To.createElement("span",{style:{display:"inline-block",transform:"translateY(-3px)",lineHeight:"14px",fontSize:"12px",marginLeft:"9px",color:"#1a1a1a",fontWeight:500}}," ",e.iconExplain):null)})))}});function qo(e){return e.reduce(((t,n,o)=>{if("separator"===n.name&&0===o)return t;if("separator"===n.name&&o===e.length-1)return t;const r=e[o-1];if(r&&"separator"===r.name&&"separator"===n.name)return t;const i=e[o+1];return i&&"separator"===i.name&&"separator"===n.name?t:[...t,n]}),[])}function Go(e,t){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const o=n.node.marks.find((e=>e.type===t));if(!o)return!1;let r=e.index(),i=e.start()+n.offset,a=r+1,s=i+n.node.nodeSize;for(;r>0&&o.isInSet(e.parent.child(r-1).marks);)r-=1,i-=e.parent.child(r).nodeSize;for(;a<e.parent.childCount&&o.isInSet(e.parent.child(a).marks);)s+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:s,mark:o}}function Ko(e,t){let n;return function e(o,r=0){"text"===o.type.name&&o.marks.forEach((e=>{if("link"===e.type.name&&e.attrs.href===t&&(n={node:o,pos:r},n))return!1})),o.content.size&&o.descendants(e)}(e),n}var Jo=async function(e,t,n,o){const{dispatch:r,state:i}=e,{onCreateLink:a,onShowToast:s}=o;try{const o=await a(t),s=Ko(e.state.doc,n);if(!s)return;r(e.state.tr.removeMark(s.pos,s.pos+s.node.nodeSize,i.schema.marks.link).addMark(s.pos,s.pos+s.node.nodeSize,i.schema.marks.link.create({href:o})))}catch(l){const t=Ko(e.state.doc,n);if(!t)return;r(e.state.tr.removeMark(t.pos,t.pos+t.node.nodeSize,i.schema.marks.link)),s&&s(o.dictionary.createLinkError,"error")}},Xo=n(69124);function Yo(e){const{view:t}=e,{selection:n}=t.state,o=co(n),r=po(n),i=(0,Xo.getCellsInRow)(0)(n);if((0,Xo.getCellsInColumn)(0)(n)&&i&&void 0===r&&void 0===o)return!0;if(Xn(t.state.schema.nodes.code_block)(t.state))return n.from===n.to;if(!n)return!1;if(n.empty)return!1;if(n.node&&"hr"===n.node.type.name)return!0;if(n.node&&"image"===n.node.type.name)return!0;if(n.node&&"video"===n.node.type.name)return!0;if(n.node)return!1;const a=n.content().content.content;return(0,$t.default)(a,(e=>e.content.size))}var Qo=class extends At.Component{constructor(){super(...arguments),this.isActive=!1,this.menuRef=At.createRef(),this.handleClickOutside=e=>{if(e.target instanceof Node&&this.menuRef.current&&this.menuRef.current.contains(e.target))return;if(!this.isActive)return;const{view:t}=this.props;if(t.hasFocus())return;const{dispatch:n}=t;n(t.state.tr.setSelection(new Tt.TextSelection(t.state.doc.resolve(0))))},this.handleOnCreateLink=async e=>{const{dictionary:t,onCreateLink:n,view:o,onShowToast:r}=this.props;if(!n)return;const{dispatch:i,state:a}=o,{from:s,to:l}=a.selection;if(s===l)return;const c=`creating#${e}\u2026`,d=a.schema.marks.link;i(o.state.tr.removeMark(s,l,d).addMark(s,l,d.create({href:c}))),Jo(o,e,c,{onCreateLink:n,onShowToast:r,dictionary:t})},this.handleOnSelectLink=({href:e,title:t,from:n,to:o})=>{const{view:r}=this.props,{state:i,dispatch:a}=r,s=i.schema.marks.link;a(i.tr.insertText(t,n,o).removeMark(n,n+t.length,s).addMark(n,n+t.length,s.create({href:e})))}}componentDidUpdate(){const e=Yo(this.props);this.isActive&&!e&&(this.isActive=!1,this.props.onClose()),!this.isActive&&e&&(this.isActive=!0,this.props.onOpen())}componentDidMount(){window.addEventListener("mouseup",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("mouseup",this.handleClickOutside)}render(){const e=this.props,{dictionary:t,onCreateLink:n,rtl:o}=e,r=v(e,["dictionary","onCreateLink","rtl"]),{view:i}=r,{state:a}=i,{selection:s}=a,l=Xn(a.schema.nodes.code_block)(a),c=Xn(a.schema.nodes.hr)(a),d=co(a.selection),p=po(a.selection),u=(0,Xo.getCellsInRow)(0)(s),h=(0,Xo.getCellsInColumn)(0)(s),m=void 0!==d&&void 0!==p,f=to(a.schema.marks.link)(a),b=Go(s.$from,a.schema.marks.link),k=s.node&&"image"===s.node.type.name,w=s.node&&"video"===s.node.type.name;let x=!1,y=[];if(m?y=Yn(t):void 0!==d&&a.selection.ranges.length===(null==h?void 0:h.length)?y=function(e,t,n,o){const{schema:r}=e;return[{name:"drop-down",icon:_n,title:"no-value-bind",children:[{name:n?"addColumnAfter":"addColumnBefore",tooltip:n?o.addColumnAfter:o.addColumnBefore,icon:Ln,visible:!0,active:()=>!1},{name:n?"addColumnBefore":"addColumnAfter",tooltip:n?o.addColumnBefore:o.addColumnAfter,icon:In,visible:!0,active:()=>!1}]},{name:"separator"},{name:"drop-down",children:[{name:"setColumnAttr",tooltip:o.alignLeft,icon:qn,attrs:{index:t,alignment:"left"},visible:!0,active:e=>Xn(r.nodes.th,{colspan:1,rowspan:1,alignment:"left"})(e)||Xn(r.nodes.th,{colspan:1,rowspan:1,alignment:null})(e)||Xn(r.nodes.th,{colspan:1,rowspan:1,alignment:""})(e)},{name:"setColumnAttr",tooltip:o.alignCenter,icon:Un,attrs:{index:t,alignment:"center"},visible:!0,active:Xn(r.nodes.th,{colspan:1,rowspan:1,alignment:"center"})},{name:"setColumnAttr",tooltip:o.alignRight,icon:Kn,attrs:{index:t,alignment:"right"},visible:!0,active:Xn(r.nodes.th,{colspan:1,rowspan:1,alignment:"right"})}]},{name:"separator"},{name:"deleteColumn",tooltip:o.deleteColumn,icon:Wn,active:()=>!1,floatExplain:"\u5220\u9664\u5217"}]}(a,d,o,t):void 0!==p&&a.selection.ranges.length===(null==u?void 0:u.length)?y=function(e,t,n){return[{name:"drop-down",icon:_n,title:"no-value-bind",children:[{name:"addRowAfter",tooltip:n.addRowBefore,icon:Tn,attrs:{index:t-1},active:()=>!1,visible:0!==t},{name:"addRowAfter",tooltip:n.addRowAfter,icon:Rn,attrs:{index:t},active:()=>!1,visible:!0}]},{name:"separator"},{name:"deleteRow",tooltip:n.deleteRow,icon:Wn,active:()=>!1,floatExplain:"\u5220\u9664\u884c"}]}(0,p,t):k?y=function(e,t){var n,o;const{schema:r}=e,i=Xn(r.nodes.image,{layoutClass:"left"}),a=Xn(r.nodes.image,{layoutClass:"right"}),s=Boolean((null==(n=null==e?void 0:e.selection)?void 0:n.node.attrs.width)&&"99999"===(null==(o=null==e?void 0:e.selection)?void 0:o.node.attrs.width));return[{name:"drop-down",children:[{name:"alignLeft",tooltip:t.alignLeft,icon:ln,visible:!0,active:i},{name:"alignCenter",tooltip:t.alignCenter,icon:an,visible:!0,active:e=>Xn(r.nodes.image)(e)&&!i(e)&&!a(e)},{name:"alignRight",tooltip:t.alignRight,icon:dn,visible:!0,active:a}]},{name:"separator",visible:!0},{name:"fullWidth",tooltip:t.fullWidth,icon:un,visible:!s,iconExplain:"\u5168\u5bbd",active:()=>!1},{name:"originWidth",tooltip:t.originWidth,icon:mn,visible:s,iconExplain:"\u9ed8\u8ba4\u5bbd\u5ea6",active:()=>!1}]}(a,t):w?y=function(e,t){var n,o;const{schema:r}=e,i=Xn(r.nodes.video,{layoutClass:"left"}),a=Xn(r.nodes.video,{layoutClass:"right"}),s=Boolean((null==(n=null==e?void 0:e.selection)?void 0:n.node.attrs.width)&&"99999"===(null==(o=null==e?void 0:e.selection)?void 0:o.node.attrs.width));return[{name:"drop-down",children:[{name:"alignLeft",tooltip:t.alignLeft,icon:ln,visible:!0,active:i},{name:"alignCenter",tooltip:t.alignCenter,icon:an,visible:!0,active:e=>Xn(r.nodes.video)(e)&&!i(e)&&!a(e)},{name:"alignRight",tooltip:t.alignRight,icon:dn,visible:!0,active:a}]},{name:"separator",visible:!0},{name:"fullWidth",tooltip:t.fullWidth,icon:un,visible:!s,iconExplain:"\u5168\u5bbd",active:()=>!1},{name:"originWidth",tooltip:t.originWidth,icon:mn,visible:s,iconExplain:"\u9ed8\u8ba4\u5bbd\u5ea6",active:()=>!1}]}(a,t):c?y=[]:l?y=function(e){return[{name:"deleteCodeBlock",tooltip:e.deleteTable,icon:Wn,active:()=>!1}]}(t):(y=function(e,t){const{schema:n}=e,o=(0,Qn.isInTable)(e),r=eo(e),i=!o&&!r;return[{name:"drop-down",children:[{name:"toggleBlockInitial",tooltip:t.commonText,icon:yn,active:Xn(n.nodes.paragraph),title:"\u6b63\u6587",visible:i},{name:"heading",tooltip:t.h1,icon:zt,active:Xn(n.nodes.heading,{level:1}),attrs:{level:1},visible:i},{name:"heading",tooltip:t.h2,icon:Vt,active:Xn(n.nodes.heading,{level:2}),attrs:{level:2},visible:i},{name:"heading",tooltip:t.h3,icon:Wt,active:Xn(n.nodes.heading,{level:3}),attrs:{level:3},visible:i},{name:"heading",tooltip:t.custom,icon:Vn,active:e=>Xn(n.nodes.heading,{level:4})(e)||Xn(n.nodes.heading,{level:5})(e)||Xn(n.nodes.heading,{level:6})(e),attrs:{level:0},visible:Xn(n.nodes.heading,{level:4})(e)||Xn(n.nodes.heading,{level:5})(e)||Xn(n.nodes.heading,{level:6})(e)},{name:"ordered_list",tooltip:t.orderedList,icon:Dt,active:Xn(n.nodes.ordered_list),visible:(i||r)&&no(e)},{name:"bullet_list",tooltip:t.bulletList,icon:Rt,active:Xn(n.nodes.bullet_list),visible:(i||r)&&no(e)},{name:"blockquote",tooltip:t.quote,icon:Kt,active:Xn(n.nodes.blockquote),attrs:{level:2},visible:i,floatExplain:"\u5f15\u7528"}]},{name:"separator"},{name:"strong",tooltip:t.strong,icon:vn,active:to(n.marks.strong),floatExplain:"\u52a0\u7c97"},{name:"em",tooltip:t.em,icon:wn,active:to(n.marks.em),floatExplain:"\u659c\u4f53"},{name:"code_inline",tooltip:t.codeInline,icon:gn,active:to(n.marks.code_inline),floatExplain:"\u884c\u5185\u4ee3\u7801"},{name:"link",tooltip:t.createLink,icon:Ut,active:to(n.marks.link),attrs:{href:""},floatExplain:"\u94fe\u63a5",visible:no(e)}]}(a,t),x=!0),y=y.filter((e=>"separator"===e.name||("drop-down"===e.name||!(e.name&&!this.props.commands[e.name])))),y=qo(y),!y.length)return null;const C=a.doc.cut(a.selection.from,a.selection.to).textContent;if(void 0===p&&void 0===d&&u&&h&&!C)y=Yn(t);else if(x&&!C)return null;const S=b?a.doc.cut(b.from,b.to).textContent:"";return At.createElement(It.Portal,null,At.createElement(vo,{view:i,active:Yo(this.props),ref:this.menuRef,height:f?"auto":void 0},f&&b?At.createElement($o,g({dictionary:t,title:S,ifSelect:!0,mark:b.mark,from:b.from,to:b.to,onCreateLink:n?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink},r)):At.createElement(Zo,g({items:y},r))))}},er=x(n(67294)),tr=n(69124),nr=x(n(67294)),or=x(n(26786)),rr=n(47175),ir=n(69124),ar=wt.span`
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
  clip: rect(1px, 1px, 1px, 1px);
`;function sr(e){let t=[];if(e.dataTransfer){const n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}var lr=n(42391),cr=n(51978),dr=new lr.Plugin({state:{init:()=>cr.DecorationSet.empty,apply(e,t){var n;t=t.map(e.mapping,e.doc);const o=e.getMeta(this);if(null==o?void 0:o.add)if(o.add.replaceExisting){const r=e.doc.resolve(o.add.pos);if("image"===(null==(n=r.nodeAfter)?void 0:n.type.name)){const n=cr.Decoration.node(r.pos,r.pos+r.nodeAfter.nodeSize,{class:"image-replacement-uploading"},{id:o.add.id});t=t.add(e.doc,[n])}}else{const n=document.createElement("div");n.className="image placeholder";const r=document.createElement("img");r.src="https://static.leetcode.cn/cn-mono-assets/development-02/assets/light-loading.9d7b0f1c.gif";const i=document.createElement("div");i.className="editor-uploading-img";const a=document.createElement("div");a.innerText="\u4e0a\u4f20\u4e2d",i.appendChild(r),i.appendChild(a),n.appendChild(i);const s=cr.Decoration.widget(o.add.pos,n,{id:o.add.id});t=t.add(e.doc,[s])}return(null==o?void 0:o.remove)&&(t=t.remove(t.find(null,null,(e=>e.id===o.remove.id)))),t}},props:{decorations(e){return this.getState(e)}}}),pr=dr;function ur(e,t){const n=dr.getState(e).find(null,null,(e=>e.id===t));return n.length?[n[0].from,n[0].to]:null}var hr=n(42391),mr=0,fr=function(e,t,n,o,r){const i=o.filter((e=>/image/i.test(e.type)));if(0===i.length)return;const{dictionary:a,uploadImage:s,onImageUploadStart:l,onImageUploadStop:c,onShowToast:d}=r;if(!s)return void console.warn("uploadImage callback must be defined to handle image uploads.");t.preventDefault(),l&&l();const{schema:p}=e.state;let u=0;for(const h of i){const t="upload-"+mr++,{tr:o}=e.state;o.setMeta(pr,{add:{id:t,file:h,pos:n,replaceExisting:r.replaceExisting}}),e.dispatch(o),s(h).then((({src:n,alt:o})=>{const r=new Image;r.onload=()=>{const r=ur(e.state,t);if(null===r)return;const[i,a]=r;e.dispatch(e.state.tr.replaceWith(i,a||i,p.nodes.image.create(o?{src:n,alt:o}:{src:n})).setMeta(pr,{remove:{id:t}})),e.state.selection.from===i&&e.dispatch(e.state.tr.setSelection(new hr.NodeSelection(e.state.doc.resolve(i))))},r.onerror=e=>{throw e},r.src=n})).catch((n=>{console.error(n);const o=e.state.tr.setMeta(pr,{remove:{id:t}});e.dispatch(o),d&&d(a.videoUploadError,"error")})).finally((()=>{u++,u===i.length&&c&&c()}))}},gr=n(72048),br=n(42391),vr=0,kr=function(e,t,n,o,r){const i=o.filter((e=>/video/i.test(e.type)));if(0===i.length)return;const{uploadVideo:a,onImageUploadStart:s,onImageUploadStop:l}=r;if(!a)return void console.warn("uploadVideo callback must be defined to handle video uploads.");t.preventDefault(),s&&s();const{schema:c}=e.state;let d=0;for(const p of i){const t="upload-"+vr++,{tr:o}=e.state;o.setMeta(pr,{add:{id:t,file:p,pos:n,replaceExisting:r.replaceExisting}}),e.dispatch(o),a(p).then((({src:n,alt:o})=>{const r=ur(e.state,t);if(null===r)return;const[i,a]=r;e.dispatch(e.state.tr.replaceWith(i,a||i,c.nodes.video.create(o?{src:n,alt:o}:{src:n})).setMeta(pr,{remove:{id:t}})),e.state.selection.from===i&&e.dispatch(e.state.tr.setSelection(new br.NodeSelection(e.state.doc.resolve(i))))})).catch((n=>{console.error(n);const o=e.state.tr.setMeta(pr,{remove:{id:t}});e.dispatch(o)})).finally((()=>{d++,d===i.length&&l&&l()}))}},wr="/graphql/",xr={headers:{"Content-Type":"application/json"}},yr=["video/mp4","video/webm","video/quicktime","video/mpeg","video/3gpp","video/x-m4v","video/x-flv","video/x-msvideo","video/x-ms-asf","video/x-ms-wmv","video/x-matroska","video/vnd.dlna.mpeg-tts"],Cr="undefined"===typeof window,Sr={left:-1e3,top:0,bottom:void 0,isAbove:!1},Mr=class extends nr.Component{constructor(){super(...arguments),this.menuRef=nr.createRef(),this.inputRef=nr.createRef(),this.inputVideoRef=nr.createRef(),this.state={left:-1e3,top:0,bottom:void 0,isAbove:!1,selectedIndex:0,insertItem:void 0},this.handleKeyDown=e=>{if(this.props.isActive){if("Enter"===e.key){e.preventDefault(),e.stopPropagation();const t=this.filtered[this.state.selectedIndex];t?this.insertItem(t):this.props.onClose()}if("ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey||e.ctrlKey&&"p"===e.key)if(e.preventDefault(),e.stopPropagation(),this.filtered.length){let e=this.state.selectedIndex-1;for(;this.filtered[e]&&("separator"===this.filtered[e].name||"modul"===this.filtered[e].name);)e--;this.setState({selectedIndex:Math.max(0,e)})}else this.close();if("ArrowDown"===e.key||"Tab"===e.key&&!e.shiftKey||e.ctrlKey&&"n"===e.key)if(e.preventDefault(),e.stopPropagation(),this.filtered.length){const e=this.filtered.length-1;let t=this.state.selectedIndex+1;for(;this.filtered[t]&&("separator"===this.filtered[t].name||"modul"===this.filtered[t].name);)t++;this.setState({selectedIndex:Math.min(t,e)})}else this.close();"Escape"===e.key&&this.close()}},this.insertItem=e=>{var t,n,o,r;switch(e.name){case"image":return this.triggerImagePick();case"video":return this.triggerVideoPick();case"embed":return this.triggerLinkInput(e);case"link":return this.clearSearch(),this.props.onClose(),void(null==(n=(t=this.props).onLinkToolbarOpen)||n.call(t));case"block_equation":return this.clearSearch(),this.props.onClose(),void(null==(r=(o=this.props).onTeXToolbarOpen)||r.call(o));default:this.insertBlock(e)}},this.close=()=>{this.props.onClose(),this.props.view.focus()},this.handleLinkInputKeydown=e=>{if(this.props.isActive&&this.state.insertItem){if("Enter"===e.key){e.preventDefault(),e.stopPropagation();const t=e.currentTarget.value;if(!this.state.insertItem.matcher(t)&&this.props.onShowToast)return void this.props.onShowToast(this.props.dictionary.embedInvalidLink,"error");this.insertBlock({name:"embed",attrs:{href:t}})}"Escape"===e.key&&(this.props.onClose(),this.props.view.focus())}},this.handleLinkInputPaste=e=>{if(!this.props.isActive)return;if(!this.state.insertItem)return;const t=e.clipboardData.getData("text/plain");this.state.insertItem.matcher(t)&&(e.preventDefault(),e.stopPropagation(),this.insertBlock({name:"embed",attrs:{href:t}}))},this.triggerImagePick=()=>{this.inputRef.current&&this.inputRef.current.click()},this.triggerVideoPick=()=>{this.inputVideoRef.current&&this.inputVideoRef.current.click()},this.triggerLinkInput=e=>{this.setState({insertItem:e})},this.handleImagePicked=e=>{const t=sr(e),{view:n,uploadImage:o,onImageUploadStart:r,onImageUploadStop:i,onShowToast:a}=this.props,{state:s}=n,l=(0,ir.findParentNode)((e=>!!e))(s.selection);if(this.clearSearch(),!o)throw new Error("uploadImage prop is required to replace images");l&&fr(n,e,l.pos,t,{uploadImage:o,onImageUploadStart:r,onImageUploadStop:i,onShowToast:a,dictionary:this.props.dictionary}),this.inputRef.current&&(this.inputRef.current.value=""),this.props.onClose()},this.handleVideoPicked=e=>{const t=sr(e),{view:n,uploadVideo:o,onImageUploadStart:r,onImageUploadStop:i,onShowToast:a}=this.props,{state:s}=n,l=(0,ir.findParentNode)((e=>!!e))(s.selection);if(this.clearSearch(),!o)throw new Error("uploadVideo prop is required to replace Video");l&&kr(n,e,l.pos,t,{uploadVideo:o,onImageUploadStart:r,onImageUploadStop:i,onShowToast:a,dictionary:this.props.dictionary}),this.inputVideoRef.current&&(this.inputVideoRef.current.value=""),this.props.onClose()},this.clearSearch=()=>{this.props.onClearSearch()},this.handleMouseOver=(0,gr.throttle)((()=>{0!==this.state.selectedIndex&&this.setState({selectedIndex:0})}),500)}componentDidMount(){Cr||window.addEventListener("keydown",this.handleKeyDown)}shouldComponentUpdate(e,t){return e.search!==this.props.search||e.isActive!==this.props.isActive||t!==this.state}componentDidUpdate(e){if(!e.isActive&&this.props.isActive){const e=this.calculatePosition(this.props);this.setState(g({insertItem:void 0,selectedIndex:0},e))}else e.search!==this.props.search&&this.setState({selectedIndex:0})}componentWillUnmount(){Cr||window.removeEventListener("keydown",this.handleKeyDown)}insertBlock(e){this.clearSearch();const t=this.props.commands[e.name];t?t(e.attrs):this.props.commands[`create${(0,or.default)(e.name)}`](e.attrs),this.props.onClose()}get caretPosition(){const e=window.document.getSelection();if(!e||!e.anchorNode||!e.focusNode)return{top:0,left:0};const t=window.document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);0===t.getClientRects().length&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);const n=t.getBoundingClientRect();return{top:n.top,left:n.left}}calculatePosition(e){const{view:t}=e,{selection:n}=t.state;let o;try{o=t.coordsAtPos(n.from)}catch(h){return console.warn(h),Sr}const r=t.domAtPos.bind(t),i=this.menuRef.current,a=i?i.offsetHeight:0,s={node:(0,ir.findDomRefAtPos)(n.from,r)};if(!e.isActive||!s.node||!s.node.getBoundingClientRect||Cr)return Sr;const{left:l}=this.caretPosition,{top:c,bottom:d,right:p}=s.node.getBoundingClientRect();let u=l+window.scrollX;return e.rtl&&i&&(u=p-i.scrollWidth),o.top-a>24?{left:u,top:void 0,bottom:window.innerHeight-c-window.scrollY,isAbove:!1}:{left:u,top:d+window.scrollY,bottom:void 0,isAbove:!0}}get filtered(){const{embeds:e=[],search:t="",uploadImage:n,uploadVideo:o,commands:r,filterable:i=!0}=this.props;let a=this.props.items;const s=[];for(const l of e)l.title&&l.icon&&s.push(b(g({},l),{name:"embed"}));s.length&&(a.push({name:"separator"}),a=a.concat(s));return qo(a.filter((e=>{if("separator"===e.name)return!t;if("modul"===e.name)return!t;if(e.name&&!r[e.name]&&!r[`create${(0,or.default)(e.name)}`])return!1;if(!n&&"image"===e.name)return!1;if(!o&&"video"===e.name)return!1;if(!t)return!e.defaultHidden;const a=t.toLowerCase();return i?(e.title||"").toLowerCase().includes(a)||(e.keywords||"").toLowerCase().includes(a):e})))}render(){const{dictionary:e,isActive:t,uploadImage:n,uploadVideo:o}=this.props,r=this.filtered,i=this.state,{insertItem:a}=i,s=v(i,["insertItem"]);return nr.createElement(rr.Portal,null,nr.createElement(Rr,g({active:t,ref:this.menuRef},s),nr.createElement(Or,{id:this.props.id||"block-menu-container"},a?nr.createElement(Er,null,nr.createElement(Lr,{type:"text",placeholder:a.title?e.pasteLinkWithTitle(a.title):e.pasteLink,onKeyDown:this.handleLinkInputKeydown,onPaste:this.handleLinkInputPaste,autoFocus:!0})):nr.createElement(Ar,{selectedIndex:!!this.state.selectedIndex},r.map(((e,n)=>{if("separator"===e.name)return nr.createElement(Ir,{key:n},nr.createElement("hr",{style:{borderColor:"rgba(0, 0, 0, 0.08)"}}));if("modul"===e.name)return nr.createElement(Ir,{key:n},nr.createElement($r,null,e.title));const o=n===this.state.selectedIndex&&t;return e.title?nr.createElement(Ir,{key:n,style:{marginBottom:"2px"}},this.props.renderMenuItem(e,n,{selected:o,onClick:()=>this.insertItem(e),onMouseOver:this.handleMouseOver})):null})),0===r.length&&nr.createElement(Ir,null,nr.createElement(Tr,null,e.noResults))),n&&nr.createElement(ar,null,nr.createElement("input",{type:"file",ref:this.inputRef,onChange:this.handleImagePicked,accept:"image/*"})),o&&nr.createElement(ar,null,nr.createElement("input",{type:"file",ref:this.inputVideoRef,onChange:this.handleVideoPicked,accept:yr.join(",")})))))}},Er=wt.div`
  margin: 8px;
`,Lr=wt(yo)`
  height: 36px;
  width: 100%;
  color: ${e=>e.theme.blockToolbarText};
`,Ar=wt.ol`
  list-style: none;
  text-align: left;
  height: 100%;
  padding: 0;
  margin: 0;
  ${({selectedIndex:e})=>e?"\n      & .editor-menu-item {\n        &:hover,\n        &:active {\n          background: none;\n        }\n      }\n    ":""};
`,Ir=wt.li`
  padding: 0;
  margin: 0;
  color: rgba(0, 0, 0, 0.08);
`,$r=wt.div`
  font-weight: 500;
  font-size: 12px;
  line-height: 16px;
  margin-bottom: 2px;
  width: 100%;
  line-height: 28px;
  height: 28px;
  padding-left: 4px;
  color: rgba(82, 82, 82, 0.6);
`,Tr=wt.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.textSecondary};
  font-weight: 500;
  font-size: 14px;
  height: 36px;
  padding: 0 16px;
`,Or=wt.div`
  overflow: hidden;
  overflow-y: auto;
  width: 220px;
  max-height: 405px;
  padding: 8px;
  border-radius: 8px;
`,Rr=wt.div`
  color: ${e=>e.theme.text};
  font-family: ${e=>e.theme.fontFamily};
  position: absolute;
  z-index: ${e=>e.theme.zIndex+1e3};
  ${e=>void 0!==e.top&&`top: ${e.top}px`};
  ${e=>void 0!==e.bottom&&`bottom: ${e.bottom}px`};
  left: ${e=>e.left}px;
  background-color: ${e=>e.theme.blockToolbarBackground};
  border-radius: 8px;
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04),
    0px 12px 48px rgba(0, 0, 0, 0.04);
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
    transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: 150ms;
  line-height: 0;
  box-sizing: border-box;
  pointer-events: none;
  white-space: nowrap;
  overflow: hidden;

  * {
    box-sizing: border-box;
  }

  hr {
    border: 0;
    height: 0;
    border-top: 1px solid ${e=>e.theme.blockToolbarDivider};
  }

  ${({active:e,isAbove:t})=>e&&`\n    transform: translateY(${t?"6px":"-6px"}) scale(1);\n    pointer-events: all;\n    opacity: 1;\n  `};

  @media print {
    display: none;
  }
`,Pr=Mr,Dr=x(n(67294)),Nr=x(n(37274));var _r=wt.button`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  font-weight: 400;
  font-size: 14px;
  line-height: 1;
  width: 100%;
  height: 32px;
  cursor: pointer;
  border: none;
  opacity: ${e=>e.disabled?".5":"1"};
  color: #1a1a1a;
  padding: 0 4px;
  outline: none;
  border-radius: 4px;
  background: ${e=>e.selected?"rgba(0, 0, 0, 0.08)":"none"};
  &:hover,
  &:active {
    background: rgba(0, 0, 0, 0.08);
  }
`,Br=wt.span`
  margin-right: 12px;
  height: 16px;
  width: 16px;
`,zr=wt.span`
  color: ${e=>e.theme.textSecondary};
  flex-grow: 1;
  text-align: right;
`,Hr=kt((function({selected:e,disabled:t,onClick:n,onMouseOver:o,title:r,shortcut:i,icon:a,containerId:s="block-menu-container"}){const l=a,c=Dr.useCallback((t=>{e&&t&&(0,Nr.default)(t,{scrollMode:"if-needed",block:"center",boundary:e=>e.id!==s})}),[e,s]);return Dr.createElement(_r,{selected:e,onClick:t?void 0:n,onMouseOver:t&&o?void 0:o,ref:c,className:"editor-menu-item"},l&&Dr.createElement(Br,null,Dr.createElement(l,{color:e?Mt.blockToolbarIconSelected:Mt.blockToolbarIcon})),r,i&&Dr.createElement(zr,null,i))}));var Vr=class extends er.default.Component{constructor(){super(...arguments),this.clearSearch=()=>{const{state:e,dispatch:t}=this.props.view,n=(0,tr.findParentNode)((e=>!!e))(e.selection);n&&t(e.tr.insertText("",n.pos,e.selection.to))}}get items(){return[{name:"modul",title:"\u57fa\u7840"},{name:"heading",title:(e=this.props.dictionary).h1,keywords:"h1 heading1 title",icon:zt,attrs:{level:1}},{name:"heading",title:e.h2,keywords:"h2 heading2",icon:Vt,attrs:{level:2}},{name:"heading",title:e.h3,keywords:"h3 heading3",icon:Wt,attrs:{level:3}},{name:"ordered_list",title:e.orderedList,icon:Dt,keywords:"ordered"},{name:"bullet_list",title:e.bulletList,icon:Rt,keywords:"bullet"},{name:"blockquote",title:e.quote,icon:Kt,keywords:"quote"},{name:"hr",title:e.hr,icon:_t,keywords:"divider horizontal rule break line"},{name:"separator"},{name:"modul",title:"\u5e38\u7528"},{name:"code_block",title:e.codeBlock,icon:Qt,keywords:"script code"},{name:"block_equation",title:e.blockEquation,icon:zn,keywords:"math tex latex"},{name:"image",title:e.image,icon:tn,keywords:"picture photo image img"},{name:"video",title:e.video,icon:Dn,keywords:"video"},{name:"link",title:e.link,icon:Ut,keywords:"link url uri href"},{name:"table",title:e.table,icon:Xt,keywords:"table",attrs:{rowsCount:3,colsCount:3}}];var e}render(){return er.default.createElement(Pr,b(g({},this.props),{filterable:!0,onClearSearch:this.clearSearch,renderMenuItem:(e,t,n)=>er.default.createElement(Hr,{onClick:n.onClick,onMouseOver:n.onMouseOver,selected:n.selected,icon:e.icon,title:e.title,shortcut:e.shortcut}),items:this.items}))}},jr=Vr,Wr=x(n(67294)),Fr=x(n(77997)),Ur=x(n(66611)),Zr=x(n(67294)),qr=wt.span`
  font-size: 16px;
`,Gr=({emoji:e,title:t})=>Zr.createElement("p",null,Zr.createElement(qr,{className:"emoji"},e),"\xa0\xa0",t);function Kr(e){return Zr.createElement(Hr,b(g({},e),{title:Zr.createElement(Gr,{emoji:e.emoji,title:e.title})}))}var Jr=new Ur.default(Fr.default,["names"],{caseSensitive:!0,sort:!0}),Xr=class extends Wr.default.Component{constructor(){super(...arguments),this.clearSearch=()=>{var e;const{state:t,dispatch:n}=this.props.view;n(t.tr.insertText("",t.selection.$from.pos-(null!=(e=this.props.search)?e:"").length-1,t.selection.to))}}get items(){const{search:e=""}=this.props,t=e.toLowerCase();return Jr.search(t).map((e=>{const t=e.description,n=e.names[0];return b(g({},e),{name:"emoji",title:n,description:t,attrs:{markup:n,"data-name":n}})})).slice(0,10)}render(){return Wr.default.createElement(Pr,b(g({},this.props),{id:"emoji-menu-container",filterable:!1,onClearSearch:this.clearSearch,renderMenuItem:(e,t,n)=>Wr.default.createElement(Kr,{onClick:n.onClick,selected:n.selected,title:e.description,emoji:e.emoji,containerId:"emoji-menu-container"}),items:this.items}))}},Yr=Xr,Qr=x(n(67294));var ei=class extends Qr.Component{constructor(){super(...arguments),this.menuRef=Qr.createRef(),this.state={left:-1e3,top:void 0},this.handleClickOutside=e=>{e.target&&this.menuRef.current&&this.menuRef.current.contains(e.target)||this.props.onClose()},this.handleOnCreateLink=async e=>{const{dictionary:t,onCreateLink:n,view:o,onClose:r,onShowToast:i}=this.props;if(r(),this.props.view.focus(),!n)return;const{dispatch:a,state:s}=o,{from:l,to:c}=s.selection;if(l!==c)return;const d=`creating#${e}\u2026`;a(o.state.tr.insertText(e,l,c).addMark(l,c+e.length,s.schema.marks.link.create({href:d}))),Jo(o,e,d,{onCreateLink:n,onShowToast:i,dictionary:t})},this.handleOnSelectLink=({href:e,title:t})=>{const{view:n,onClose:o}=this.props;o(),this.props.view.focus();const{dispatch:r,state:i}=n,{from:a,to:s}=i.selection;a===s&&r(n.state.tr.insertText(t,a,s).addMark(a,s+t.length,i.schema.marks.link.create({href:e})))}}componentDidMount(){window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleClickOutside)}render(){const e=this.props,{onCreateLink:t,onClose:n}=e,o=v(e,["onCreateLink","onClose"]),{selection:r}=this.props.view.state,i=function(e){const{view:t}=e,{selection:n}=t.state;try{const o=t.domAtPos(n.from);return e.isActive&&!!o.node}catch(o){return!1}}(this.props);return Qr.createElement(vo,b(g({ref:this.menuRef,active:i},o),{ifCreate:!0,height:"auto"}),i&&Qr.createElement($o,g({from:r.from,to:r.to,onCreateLink:t?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink,onRemoveLink:n},o)))}},ti=x(n(67294)),ni=x(n(67294)),oi=wt.textarea`
  font-size: 14px;
  background: ${e=>e.theme.toolbarInput};
  color: ${e=>e.theme.toolbarItem};
  border-radius: 2px;
  width: 296px;
  height: 72px;
  padding: 3px 8px;
  color: #1a1a1a;
  margin: 0;
  outline: none;
  flex-grow: 1;
  resize: none;
  border: 2px solid rgba(0, 0, 0, 0.05);
  border-radius: 5px;
  line-height: normal;
  @media (hover: none) and (pointer: coarse) {
    font-size: 16px;
  }
`,ri=x(n(14912)),ii=class extends ni.Component{constructor(){super(...arguments),this.state={selectedIndex:-1,value:this.value,previousValue:"",results:{}},this.save=e=>{try{this.props.onCreateTeX({value:e})}catch(t){this.props.onShowToast&&this.props.onShowToast(this.props.dictionary.createTexError,"error")}},this.componentWillUnmount=()=>{this.props.view.focus()},this.componentDidMount=()=>{const e=document.querySelector("#texEditor");e&&(this.value?(e.focus(),e.setSelectionRange(0,this.value.length)):e.focus())},this.handleKeyDown=e=>{switch(e.key){case"Enter":return e.preventDefault(),void this.confirm();case"Escape":{e.preventDefault();const{onClose:t}=this.props;return void(t&&t())}}},this.handleChange=async e=>{const t=e.target.value;this.setState({value:t,selectedIndex:-1})},this.handleRemove=()=>{const{view:e,onClose:t}=this.props,{dispatch:n}=this.props.view;n(e.state.tr.deleteSelection()),t&&t()},this.confirm=()=>{const{value:e}=this.state,{onClose:t}=this.props;if(!e)return this.handleRemove(),void(t&&t());this.invalidFormula(e)&&this.save(e)},this.invalidFormula=e=>{try{return ri.default.renderToString(e,{output:"mathml"}),!0}catch(t){return!1}}}get value(){return this.props.selection.node?this.props.selection.node.attrs.tex:""}render(){const{dictionary:e}=this.props,{value:t}=this.state;return ni.createElement(ai,null,ni.createElement(oi,{id:"texEditor",value:t,placeholder:e.inputOrPasteTeX,onKeyDown:this.handleKeyDown,onChange:this.handleChange,rows:3}),ni.createElement(si,null,ni.createElement(li,{onClick:this.confirm,style:this.invalidFormula(t)?{}:{opacity:.4,cursor:"not-allowed"}},"\u786e\u5b9a"),this.invalidFormula(t)?null:ni.createElement(di,null,"\u65e0\u6548\u516c\u5f0f"),ni.createElement(ci,{onClick:()=>{this.handleRemove(),this.props.onClose&&this.props.onClose()}},ni.createElement(Mn,null))))}},ai=wt.div`
  width: 312px;
  pointer-events: all;
  padding: 8px;
  display: block;
`,si=wt.div`
  margin-top: 8px;
  width: 100%;
  height: 32px;
`,li=wt.div`
  float: left;
  background: #212121;
  border-radius: 5px;
  height: 32px;
  width: 60px;
  line-height: 32px;
  text-align: center;
  color: #fff;
  cursor: pointer;
`,ci=wt.div`
  float: right;
  height: 32px;
  width: 32px;
  padding: 8px;
  cursor: pointer;
  border-radius: 4px;
  color: #fff;
  &:hover {
    color: rgba(0, 0, 0, 0);
    background: rgba(0, 0, 0, 0.05);
  }
`,di=wt.div`
  color: rgb(255, 77, 79);
  font-size: 14px;
  float: left;
  line-height: 32px;
  margin-left: 8px;
`,pi=kt(ii);var ui=class extends ti.Component{constructor(){super(...arguments),this.menuRef=ti.createRef(),this.state={left:-1e3,top:void 0},this.handleClickOutside=e=>{e.target&&this.menuRef.current&&this.menuRef.current.contains(e.target)||this.props.onClose()},this.handleCreateTeX=({value:e})=>{var t;const{view:n,onClose:o}=this.props,{state:r}=n;o();const{dispatch:i}=n,{selection:a}=n.state,s=a.$cursor?a.$cursor.pos:a.$to.pos,l=n.state.schema.nodes.block_equation.create({tex:e}),c="block_equation"===(null==(t=a.$anchor.nodeAfter)?void 0:t.type.name);i(r.tr.insert(c?s:s-1,l).deleteSelection())}}componentDidMount(){window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleClickOutside)}render(){const e=this.props,{onClose:t}=e,n=v(e,["onClose"]),{selection:o}=this.props.view.state,r=function(e){const{view:t}=e,{selection:n}=t.state;try{const o=t.domAtPos(n.from);return e.isActive&&!!o.node}catch(o){return!1}}(this.props);return ti.createElement(vo,b(g({ref:this.menuRef,active:r},n),{ifCreate:!0,height:"auto"}),r&&ti.createElement(pi,g({selection:o,onCreateTeX:this.handleCreateTeX,onClose:t},n)))}},hi=x(n(67294));var mi=n(97354),fi=n(77744),gi=class{constructor(e,t,n){this.nodes=e,this.marks=t,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=n||{},"undefined"===typeof this.options.tightLists&&(this.options.tightLists=!0)}flushClose(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null!==e&&void 0!==e||(e=2),e>1){let t=this.delim;const n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let o=1;o<e;o++)this.out+=t+"\n"}this.closed=!1}}wrapBlock(e,t,n,o){const r=this.delim;this.write(t||e),this.delim+=e,o(),this.delim=r,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t){const n=e.split("\n");for(let o=0;o<n.length;o++){const e=this.atBlank()||this.closed;this.write(),this.out+=!1!==t?this.esc(n[o],e):n[o],o!==n.length-1&&(this.out+="\n")}}render(e,t,n){if("number"===typeof t)throw new Error("!");this.nodes[e.type.name](this,e,t,n)}renderContent(e){e.forEach(((t,n,o)=>this.render(t,e,o)))}renderInline(e){const t=[];let n="";const o=(o,r,i)=>{let a=o?o.marks:[];o&&"hard_break"===o.type.name&&(a=a.filter((t=>{if(i+1===e.childCount)return!1;const n=e.child(i+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let s=n;if(n="",o&&o.isText&&a.some((e=>{const t=this.marks[e.type.name];return t&&t.expelEnclosingWhitespace}))){const[e,r,i,l]=/^(\s*)(.*?)(\s*)$/m.exec(o.text);s+=r,n=l,(r||l)&&((o=i?o.withText(i):null)||(a=t))}const l=a.length&&a[a.length-1],c=l&&!1===this.marks[l.type.name].escape,d=a.length-(c?1:0);e:for(let e=0;e<d;e++){const n=a[e];if(!this.marks[n.type.name].mixable)break;for(let o=0;o<t.length;o++){const r=t[o];if(!this.marks[r.type.name].mixable)break;if(n.eq(r)){e>o?a=a.slice(0,o).concat(n).concat(a.slice(o,e)).concat(a.slice(e+1,d)):o>e&&(a=a.slice(0,e).concat(a.slice(e+1,o)).concat(n).concat(a.slice(o,d)));continue e}}}let p=0;for(;p<Math.min(t.length,d)&&a[p].eq(t[p]);)++p;for(;p<t.length;)this.text(this.markString(t.pop(),!1,e,i),!1);if(s&&this.text(s),o){for(;t.length<d;){const n=a[t.length];t.push(n),this.text(this.markString(n,!0,e,i),!1)}c&&o.isText?this.text(this.markString(l,!0,e,i)+o.text+this.markString(l,!1,e,i+1),!1):this.render(o,e,i)}};e.forEach(o),o(null,0,e.childCount)}renderList(e,t,n){this.closed&&this.closed.type===e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);const o="undefined"!==typeof e.attrs.tight?e.attrs.tight:this.options.tightLists,r=this.inTightList,i=this.inList;this.inList=!0,this.inTightList=o,e.forEach(((r,i,a)=>{a&&o&&this.flushClose(1),this.wrapBlock(t,n(a),e,(()=>this.render(r,e,a)))})),this.inList=i,this.inTightList=r}renderTable(e){this.flushClose(1);let t="";const n=this.inTable;this.inTable=!0,this.out+="\n",e.forEach(((e,n,o)=>{e.forEach(((n,r,i)=>{this.out+=0===i?"| ":" | ",n.forEach((t=>{""===t.textContent&&0===t.content.size?this.out+="  ":(this.closed=!1,this.render(t,e,i))})),0===o&&("center"===n.attrs.alignment?t+="|:---:":"left"===n.attrs.alignment?t+="|:---":"right"===n.attrs.alignment?t+="|---:":t+="|----")})),this.out+=" |\n",t&&(this.out+=`${t}|\n`,t=void 0)})),this.inTable=n}esc(e="",t){return e=e.replace(/[`*\\~\[\]]/g,"\\$&"),t&&(e=e.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),this.inTable&&(e=e.replace(/\|/gi,"\\$&")),e}quote(e){const t=-1===e.indexOf('"')?'""':-1===e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let o=0;o<t;o++)n+=e;return n}markString(e,t,n,o){const r=this.marks[e.type.name],i=t?r.open:r.close;return"string"===typeof i?i:i(this,e,n,o)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}}},bi=x(n(9980)),vi=x(n(19543));function ki({rules:e={},plugins:t=[]}){const n=(0,bi.default)("default",g({breaks:!1,html:!1,linkify:!1},e));return t.forEach((e=>n.use(e).use(vi.default,{leftDelimiter:"{:",rightDelimiter:"}",allowedAttributes:["width","height"]}))),n}var wi=class{constructor(e=[],t){t&&e.forEach((e=>{e.bindEditor(t)})),this.extensions=e}get nodes(){return this.extensions.filter((e=>"node"===e.type)).reduce(((e,t)=>b(g({},e),{[t.name]:t.schema})),{})}serializer(){const e=this.extensions.filter((e=>"node"===e.type)).reduce(((e,t)=>b(g({},e),{[t.name]:t.toMarkdown})),{}),t=this.extensions.filter((e=>"mark"===e.type)).reduce(((e,t)=>b(g({},e),{[t.name]:t.toMarkdown})),{});return new class{constructor(e,t){this.nodes=e,this.marks=t}serialize(e,t){const n=new gi(this.nodes,this.marks,t);return n.renderContent(e),n.out}}(e,t)}parser({schema:e,rules:t,plugins:n}){const o=this.extensions.filter((e=>"mark"===e.type||"node"===e.type)).reduce(((e,t)=>{const n=t.parseMarkdown();return n?b(g({},e),{[t.markdownToken||t.name]:n}):e}),{});return new fi.MarkdownParser(e,ki({rules:t,plugins:n}),o)}get marks(){return this.extensions.filter((e=>"mark"===e.type)).reduce(((e,{name:t,schema:n})=>b(g({},e),{[t]:n})),{})}get plugins(){return this.extensions.filter((e=>"plugins"in e)).reduce(((e,{plugins:t})=>[...e,...t]),[])}get rulePlugins(){return this.extensions.filter((e=>"rulePlugins"in e)).reduce(((e,{rulePlugins:t})=>[...e,...t]),[])}keymaps({schema:e}){return[...this.extensions.filter((e=>["extension"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({schema:e}))),...this.extensions.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({type:e[`${t.type}s`][t.name],schema:e}))),{Tab:()=>!0,"Shift-Tab":()=>!0}].map((e=>(0,mi.keymap)(e)))}inputRules({schema:e}){return[...this.extensions.filter((e=>["extension"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({schema:e}))),...this.extensions.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({type:e[`${t.type}s`][t.name],schema:e})))].reduce(((e,t)=>[...e,...t]),[])}commands({schema:e,view:t}){return this.extensions.filter((e=>e.commands)).reduce(((n,o)=>{const{name:r,type:i}=o,a={},s=o.commands(g({schema:e},["node","mark"].includes(i)?{type:e[`${i}s`][r]}:{})),l=(e,n)=>!!t.editable&&(t.focus(),e(n)(t.state,t.dispatch,t)),c=(e,t)=>{Array.isArray(t)?a[e]=e=>t.forEach((t=>l(t,e))):"function"===typeof t&&(a[e]=e=>l(t,e))};return"object"===typeof s?Object.entries(s).forEach((([e,t])=>{c(e,t)})):c(r,s),g(g({},n),a)}),{})}},xi=x(n(67294)),yi=x(n(73935)),Ci=x(n(318)),Si=x(n(34272));function Mi(e,t=0){const n=(o=e.textContent,`h-${(0,Ci.default)((0,Si.default)(o,{remove:/[!"#$%&'\.()*+,\/:;<=>?@\[\]\\^_`{|}~]/g,lower:!0}))}`);var o;return 0===t?n:`${n}-${t}`}function Ei(e,t){const n=Mi(e);return`rme-${t||(null==window?void 0:window.location.pathname)}\u2013${n}`}var Li=wt("div")`
  color: ${e=>e.theme.text};
  background: ${e=>e.theme.background};
  font-family: ${e=>e.theme.fontFamily};
  font-weight: ${e=>e.theme.fontWeight};
  font-size: 1em;
  line-height: 1.7em;
  width: 100%;

  .ProseMirror {
    position: relative;
    outline: none;
    word-wrap: break-word;
    white-space: pre-wrap;
    white-space: break-spaces;
    -webkit-font-variant-ligatures: none;
    font-variant-ligatures: none;
    font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
  }

  pre {
    white-space: pre-wrap;
  }

  li {
    position: relative;
  }

  .image {
    text-align: center;
    max-width: 100%;
    clear: both;
    margin: 12px 0px 12px 0px;

    img {
      pointer-events: ${e=>e.readOnly?"initial":"none"};
      display: inline-block;
    }
  }

  .video {
    text-align: center;
    max-width: 100%;
    margin: 12px 0px 12px 0px;
    clear: both;
  }

  .image.placeholder {
    position: relative;
    background: ${e=>e.theme.background};
    // margin-bottom: calc(28px + 1.2em);
    img {
      opacity: 0.5;
    }
  }

  .image-replacement-uploading {
    img {
      opacity: 0.5;
    }
  }

  .image-right {
    // float: right;
    text-align: right;
    width: 100%;
    clear: initial;
  }

  .image-left {
    // float: left;
    text-align: left;
    width: 100%;
    clear: initial;
  }

  .video-right {
    // float: right;
    text-align: right;
    width: 100%;
    clear: initial;
  }

  .video-left {
    // float: left;
    text-align: left;
    width: 100%;
    clear: initial;
  }

  .ProseMirror-hideselection *::selection {
    background: transparent;
  }
  .ProseMirror-hideselection *::-moz-selection {
    background: transparent;
  }
  .ProseMirror-hideselection {
    caret-color: transparent;
  }

  .ProseMirror-selectednode {
    outline: 2px solid
      ${e=>e.readOnly?"transparent":"#007AFF"};
  }

  hr.ProseMirror-selectednode {
    outline: none;
    border-radius: 3px;
    background: rgba(0, 0, 0, 0.05);
  }
  .ProseMirror-selectednode[tex] {
    outline: none;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.05);
  }

  /* Make sure li selections wrap around markers */

  li.ProseMirror-selectednode {
    outline: none;
  }

  li.ProseMirror-selectednode:after {
    content: "";
    position: absolute;
    left: ${e=>e.rtl?"-2px":"-32px"};
    right: ${e=>e.rtl?"-32px":"-2px"};
    top: -2px;
    bottom: -2px;
    border: 2px solid ${e=>e.theme.selected};
    pointer-events: none;
  }

  .ProseMirror[contenteditable="false"] {
    .caption {
      pointer-events: none;
    }
    .caption:empty {
      visibility: hidden;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 1em 0 0.5em;
    font-weight: bold;
    cursor: text;

    &:not(.placeholder):before {
      display: ${e=>e.readOnly?"none":"inline-block"};
      font-family: ${e=>e.theme.fontFamilyMono};
      color: ${e=>e.theme.textSecondary};
      font-size: 13px;
      line-height: 0;
      margin-${e=>e.rtl?"right":"left"}: -24px;
      transition: opacity 150ms ease-in-out;
      opacity: 0;
      width: 24px;
    }

    &:hover,
    &:focus-within {
      .heading-actions {
        // 
        // opacity: 1;
      }
    }
  }

  blockquote h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 500
  }

  h4,
  h5,
  h6 {
    font-size: 16px;
  }

  h5 {
    color: rgb(140,140,140);
  }

  h6 {
    color: rgb(140,140,140);
    font-weight: 500;
  }

  .heading-content {
    &:before {
      content: "";
      display: inline;
    }
  }

  .heading-name {
    color: ${e=>e.theme.text};

    &:hover {
      text-decoration: none;
    }
  }

  a:first-child {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin-top: 0;
    }
  }

  // h1:not(.placeholder):before {
  //   content: "H1";
  // }
  // h2:not(.placeholder):before {
  //   content: "H2";
  // }
  // h3:not(.placeholder):before {
  //   content: "H3";
  // }
  // h4:not(.placeholder):before {
  //   content: "H4";
  // }
  // h5:not(.placeholder):before {
  //   content: "H5";
  // }
  // h6:not(.placeholder):before {
  //   content: "H6";
  // }

  .ProseMirror-focused {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      &:not(.placeholder):before {
        opacity: 1;
      }
    }
  }

  .with-emoji {
    margin-${e=>e.rtl?"right":"left"}: -1em;
  }

  .heading-anchor,
  .heading-fold {
    display: inline-block;
    color: ${e=>e.theme.text};
    opacity: .75;
    cursor: pointer;
    background: none;
    outline: none;
    border: 0;
    margin: 0;
    padding: 0;
    text-align: left;
    font-family: ${e=>e.theme.fontFamilyMono};
    font-size: 14px;
    line-height: 0;
    width: 12px;
    height: 24px;

    &:focus,
    &:hover {
      opacity: 1;
    }
  }

  .heading-anchor {
    opacity: 0 !important;
  }

  .heading-actions {
    opacity: 0;
    pointer-events: none;
    background: ${e=>e.theme.background};
    margin-${e=>e.rtl?"right":"left"}: -26px;
    flex-direction: ${e=>e.rtl?"row-reverse":"row"};
    display: inline-flex;
    position: relative;
    top: -2px;
    width: 26px;
    height: 24px;

    &.collapsed {
      opacity: 1;
    }

    &.collapsed .heading-anchor {
      opacity: 0;
    }

    &.collapsed .heading-fold {
      opacity: 1;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    &:hover {
      .heading-anchor {
        // opacity: 0.75 !important;
      }
      .heading-anchor:hover {
        // opacity: 1 !important;
      }
    }
  }

  h1 {
    line-height: 44px;
    margin: 28px 0px 0px;
  }

  h2 {
    line-height: 36px;
    margin: 16px 0px 0px;
  }

  h3 {
    line-height: 26px;
    margin: 12px 0px 0px;
  }

  .heading-fold {
    display: inline-block;
    transform-origin: center;
    padding: 0;

    &.collapsed {
      transform: rotate(${e=>e.rtl?"90deg":"-90deg"});
      transition-delay: 0.1s;
      opacity: 1;
    }
  }

  .placeholder:before {
    display: block;
    opacity: 0;
    transition: opacity 150ms ease-in-out;
    content: ${e=>e.readOnly?"":"attr(data-empty-text)"};
    pointer-events: none;
    height: 0;
    color: ${e=>e.theme.placeholder};
  }

  /** Show the placeholder if focused or the first visible item nth(2) accounts for block insert trigger */
  .ProseMirror-focused .placeholder:before,
  .placeholder:nth-child(1):before,
  .placeholder:nth-child(2):before {
    opacity: 1;
  }

  .notice-block {
    display: flex;
    align-items: center;
    background: ${e=>e.theme.noticeInfoBackground};
    color: ${e=>e.theme.noticeInfoText};
    border-radius: 4px;
    padding: 8px 16px;
    margin: 8px 0;

    a {
      color: ${e=>e.theme.noticeInfoText};
    }

    a:not(.heading-name) {
      text-decoration: underline;
    }
  }

  .notice-block .content {
    flex-grow: 1;
    min-width: 0;
  }

  .notice-block .icon {
    width: 24px;
    height: 24px;
    align-self: flex-start;
    margin-${e=>e.rtl?"left":"right"}: 4px;
    position: relative;
    top: 1px;
  }

  .notice-block.tip {
    background: ${e=>e.theme.noticeTipBackground};
    color: ${e=>e.theme.noticeTipText};

    a {
      color: ${e=>e.theme.noticeTipText};
    }
  }

  .notice-block.warning {
    background: ${e=>e.theme.noticeWarningBackground};
    color: ${e=>e.theme.noticeWarningText};

    a {
      color: ${e=>e.theme.noticeWarningText};
    }
  }

  blockquote {
    margin: 8px 0;
    padding-left: 12px;
    // font-style: italic;
    overflow: hidden;
    position: relative;

    &:before {
      content: "";
      display: inline-block;
      width: 2px;
      border-radius: 1px;
      position: absolute;
      margin-${e=>e.rtl?"right":"left"}: -12px;
      top: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.14);
    }
  }

  b,
  strong {
    font-weight: 600;
  }

  .template-placeholder {
    color: ${e=>e.theme.placeholder};
    border-bottom: 1px dotted ${e=>e.theme.placeholder};
    border-radius: 2px;
    cursor: text;

    &:hover {
      border-bottom: 1px dotted
        ${e=>e.readOnly?e.theme.placeholder:e.theme.textSecondary};
    }
  }

  p {
    margin: 0;
    span:first-child + br:last-child {
      display: none;
    }
  }

  & p{
    margin: 7px 0px 3px;
  }

  a {
    color: ${e=>e.theme.link};
    cursor: pointer;
  }

  a:hover {
    text-decoration: ${e=>e.readOnly?"underline":"none"};
  }

  ul,
  ol {
    margin: ${e=>e.rtl?"3px -26px 3px 0.1em":"3px 0.1em 3px -26px"};
    padding: ${e=>e.rtl?"0 44px 0 0":"0 0 0 44px"};
  }

  ol ol {
    list-style: lower-alpha;
  }

  ol ol ol {
    list-style: lower-roman;
  }

  ul.checkbox_list {
    list-style: none;
    padding: 0;
    margin: ${e=>e.rtl?"0 -24px 0 0":"0 0 0 -24px"};
  }

  ul li,
  ol li {
    position: relative;
    white-space: initial;

    p {
      white-space: pre-wrap;
    }

    > div {
      width: 100%;
    }
  }

  ul.checkbox_list li {
    display: flex;
    padding-${e=>e.rtl?"right":"left"}: 24px;
  }

  ul.checkbox_list li.checked > div > p {
    color: ${e=>e.theme.textSecondary};
    text-decoration: line-through;
  }

  // 
  // ul li::before,
  // ol li::before {
  //   background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iOCIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iOCIgeT0iMTEiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+CjxyZWN0IHg9IjgiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iMTMiIHk9IjExIiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+Cjwvc3ZnPgo=") no-repeat;
  //   background-position: 0 2px;
  //   content: "";
  //   display: ${e=>e.readOnly?"none":"inline-block"};
  //   cursor: grab;
  //   width: 24px;
  //   height: 24px;
  //   position: absolute;
  //   ${e=>e.rtl?"right":"left"}: -40px;
  //   opacity: 0;
  //   transition: opacity 200ms ease-in-out;
  // }

  ul li[draggable=true]::before,
  ol li[draggable=true]::before {
    cursor: grabbing;
  }

  ul > li.counter-2::before,
  ol li.counter-2::before {
    ${e=>e.rtl?"right":"left"}: -50px;
  }

  ul > li.hovering::before,
  ol li.hovering::before {
    opacity: 0.5;
  }

  ul li.ProseMirror-selectednode::after,
  ol li.ProseMirror-selectednode::after {
    display: none;
  }

  ul.checkbox_list li::before {
    ${e=>e.rtl?"right":"left"}: 0;
  }

  ul.checkbox_list li input {
    cursor: pointer;
    pointer-events: ${e=>e.readOnly&&!e.readOnlyWriteCheckboxes?"none":"initial"};
    opacity: ${e=>e.readOnly&&!e.readOnlyWriteCheckboxes?.75:1};
    margin: ${e=>e.rtl?"0.5em 0 0 0.5em":"0.5em 0.5em 0 0"};
    width: 14px;
    height: 14px;
  }

  li p:first-child {
    margin: 0;
    word-break: break-word;
  }

  hr {
    position: relative;
    height: 17px;
    border: 0;
  }

  hr:before {
    content: "";
    display: block;
    position: absolute;
    border-top: 1px solid rgba(0, 0, 0, 0.14);
    top: 0.5em;
    left: 0;
    right: 0;
  }

  hr.page-break {
    page-break-after: always;
  }

  hr.page-break:before {
    border-top: 1px dashed ${e=>e.theme.horizontalRule};
  }

  code {
    border-radius: 3px;
    vertical-align: top;
    background: rgba(0, 0, 0, 0.05);
    padding: 3px 4px;
    font-family: ${e=>e.theme.fontFamilyMono};
    font-size: 80%;
  }

  mark {
    border-radius: 1px;
    color: ${e=>e.theme.textHighlightForeground};
    background: ${e=>e.theme.textHighlight};

    a {
      color: ${e=>e.theme.textHighlightForeground};
    }
  }

  .code-block {
    margin: 12px 0px;
  }

  .code-block,
  .notice-block {
    position: relative;

    select,
    button {
      background: ${e=>e.theme.blockToolbarBackground};
      color: ${e=>e.theme.blockToolbarItem};
      border-width: 1px;
      font-size: 13px;
      display: none;
      position: absolute;
      border-radius: 4px;
      padding: 2px;
      z-index: 1;
      top: 4px;
    }

    &.code-block {
      select {
        left: 8px;
        top: 8px;
        width: 120px;
        height: 24px;
        background;
        display: inline;
        background-color: rgba(0,0,0,0);
        border: none;
        ${e=>e.readOnly?"pointer-events:none;":""}
        &:hover {
          background: rgba(0, 0, 0, 0.05);
        }
      }
      button {
        top: 8px;
        right: 12px;
        display: inline;
        background-color: rgba(0,0,0,0);
        border: none;
        &:hover {
          background: rgba(0, 0, 0, 0.05);
        }
      }
    }

    &.notice-block {
      select,
      button {
        ${e=>e.rtl?"left":"right"}: 4px;
      }
    }

    button {
      padding: 2px 4px;
    }

    &:hover {
      // select {
      //   display: ${e=>e.readOnly?"none":"inline"};
      // }

      // button {
      //   display: ${e=>e.readOnly?"inline":"none"};
      // }
    }

    select:focus,
    select:active {
      display: inline;
    }
  }

  pre {
    display: block;
    overflow-x: auto;
    padding: 56px 20px 24px;
    line-height: 1.4em;
    position: relative;
    // background: ${e=>e.theme.codeBackground};
    background: rgba(0, 0, 0, 0.03);
    border-radius: 4px;
    // border: 1px solid ${e=>e.theme.codeBorder};

    -webkit-font-smoothing: initial;
    font-family: ${e=>e.theme.fontFamilyMono};
    font-size: 13px;
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
    color: ${e=>e.theme.code};
    margin: 0;

    code {
      font-size: 13px;
      background: none;
      padding: 0;
      border: 0;
    }
  }

  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: ${e=>e.theme.codeComment};
  }

  .token.punctuation {
    color: ${e=>e.theme.codePunctuation};
  }

  .token.namespace {
    opacity: 0.7;
  }

  .token.operator,
  .token.boolean,
  .token.number {
    color: ${e=>e.theme.codeNumber};
  }

  .token.property {
    color: ${e=>e.theme.codeProperty};
  }

  .token.tag {
    color: ${e=>e.theme.codeTag};
  }

  .token.string {
    color: ${e=>e.theme.codeString};
  }

  .token.selector {
    color: ${e=>e.theme.codeSelector};
  }

  .token.attr-name {
    color: ${e=>e.theme.codeAttr};
  }

  .token.entity,
  .token.url,
  .language-css .token.string,
  .style .token.string {
    color: ${e=>e.theme.codeEntity};
  }

  .token.attr-value,
  .token.keyword,
  .token.control,
  .token.directive,
  .token.unit {
    color: ${e=>e.theme.codeKeyword};
  }

  .token.function {
    color: ${e=>e.theme.codeFunction};
  }

  .token.statement,
  .token.regex,
  .token.atrule {
    color: ${e=>e.theme.codeStatement};
  }

  .token.placeholder,
  .token.variable {
    color: ${e=>e.theme.codePlaceholder};
  }

  .token.deleted {
    text-decoration: line-through;
  }

  .token.inserted {
    border-bottom: 1px dotted ${e=>e.theme.codeInserted};
    text-decoration: none;
  }

  .token.italic {
    font-style: italic;
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }

  .token.important {
    color: ${e=>e.theme.codeImportant};
  }

  .token.entity {
    cursor: help;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 4px;
    margin-top: 1em;
    box-sizing: border-box;

    * {
      box-sizing: border-box;
    }

    tr {
      position: relative;
      border-bottom: 1px solid ${e=>e.theme.tableDivider};
    }

    th {
      background: ${e=>e.theme.tableHeaderBackground};
      & strong {
        font-weight: bold !important;
      }
    }

    td,
    th {
      position: relative;
      vertical-align: top;
      border: 1px solid ${e=>e.theme.tableDivider};
      position: relative;
      padding: 4px 8px;
      text-align: ${e=>e.rtl?"right":"left"};
      min-width: 100px;
    }

    .selectedCell {
      background: ${e=>e.readOnly?"inherit":"rgba(0, 122, 255, 0.08)"};

      /* fixes Firefox background color painting over border:
       * https://bugzilla.mozilla.org/show_bug.cgi?id=688556 */
      background-clip: padding-box;
    }

    .grip-column {
      /* usage of ::after for all of the table grips works around a bug in
       * prosemirror-tables that causes Safari to hang when selecting a cell
       * in an empty table:
       * https://github.com/ProseMirror/prosemirror/issues/947 */
      &::after {
        content: "";
        cursor: pointer;
        position: absolute;
        top: -9px;
        ${e=>e.rtl?"right":"left"}: 0;
        width: 100%;
        height: 8px;
        background: rgba(0, 0, 0, 0.08);
        // border-bottom: 3px solid ${e=>e.theme.background};
        display: ${e=>e.readOnly?"none":"block"};
        box-sizing: content-box;
      }

      &:hover::after {
        background: rgba(0, 0, 0, 0.14);
      }
      &.first::after {
        border-top-${e=>e.rtl?"right":"left"}-radius: 5px;
      }
      &.last::after {
        border-top-${e=>e.rtl?"left":"right"}-radius: 5px;
      }
      &.selected::after {
        background: #007AFF
      }
    }

    .grip-row {
      &::after {
        content: "";
        cursor: pointer;
        position: absolute;
        ${e=>e.rtl?"right":"left"}: -9px;
        top: 0;
        height: 100%;
        width: 8px;
        background: rgba(0, 0, 0, 0.08);
        // border-${e=>e.rtl?"left":"right"}: 3px solid;
        // border-color: ${e=>e.theme.background};
        display: ${e=>e.readOnly?"none":"block"};
        box-sizing: content-box;
      }

      &:hover::after {
        background: rgba(0, 0, 0, 0.14);
      }
      &.first::after {
        border-top-${e=>e.rtl?"right":"left"}-radius: 5px;
      }
      &.last::after {
        border-bottom-${e=>e.rtl?"right":"left"}-radius: 5px;
      }
      &.selected::after {
        background: #007AFF
      }
    }

    .grip-table {
      &::after {
        content: "";
        cursor: pointer;
        background: ${e=>e.theme.tableDivider};
        width: 13px;
        height: 13px;
        border-radius: 13px;
        border: 2px solid ${e=>e.theme.background};
        position: absolute;
        top: -18px;
        ${e=>e.rtl?"right":"left"}: -18px;
        display: ${e=>e.readOnly?"none":"block"};
      }

      &:hover::after {
        background: ${e=>e.theme.text};
      }
      &.selected::after {
        background: ${e=>e.theme.tableSelected};
      }
    }
  }

  .scrollable-wrapper {
    position: relative;
    margin: 16px 0px;
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;

    &:hover {
      scrollbar-color: ${e=>e.theme.scrollbarThumb} ${e=>e.theme.scrollbarBackground};
    }

    & ::-webkit-scrollbar {
      height: 14px;
      background-color: transparent;
    }

    &:hover ::-webkit-scrollbar {
      background-color: ${e=>e.theme.scrollbarBackground};
    }

    & ::-webkit-scrollbar-thumb {
      background-color: transparent;
      border: 3px solid transparent;
      border-radius: 7px;
    }

    &:hover ::-webkit-scrollbar-thumb {
      background-color: ${e=>e.theme.scrollbarThumb};
      border-color: ${e=>e.theme.scrollbarBackground};
    }
  }

  .scrollable {
    overflow-y: hidden;
    overflow-x: auto;
    padding-${e=>e.rtl?"right":"left"}: 1em;
    margin-${e=>e.rtl?"right":"left"}: -1em;
    border-${e=>e.rtl?"right":"left"}: 1px solid transparent;
    border-${e=>e.rtl?"left":"right"}: 1px solid transparent;
    transition: border 250ms ease-in-out 0s;
  }

  .scrollable-shadow {
    position: absolute;
    top: 0;
    bottom: 0;
    ${e=>e.rtl?"right":"left"}: -1em;
    width: 16px;
    transition: box-shadow 250ms ease-in-out;
    border: 0px solid transparent;
    border-${e=>e.rtl?"right":"left"}-width: 1em;
    pointer-events: none;

    &.left {
      box-shadow: 16px 0 16px -16px inset rgba(0, 0, 0, 0.25);
      border-left: 1em solid ${e=>e.theme.background};
    }

    &.right {
      right: 0;
      left: auto;
      box-shadow: -16px 0 16px -16px inset rgba(0, 0, 0, 0.25);
    }
  }

  .block-menu-trigger {
    opacity: 0;
    pointer-events: none;
    display: ${e=>e.readOnly?"none":"inline"};
    width: 24px;
    height: 24px;
    color: #525252;
    background: rgba(0, 0, 0, 0.05);
    position: absolute;
    border-radius: 4px;
    transition: color 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
      transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
      opacity 150ms ease-in-out;
    outline: none;
    border: 0;
    padding: 5px;
    margin-top: 1px;
    margin-${e=>e.rtl?"right":"left"}: -30px;

    & svg {
      float: left;
    }

    &:hover,
    &:focus {
      cursor: pointer;
      transform: scale(1.1);
      color: ${e=>e.theme.text};
    }
  }

  .ProseMirror-focused .block-menu-trigger,
  .block-menu-trigger:active,
  .block-menu-trigger:focus {
    opacity: 1;
    pointer-events: initial;
  }

  .ProseMirror-gapcursor {
    display: none;
    pointer-events: none;
    position: absolute;
  }

  .ProseMirror-gapcursor:after {
    content: "";
    display: block;
    position: absolute;
    top: -2px;
    width: 20px;
    border-top: 1px solid ${e=>e.theme.cursor};
    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
  }

  .folded-content {
    display: none;
  }

  @keyframes ProseMirror-cursor-blink {
    to {
      visibility: hidden;
    }
  }

  .ProseMirror-focused .ProseMirror-gapcursor {
    display: block;
  }

  @media print {
    .placeholder:before,
    .block-menu-trigger,
    .heading-actions,
    h1:not(.placeholder):before,
    h2:not(.placeholder):before,
    h3:not(.placeholder):before,
    h4:not(.placeholder):before,
    h5:not(.placeholder):before,
    h6:not(.placeholder):before {
      display: none;
    }

    .page-break {
      opacity: 0;
    }

    em,
    blockquote {
      font-family: "SF Pro Text", ${e=>e.theme.fontFamily};
    }
  }

  .goku-editor-code-select {
    margin-left: 12px;
    height: 24px;
    font-size: 12px;
    line-height: 16px;
    display: inline-block;
    border: none;
    box-sizing: border-box;
    padding: 4px 8px 4px 8px;
    pointer-events: all;
    position: relative;
    border-radius: 4px;
    z-index: 1;
    cursor: pointer;
    &:hover {
      background: rgba(0, 0, 0, 0.08);
    }
    &::selection {
      background: rgba(0,0,0,0);
    }
  }

  .current .goku-editor-code-select {
    background: rgba(0, 0, 0, 0.05);
    padding: 4px 22px 4px 8px;
    border-radius: 4px 0px 0px 4px;
    &:hover {
      background: rgba(0, 0, 0, 0.08);
    }
    &::after {
      content: "";
      display: inline-block;
      background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorClickDown.svg");
      background-size: 100% 100%;
      height: 14px;
      width: 14px;
      box-sizing: content-box;
      position: absolute;
      top: 5px;
      right: 4px;
    }
  }

  .current .goku-editor-code-select.edit-readonly {
    padding: 4px 8px 4px 8px;
    border-radius: 4px;
    &::after {
      content: "";
      display: none;
    }
  }

  .goku-editor-code-select-add {
    height: 14px;
    width: 14px;
    padding: 3px;
    transform: translateY(6px);
    margin-left: 12px;
    display: inline-block;
    border: none;
    ${e=>e.readOnly?"pointer-events:none;":""}
    position: relative;
    border-radius: 4px;
    box-sizing: content-box;
    z-index: 1;
    cursor: pointer;
    background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorSelectedAdd.svg");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 14px 14px;
  }

  .goku-editor-code-select-add.edit-readonly {
    display:none;
  }

  .goku-editor-code-copy {
    top: 0px !important;
    right: 12px;
    padding: 5px;
    height: 24px;
    width: 24px;
    display: inline-block;
    background-color: rgba(0,0,0,0);
    border: none;
    cursor: pointer;
    &:hover {
      background-color: rgba(0, 0, 0, 0.08);
    }
    &::after {
      content: "";
      background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorCodeCopy.svg");
      background-size: 100% 100%;
      display: inline-block;
      height: 14px;
      width: 14px;
      box-sizing: content-box;
      position: absolute;
      top: 5px;
      right: 5px;
    }
  }

  .goku-editor-code-select-box {
    height: 24px;
    display: inline-block;
    position: relative;
    font-size: 16px;
  }

  .goku-editor-code-tab-delete {
    display: none;
    height: 24px;
    width: 24px;
    box-sizing: border-box;
    margin-left: 1px;
    z-index: 20;
    border-radius: 0px 4px 4px 0px;
    background: rgba(0, 0, 0, 0.05);
    background-size: 100% 100%;
    position: relative;
    font-size: 14px;
    cursor: pointer;
    vertical-align: middle;
    &:hover {
      background: rgba(0, 0, 0, 0.08);
    }
    &::after {
      content: "";
      background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorTabDelete.svg");
      background-size: 100% 100%;
      display: inline-block;
      height: 12px;
      width: 12px;
      box-sizing: content-box;
      position: absolute;
      top: 6px;
      right: 6px;
    }
  }

  .current .goku-editor-code-tab-delete {
    display: inline-block;
    cursor: pointer;
  }

  .goku-editor-code-select-option-container {
    position: absolute;
    top: 32px;
    left: 12px;
    display: none;
    width: 180px;
    box-sizing: border-box;
    z-index: 100;
    height: 248px;
    padding: 6px;
    overflow: auto;
    background: #fff;
    border: 1px solid rgba(0, 0, 0, 0.03);
    box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04), 0px 12px 48px rgba(0, 0, 0, 0.04);
    border-radius: 4px;
  }

  .show.goku-editor-code-select-option-container {
    display: block;
  }

  .goku-editor-code-select-option {
    height: 32px;
    width: 168px;
    cursor: pointer;
    padding-left: 26px;
    line-height: 32px;
    position: relative;
  }

  .goku-editor-code-select-option.selected {
    font-weight: 500;
    &::before {
      content: "";
      display: inline-block;
      background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorSelected.png");
      background-size: 100% 100%;
      position: absolute;
      height: 14px;
      width: 14px;
      margin-top: 9px;
      line-height: 32px;
      left: 4px;
    }
  }

  .editor-uploading-img {
    height: 300px;
    width: 480px;
    text-align: center;
    background: #F5F5F5;
    border-radius: 4px;
    color: rgba(26, 26, 26, 0.75);
    margin: auto;
    img {
      height: 60px;
      margin-top: 112px;
    }
  }

  .prism-player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%!important;
    height: 100%!important;
  }

  .editor-selection-tooltip {
    position: absolute;
    top: -40px;
    left: 50%;
    // width: 80px;
    box-sizing: border-box;
    transform: translateX(-50%);
    background: #2A2A2A;
    border-radius: 4px;
    display: none;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    color: #fff;
    padding: 6px 12px;
    &::after {
      content: "";
      display: block;
      position: absolute;
      width: 0;
      height: 0;
      border-color: transparent;
      border-width: 8px;
      border-style: solid;
      top: 100%;
      left: 50%;
      margin-left: -8px;
      border-top-color: #2A2A2A;
    }
  }

  .goku-editor-link-icon:hover .editor-selection-tooltip {
    display: inline-block;
  }

  .prism-player {
    &:focus-visible {
      outline: #fff auto 2px;
    }
  }

  // .editor-normal-video {
  //   &:focus-visible {
  //     outline: #fff auto 4px;
  //   }
  // }
`,Ai=wt("div")`
  width: 100%;
  height: ${e=>e.spaceHeight?Math.max(e.spaceHeight,400):"400"}px;
`,Ii=(bt`
  .hover-a-tag-el {
    position: absolute;
    white-space:nowrap;
    
    height: 32px;
    background: #FFFFFF;
    box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04), 0px 12px 48px rgba(0, 0, 0, 0.04);
    border-radius: 5px;
    display: none;
    transform: translateX(-50%);
    padding: 6px 8px;
    font-size: 14px;
    line-height: 20px;
    text-align: center;
    color: #1A1A1A;
    box-sizing: border-box;
    z-index: 100;
    & .hover-a-tag-el-value {
      max-width: 240px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
    &::before {
      content: "";
      display: inline-block;
      height: 10px;
      width: 100%;
      position: absolute;
      top: -10px;
      left: 0px;
    }
  }
  .goku-editor-link-a {
    position: relative;
    text-selectable: true;
    &:hover {
      .hover-a-tag-el {
        display:flex;
      }
    }
  }


  .goku-editor-separator {
    height: 16px;
    width: 1px;
    background: rgba(0, 0, 0, 0.05);
    display: inline-block;
    margin-left: 8px;
    margin-top: 4px;
    box-sizing: border-box;
    margin-left: 10px;
  }

  .goku-editor-link-icon {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    display: inline-block;
    padding: 5px;
    pointer-events: all;
    box-sizing: border-box;
    margin-left: 10px;
    position: relative;
    margin-top: -2px;
    &:hover {
      background: rgba(0, 0, 0, 0.05);
    }
  }

  .goku-editor-link-delete {
    &::after {
      content: "";
      display: inline-block;
      background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/1680780981787Icon.png");
      background-size: 100% 100%;
      height: 14px;
      width: 14px;
      position: absolute;
      top: 4px;
      left: 5px;
    }
  }

  .editor-selection-tooltip {
    position: absolute;
    top: -40px;
    left: 50%;
    // width: 80px;
    box-sizing: border-box;
    transform: translateX(-50%);
    background: #2A2A2A;
    border-radius: 4px;
    display: none;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    color: #fff;
    padding: 6px 12px;
    &::after {
      content: "";
      display: block;
      position: absolute;
      width: 0;
      height: 0;
      border-color: transparent;
      border-width: 8px;
      border-style: solid;
      top: 100%;
      left: 50%;
      margin-left: -8px;
      border-top-color: #2A2A2A;
    }
  }

  .goku-editor-link-icon:hover .editor-selection-tooltip {
    display: inline-block;
  }
}`,class{constructor(e={}){this.options=g(g({},this.defaultOptions),e)}bindEditor(e){this.editor=e}get type(){return"extension"}get name(){return""}get plugins(){return[]}get rulePlugins(){return[]}keys(e){return{}}inputRules(e){return[]}commands(e){return e=>()=>!1}get defaultOptions(){return{}}}),$i=class extends Ii{get type(){return"node"}get markdownToken(){return""}toMarkdown(e,t){console.error("toMarkdown not implemented",e,t)}parseMarkdown(){}},Ti=n(49270);var Oi=class extends $i{get name(){return"doc"}get schema(){return{content:"block+"}}commands({schema:e}){return{toggleBlockInitial:()=>{return t=e.nodes.paragraph,(e,n)=>(0,Ti.setBlockType)(t)(e,n);var t},deleteCodeBlock:()=>(e,t)=>{const n=e.selection.$anchor;for(let o=n.depth;o>0;o--){if("code_block"===n.node(o).type.name)return t&&t(e.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0}return!1}}}},Ri=class extends $i{get name(){return"text"}get schema(){return{group:"inline"}}toMarkdown(e,t){e.text(t.text)}keys(){return{Tab:(e,t)=>{const{tr:n,selection:o}=e,r=e.selection.$head;let i="";for(let a=r.depth;a>0;a--)r.node(a).type&&(i+=r.node(a).type.name);return"paragraph"===i&&(t(n.insertText("  ",o.from,o.to)),!0)}}}},Pi=n(78665),Di=n(49270);function Ni(e,t){return(n,o)=>Xn(e)(n)?(0,Di.lift)(n,o):(0,Di.wrapIn)(e,t)(n,o)}var _i=class extends $i{get name(){return"blockquote"}get schema(){return{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}inputRules({type:e}){return[(0,Pi.wrappingInputRule)(/^\s*>\s$/,e)]}commands({type:e}){return()=>Ni(e)}keys({type:e}){return{"Ctrl->":Ni(e),"Mod-]":Ni(e),"Shift-Enter":(t,n)=>{if(!Xn(e)(t))return!1;const{tr:o,selection:r}=t;return n(o.split(r.to)),!0}}}toMarkdown(e,t){e.wrapBlock("> ",null,t,(()=>e.renderContent(t)))}parseMarkdown(){return{block:"blockquote"}}},Bi=n(78665),zi=n(74032),Hi=n(69124);function Vi(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.checkbox_list}function ji(e,t){return(n,o)=>{const{schema:r,selection:i}=n,{$from:a,$to:s}=i,l=a.blockRange(s);if(!l)return!1;const c=(0,Hi.findParentNode)((e=>Vi(e,r)))(i);if(l.depth>=1&&c&&l.depth-c.depth<=1){if(c.node.type===e)return(0,zi.liftListItem)(t)(n,o);if(Vi(c.node,r)&&e.validContent(c.node.content)){const{tr:t}=n;return t.setNodeMarkup(c.pos,e),o&&o(t),!1}}if("heading"===i.$anchor.parent.type.name){const t=i.$anchor.path;let r=0,a=0,s="";t.forEach(((e,n)=>{e.type&&"heading"===e.type.name&&"number"===typeof t[n-1]&&(r=t[n-1],a=e.nodeSize,s=e.textContent)}));const l=r+a;return o(n.tr.replaceRangeWith(r,l,e.create(null,n.schema.nodes.list_item.create(null,n.schema.nodes.paragraph.create(null,n.schema.text(s)))))),!1}return(0,zi.wrapInList)(e)(n,o)}}var Wi=class extends $i{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:e,schema:t}){return()=>ji(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-8":ji(e,t.nodes.list_item)}}inputRules({type:e}){return[(0,Bi.wrappingInputRule)(/^\s*([-+*])\s$/,e)]}toMarkdown(e,t){e.renderList(t,"  ",(()=>(t.attrs.bullet||"*")+" "))}parseMarkdown(){return{block:"bullet_list"}}},Fi=x(n(11215)),Ui=x(n(6979)),Zi=x(n(12049)),qi=x(n(65806)),Gi=x(n(61958)),Ki=x(n(51519)),Ji=x(n(15909)),Xi=x(n(36155)),Yi=x(n(45950)),Qi=x(n(2717)),ea=x(n(16032)),ta=x(n(74212)),na=x(n(88262)),oa=x(n(52992)),ra=x(n(61777)),ia=x(n(56939)),aa=x(n(83648)),sa=x(n(11114)),la=x(n(4979)),ca=x(n(65039)),da=x(n(90542)),pa=n(42391),ua=n(78665),ha=x(n(20640)),ma=x(n(11215)),fa=x(n(99215)),ga=n(42391),ba=n(51978),va=n(69124),ka={none:"Plain Text","c++":"C++",c:"C",csharp:"C#",java:"Java",go:"Go",python:"Python",python3:"Python3",javascript:"JavaScript",objectivec:"Objective-C",php:"PHP",css:"CSS",markup:"HTML",bash:"Bash",json:"JSON",perl:"Perl",powershell:"Powershell",ruby:"Ruby",rust:"Rust",sql:"SQL",typescript:"TypeScript",yaml:"YAML",markdown:"Markdown"},wa={};function xa({doc:e,name:t}){const n=[],o=(0,va.findBlockNodes)(e).filter((e=>e.node.type.name===t));function r(e,t=[]){return e.map((e=>{if("element"===e.type){const n=[...t,...e.properties.className||[]];return r(e.children,n)}return{text:e.value,classes:t}}))}return o.forEach((e=>{let t=e.pos+1;const o=e.node.attrs.language;if(o&&"none"!==o&&ma.default.registered(o)){if(!wa[e.pos]||!wa[e.pos].node.eq(e.node)){const n=ma.default.highlight(e.node.textContent,o),i=(0,fa.default)(r(n)).map((e=>{const n=t,o=n+e.text.length;return t=o,b(g({},e),{from:n,to:o})})).filter((e=>e.classes&&e.classes.length)).map((e=>ba.Decoration.inline(e.from,e.to,{class:e.classes.join(" ")})));wa[e.pos]={node:e.node,decorations:i}}wa[e.pos].decorations.forEach((e=>{n.push(e)}))}})),Object.keys(wa).filter((e=>!o.find((t=>t.pos===Number(e))))).forEach((e=>{delete wa[Number(e)]})),ba.DecorationSet.create(e,n)}function ya({name:e}){let t=!1;return new ga.Plugin({key:new ga.PluginKey("prism"),state:{init:(e,{doc:t})=>ba.DecorationSet.create(t,[]),apply:(n,o,r,i)=>{const a=i.selection.$head.parent.type.name,s=r.selection.$head.parent.type.name,l=n.docChanged&&[a,s].includes(e),c=!!n.getMeta("y-sync$");return!t||l||c?(t=!0,xa({doc:n.doc,name:e})):o.map(n.mapping,n.doc)}},view:e=>(t||setTimeout((()=>{e.dispatch(e.state.tr.setMeta("prism",{loaded:!0}))}),10),{}),props:{decorations(e){return this.getState(e)}}})}var Ca=n(49270);function Sa(e,t,n={}){return(o,r)=>Xn(e,n)(o)?(0,Ca.setBlockType)(t)(o,r):(0,Ca.setBlockType)(e,n)(o,r)}function Ma(e){if(e.schema.nodes.code_block){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type===e.schema.nodes.code_block)return!0}return to(e.schema.marks.code_inline)(e)}var Ea="rme-code-language",La="c++";function Aa(e){e.languages["c++"]={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function Ia(e){e.languages.python3={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python3["string-interpolation"].inside.interpolation.inside.rest=e.languages.python3}Aa.displayName="c++",Aa.aliases=[],Ia.displayName="python3",Ia.aliases=[""],[Ui.default,Zi.default,qi.default,Aa,Gi.default,Ki.default,Ji.default,Xi.default,Yi.default,Qi.default,ea.default,ta.default,na.default,oa.default,Ia,ra.default,ia.default,aa.default,sa.default,la.default,ca.default,da.default].forEach(Fi.default.register);var $a=e=>{let t=(e||"Plain Text").toLowerCase();return"golang"===t&&(t="go"),"md"===t&&(t="markdown"),"c#"===t&&(t="csharp"),"cpp"===t&&(t="c++"),t},Ta=e=>{let t=e;return"Csharp"===t&&(t="C#"),"Objectivec"===t&&(t="Objective-C"),"Css"===t&&(t="CSS"),"Markup"===t&&(t="HTML"),"Php"===t&&(t="PHP"),""!==t&&"None"!==t&&"Null"!==t&&t||(t="Plain Text"),t},Oa=()=>{window.showSelectNode=void 0;document.querySelectorAll(".goku-editor-code-select-option-container").forEach((e=>{-1!==e.className.indexOf("show")&&(e.style="opacity:0")}))},Ra=e=>(e.preventDefault(),e.stopPropagation(),!1),Pa=class extends $i{constructor(){super(...arguments),this.handleCopyToClipboard=e=>{const{view:t}=this.editor,n=e.target,{top:o,left:r}=n.getBoundingClientRect(),i=t.posAtCoords({top:o,left:r});if(i){const e=t.state.doc.nodeAt(i.pos);e&&((0,ha.default)(e.textContent),this.options.onShowToast&&this.options.onShowToast(this.options.dictionary.codeCopied,"info"))}},this.handleShow=(e,t,n,o)=>{n.attrs.index!==t||o.props.readOnly||(e.target.style="opacity: 0",window.showSelectNode?Oa():window.showSelectNode=JSON.stringify(n))},this.handleTabChange=(e,t,n)=>{const{view:o}=this.editor,{tr:r}=o.state,i=e.target,{top:a,left:s}=i.getBoundingClientRect(),l=o.posAtCoords({top:a,left:s});let c=i.parentNode.parentNode.parentNode.lastChild.firstChild.innerText.length;"\n"===i.parentNode.parentNode.parentNode.lastChild.firstChild.innerText&&(c=0);const d=o.posAtDOM(i,0);if(l){if(t===n.index)return;const e=t,i=JSON.parse(n.contentList),a=JSON.parse(n.tabList),s=$a(a[e]);let p="";p="\n"===i[e][i[e].length-1]?i[e].slice(0,i[e].length-1):i[e];const u=r.setSelection(new pa.TextSelection(o.state.doc.resolve(d+c))).setNodeMarkup(l.inside,void 0,b(g({},n),{index:e,language:s})).insertText(p,d,d+c);o.dispatch(u),Oa()}},this.handleLanguageChange=(e,t,n)=>{const{view:o}=this.editor,{tr:r}=o.state,i=e.target,{top:a,left:s}=i.getBoundingClientRect(),l=o.posAtCoords({top:a,left:s});if(l){const e=t||"None",i=JSON.parse(n.tabList);i[n.index]="Plain Text"===e?"None":e;const a=r.setSelection(pa.Selection.near(o.state.doc.resolve(l.inside))).setNodeMarkup(l.inside,void 0,b(g({},n),{tabList:JSON.stringify(i),language:e}));o.dispatch(a),null==localStorage||localStorage.setItem(Ea,e)}}}get languageOptions(){return Object.entries(ka)}get name(){return"code_fence"}get schema(){return{attrs:{language:{default:La},contentList:{default:JSON.stringify([""])},tabList:{default:JSON.stringify([La])},index:{default:0},codeId:{default:null}},content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"},{tag:".code-block",preserveWhitespace:"full",contentElement:"code",getAttrs:e=>({language:e.dataset.language})}],toDOM:e=>{const t=document.createElement("button");t.type="button",t.className="goku-editor-code-copy",t.addEventListener("click",this.handleCopyToClipboard);const n=[];JSON.parse(e.attrs.tabList).forEach(((t,o)=>{const r=document.createElement("div");r.className="goku-editor-code-select",this.editor.props.readOnly&&(r.className="goku-editor-code-select edit-readonly");const i=t.toLowerCase(),a=Ta(i.slice(0,1).toUpperCase()+i.slice(1));r.innerText=a,r.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.handleShow(t,o,e,this.editor),this.handleTabChange(t,o,e.attrs)})),r.addEventListener("selectstart",Ra);const s=document.createElement("div");if(s.className=e.attrs.index===o?"goku-editor-code-select-box current":"goku-editor-code-select-box",s.appendChild(r),!this.editor.props.readOnly){const t=document.createElement("div");t.className="goku-editor-code-tab-delete",t.addEventListener("click",(t=>{this.handleDeleteTab(t,o,e.attrs)})),t.addEventListener("selectstart",Ra),s.appendChild(t)}n.push(s)}));const o=document.createElement("div");o.className="goku-editor-code-select-add",this.editor.props.readOnly&&(o.className="goku-editor-code-select-add edit-readonly"),o.addEventListener("click",(t=>{this.handleAddTab(t,e.attrs)}));const r=document.createElement("div");r.className=window.showSelectNode?"goku-editor-code-select-option-container show":"goku-editor-code-select-option-container";const i=(e=>{const t=e.attrs.index;if(t>0){const n=JSON.parse(e.attrs.tabList);let o="";for(let e=t-1;e>=0;e--){let t=n[e]?n[e].toLowerCase():"";t=Ta(t.slice(0,1).toUpperCase()+t.slice(1)),o+=t}const r=document.createElement("span");r.style="font-size: 12px; line-height: 16px; display: inline-block",r.innerText=o,document.body.appendChild(r);const i=r.clientWidth;return document.body.removeChild(r),12+i+28*t}return 12})(e);return r.style="left: "+i+"px;",this.languageOptions.forEach((([t,n])=>{const o=document.createElement("div"),i="Plain Text"!==t&&"null"!==t&&""!==t&&t?t:"none";o.addEventListener("click",(t=>{this.handleLanguageChange(t,i,e.attrs)})),o.innerText=n;const a=$a(e.attrs.language);o.className=a===i?"goku-editor-code-select-option selected":"goku-editor-code-select-option",r.appendChild(o)})),["div",{class:"code-block","data-language":e.attrs.language},["div",{contentEditable:!1,style:"position: absolute; width: 100%; top: 9px;"},r,...n,o,t],["pre",["code",{spellCheck:!1},0]]]}}}commands({type:e,schema:t}){return n=>Sa(e,t.nodes.paragraph,g({language:(null==localStorage?void 0:localStorage.getItem(Ea))||La},n))}keys({type:e,schema:t}){return{"Shift-Ctrl-\\":Sa(e,t.nodes.paragraph),"Shift-Enter":(e,t)=>{var n,o;if(!Ma(e))return!1;const{tr:r,selection:i}=e,a=null==(o=null==(n=null==i?void 0:i.$anchor)?void 0:n.nodeBefore)?void 0:o.text;let s="\n";if(a){const e=a.split("\n"),t=e[e.length-1].search(/\S|$/);s+=" ".repeat(t)}return t(r.insertText(s,i.from,i.to)),!0},Tab:(e,t)=>{if(!Ma(e))return!1;const{tr:n,selection:o}=e;return t(n.insertText("  ",o.from,o.to)),!0},Backspace:e=>{var t,n,o;if(!Ma(e))return!1;return!(null==(o=null==(n=null==(t=e.selection)?void 0:t.$anchor)?void 0:n.nodeBefore)?void 0:o.text)}}}handleAddTab(e,t){if(this.editor.props.readOnly)return;const{view:n}=this.editor,{tr:o}=n.state,r=e.target,{top:i,left:a}=r.getBoundingClientRect(),s=n.posAtCoords({top:i,left:a}),{from:l,to:c}=n.state.selection;if(s){const e=JSON.parse(t.tabList),i=JSON.parse(t.contentList);let a=t.index,d=t.codeId;if(d||(d=String((new Date).getTime())),e.push(La),i.push(""),a=e.length-1,l!==c)return;const p=$a(e[a]);let u=r.parentNode.parentNode.lastChild.firstChild.innerText.length;"\n"===r.parentNode.parentNode.lastChild.firstChild.innerText&&(u=0);let h="";h="\n"===i[a][i[a].length-1]?i[a].slice(0,i[a].length-1):i[a];const m=o.setSelection(pa.Selection.near(n.state.doc.resolve(s.inside))).setNodeMarkup(s.inside,void 0,b(g({},t),{tabList:JSON.stringify(e),index:a,contentList:JSON.stringify(i),language:p,codeId:d})).insertText(h,l,l+u);n.dispatch(m),Oa()}}handleDeleteTab(e,t,n){if(this.editor.props.readOnly)return;const{view:o}=this.editor,{tr:r}=o.state,i=e.target,{top:a,left:s}=i.getBoundingClientRect(),l=o.posAtCoords({top:a,left:s});if(l){const e=JSON.parse(n.tabList);e.splice(t,1);const a=JSON.parse(n.contentList);a.splice(t,1);let s=n.index;const c=o.posAtDOM(i,0);if(0===e.length){const e=o.state.tr.setSelection(new pa.NodeSelection(o.state.doc.resolve(c-1)));return o.dispatch(e.deleteSelection()),void o.focus()}s+1>e.length&&(s=e.length-1);const d=$a(e[s]);let p=i.parentNode.parentNode.parentNode.lastChild.firstChild.innerText.length;"\n"===i.parentNode.parentNode.parentNode.lastChild.firstChild.innerText&&(p=0);let u="";u="\n"===a[s][a[s].length-1]?a[s].slice(0,a[s].length-1):a[s];const h=r.setSelection(new pa.TextSelection(o.state.doc.resolve(c+p))).setNodeMarkup(l.inside,void 0,b(g({},n),{tabList:JSON.stringify(e),index:s,contentList:JSON.stringify(a),language:d})).insertText(u,c,c+p);o.dispatch(h),Oa()}}get plugins(){return[ya({name:this.name}),new pa.Plugin({props:{handleDOMEvents:{click:(e,t)=>(t.target&&void 0!==window.showSelectNode&&Oa(),!1)}}})]}inputRules({type:e}){return[(0,ua.textblockTypeInputRule)(/^```$/,e)]}toMarkdown(e,t){const n=JSON.parse(t.attrs.tabList),o=JSON.parse(t.attrs.contentList);if(n.length>1)n.forEach(((n,r)=>{var i;if(e.write("```"+(n||"")+" ["+t.attrs.codeId+"]\n"),r===t.attrs.index){const e=(null==(i=t.content)?void 0:i.content)||[];o[r]=e.length?e[0].text:"",t.attrs.contentList=JSON.stringify(o)}e.text(o[r],!1),e.ensureNewLine(),e.write("```"),e.ensureNewLine()})),e.closeBlock(t);else{const n=JSON.parse(t.attrs.tabList);e.write("```"+(n[0]||"")+"\n"),o[0]=t.textContent,t.attrs.contentList=JSON.stringify(o),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)}}parseMarkdown(){return{block:"code_block",getAttrs:e=>({index:0,language:$a(e.info||La),tabList:e.tabList||JSON.stringify([La]),contentList:e.contentList||JSON.stringify([La]),codeId:"string"===typeof e.codeId?e.codeId:null})}}get markdownToken(){return"fence"}};function Da(e){e.core.ruler.after("inline","codeMerge",(e=>{const t=e.tokens,n=[];return t.forEach((e=>{if("fence"===e.type){e.info.replace(/^(.+)(\s)(\[(.*)])$/,((t,n,o,r,i)=>{if(n&&(e.info=n),"string"===typeof i)if(/(.+)-.+/.test(i)){const t=i.match(/(.+)-.+/)[1];e.codeId=t}else e.codeId=i}));const t=n.length;if(n[t-1]&&"fence"===n[t-1].type&&void 0!==n[t-1].codeId&&n[t-1].codeId===e.codeId){const o=JSON.parse(n[t-1].tabList);o.push(e.info),n[t-1].tabList=JSON.stringify(o);const r=JSON.parse(n[t-1].contentList);r.push(e.content),n[t-1].contentList=JSON.stringify(r)}else n.push(e);e.tabList=JSON.stringify([e.info]),e.contentList=JSON.stringify([e.content])}else n.push(e)})),e.tokens=n,!1}))}var Na=class extends Pa{get name(){return"code_block"}get markdownToken(){return"code_block"}get rulePlugins(){return[Da]}},_a=n(78665),Ba=x(n(67639)),za=x(n(67639)),Ha=x(n(46635));function Va(e){return(0,Ha.default)(e,{defs:za.default,shortcuts:{}})}var ja=class extends $i{get name(){return"emoji"}get schema(){return{attrs:{style:{default:""},"data-name":{default:void 0}},inline:!0,content:"text*",marks:"",group:"inline",selectable:!1,parseDOM:[{tag:"span.emoji",preserveWhitespace:"full",getAttrs:e=>({"data-name":e.dataset.name})}],toDOM:e=>{if(Ba.default[e.attrs["data-name"]]){const t=document.createTextNode(Ba.default[e.attrs["data-name"]]);return["span",{class:`emoji ${e.attrs["data-name"]}`,"data-name":e.attrs["data-name"]},t]}return["span",{class:"emoji"},document.createTextNode(`:${e.attrs["data-name"]}:`)]}}}get rulePlugins(){return[Va]}commands({type:e}){return t=>(n,o)=>{const{selection:r}=n,i=r.$cursor?r.$cursor.pos:r.$to.pos,a=e.create(t);return o(n.tr.insert(i,a)),!0}}inputRules({type:e}){return[new _a.InputRule(/^\:([a-zA-Z0-9_+-]+)\:$/,((t,n,o,r)=>{const[i,a]=n,{tr:s}=t;return i&&s.replaceWith(o-1,r,e.create({"data-name":a,markup:a})),s}))]}toMarkdown(e,t){const n=t.attrs["data-name"];n&&e.write(`:${n}:`)}parseMarkdown(){return{node:"emoji",getAttrs:e=>({"data-name":e.markup.trim()})}}},Wa=x(n(67294)),Fa=x(n(75872));function Ua(e){return"paragraph_open"===e.type}function Za(e){return"link_open"===e.type}function qa(e){return"link_close"===e.type}function Ga(e){function t(t,n){const o=n.attrs?n.attrs[0][1]:"";if(!(o===t.content))return!1;if(!e)return!1;for(const r of e){const e=r.matcher(o);if(e)return b(g({},r),{matches:e})}}return function(e){e.core.ruler.after("inline","embeds",(e=>{const n=e.tokens;let o;for(let i=0;i<n.length-1;i++)if("inline"===(r=n[i]).type&&1===r.level&&Ua(n[i-1])){const e=n[i].children||[];for(let r=0;r<e.length-1;r++){const a=e[r];if(a)if(Za(a))o=a;else if(qa(a))o=null;else if(o){if(t(a,o)){const{content:e}=a,t=new Fa.default("embed","iframe",0);t.attrSet("href",e),n.splice(i-1,3,t);break}}}}var r;return!1}))}}var Ka={},Ja=class extends $i{get name(){return"embed"}get schema(){return{content:"inline*",group:"block",atom:!0,attrs:{href:{}},parseDOM:[{tag:"iframe[class=embed]",getAttrs:e=>{const{embeds:t}=this.editor.props,n=e.getAttribute("src")||"";if(t)for(const o of t){if(o.matcher(n))return{href:n}}return{}}}],toDOM:e=>["iframe",{class:"embed",src:e.attrs.href,contentEditable:!1},0]}}get rulePlugins(){return[Ga(this.options.embeds)]}component({isEditable:e,isSelected:t,theme:n,node:o}){const{embeds:r}=this.editor.props,i=Ka[o.attrs.href];let a=i?i.Component:void 0,s=i?i.matches:void 0;if(!a)for(const l of r){const e=l.matcher(o.attrs.href);e&&(a=l.component,s=e,Ka[o.attrs.href]={Component:a,matches:s})}return a?Wa.createElement(a,{attrs:b(g({},o.attrs),{matches:s}),isEditable:e,isSelected:t,theme:n}):null}commands({type:e}){return t=>(n,o)=>(o(n.tr.replaceSelectionWith(e.create(t)).scrollIntoView()),!0)}toMarkdown(e,t){e.ensureNewLine(),e.write("["+e.esc(t.attrs.href)+"]("+e.esc(t.attrs.href)+")"),e.write("\n\n")}parseMarkdown(){return{node:"embed",getAttrs:e=>({href:e.attrGet("href")})}}},Xa=n(31640);function Ya(e){return"hardbreak"===e.type||"text"===e.type&&"\\"===e.content}function Qa(e){e.core.ruler.after("inline","breaks",(e=>{const{Token:t}=e,n=e.tokens;for(let o=n.length-1;o>0;o--){const e=n[o].children||[],r=e.filter(Ya);if(r.length){let i;const a=[],s=e.filter((e=>!Ya(e)));let l=r.length;s.length&&l++;for(let e=0;e<l;e++){const n=e===l-1;i=new t("paragraph_open","p",1),a.push(i);const o=new t("text","",0);o.content="",i=new t("inline","",0),i.level=1,i.children=n?[o,...s]:[o],i.content="",a.push(i),i=new t("paragraph_close","p",-1),a.push(i)}n.splice(o-1,3,...a)}}return!1}))}var es=class extends $i{get name(){return"br"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}get rulePlugins(){return[Qa]}commands({type:e}){return()=>(t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)}keys({type:e}){return{"Shift-Enter":(t,n)=>!!(0,Xa.isInTable)(t)&&(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)}}toMarkdown(e){e.write(" \\n ")}parseMarkdown(){return{node:"br"}}},ts=n(42391),ns=x(n(20640)),os=n(51978),rs=n(78665);function is(e){return(t,n)=>{const{$from:o,from:r,to:i,empty:a}=t.selection;if(!a)return null;if(o.parent.type!==e)return null;return t.doc.resolve(r-1).parent===o.parent?null:(n(t.tr.setBlockType(r,i,e.schema.nodes.paragraph).scrollIntoView()),!0)}}var as=n(42391),ss=n(69124),ls=n(69124);function cs(e){const t=(0,ls.findBlockNodes)(e),n=[];let o;for(const r of t)"heading"!==r.node.type.name||o&&!(r.node.attrs.level<=o)?o&&n.push(r):r.node.attrs.collapsed?o||(o=r.node.attrs.level):o=void 0;return n}function ds(e){return(t,n)=>{const{$from:o,from:r,$to:i,to:a}=t.selection;if(o.parent.type!==e)return!1;if(i.after()-1!==a)return!1;if(!o.parent.attrs.collapsed)return!1;const s=(0,ss.findBlockNodes)(t.doc),l=cs(t.doc),c=s.filter((e=>!l.find((t=>t.pos===e.pos)))).find((e=>e.pos>r)),d=c?c.pos:t.doc.content.size,p=t.tr.insert(d,e.create(b(g({},o.parent.attrs),{collapsed:!1})));return n(p.setSelection(as.TextSelection.near(p.doc.resolve(Math.min(d+1,p.doc.content.size)))).scrollIntoView()),!0}}var ps=n(49270),us=class extends $i{constructor(){super(...arguments),this.className="heading-name",this.handleFoldContent=e=>{e.preventDefault();const{view:t}=this.editor,n=t.hasFocus(),{tr:o}=t.state,{top:r,left:i}=e.target.getBoundingClientRect(),a=t.posAtCoords({top:r,left:i});if(a){const e=t.state.doc.nodeAt(a.inside);if(e){const r=a.inside+e.nodeSize,i=t.state.doc.resolve(r),s=!e.attrs.collapsed;s&&t.state.selection.to>r&&o.setSelection(ts.Selection.near(i,-1));const l=o.setNodeMarkup(a.inside,void 0,b(g({},e.attrs),{collapsed:s})),c=Ei(e,this.editor.props.id);s?null==localStorage||localStorage.setItem(c,"collapsed"):null==localStorage||localStorage.removeItem(c),t.dispatch(l),n&&t.focus()}}},this.handleCopyLink=e=>{const t=e.currentTarget.parentNode.parentNode.previousSibling;if(!t.className.includes(this.className))throw new Error("Did not find anchor as previous sibling of heading");const n=`#${t.id}`,o=window.location.href.split("#")[0];(0,ns.default)(o+n),this.options.onShowToast&&this.options.onShowToast(this.options.dictionary.linkCopied,"info")}}get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6],collapsed:void 0}}get schema(){return{attrs:{level:{default:1},collapsed:{default:void 0}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e},contentElement:".heading-content"}))),toDOM:e=>{const t=document.createElement("button");t.innerText="#",t.type="button",t.className="heading-anchor";const n=document.createElement("button");return n.innerText="",n.innerHTML='<svg fill="currentColor" width="12" height="24" viewBox="6 0 12 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.23823905,10.6097108 L11.207376,14.4695888 L11.207376,14.4695888 C11.54411,14.907343 12.1719566,14.989236 12.6097108,14.652502 C12.6783439,14.5997073 12.7398293,14.538222 12.792624,14.4695888 L15.761761,10.6097108 L15.761761,10.6097108 C16.0984949,10.1719566 16.0166019,9.54410997 15.5788477,9.20737601 C15.4040391,9.07290785 15.1896811,9 14.969137,9 L9.03086304,9 L9.03086304,9 C8.47857829,9 8.03086304,9.44771525 8.03086304,10 C8.03086304,10.2205442 8.10377089,10.4349022 8.23823905,10.6097108 Z" /></svg>',n.type="button",n.className="heading-fold "+(e.attrs.collapsed?"collapsed":""),n.addEventListener("mousedown",(e=>this.handleFoldContent(e))),[`h${e.attrs.level+(this.options.offset||0)}`,["span",{contentEditable:!1,class:"heading-actions "+(e.attrs.collapsed?"collapsed":"")},t,n],["span",{class:"heading-content"},0]]}}}toMarkdown(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)}parseMarkdown(){return{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})}}commands({type:e,schema:t}){return n=>0===n.level?(e,n)=>{(0,ps.setBlockType)(t.nodes.paragraph)(e,n)}:Sa(e,t.nodes.paragraph,n)}keys({type:e,schema:t}){const n=this.options.levels.reduce(((n,o)=>g(g({},n),{[`Shift-Ctrl-${o}`]:Sa(e,t.nodes.paragraph,{level:o})})),{});return b(g({},n),{Backspace:is(e),Tab:(e,t)=>{if(e.schema.nodes.heading){const n=e.selection.$head;for(let o=n.depth;o>0;o--)if(n.node(o).type===e.schema.nodes.heading){const{tr:n,selection:o}=e;return t(n.insertText("  ",o.from,o.to)),!0}}return!1},Enter:ds(e)})}get plugins(){const e=e=>{const t=[],n={};return e.descendants(((e,o)=>{if(e.type.name!==this.name)return;const r=Mi(e);let i=r;n[r]>0&&(i=Mi(e,n[r])),n[r]=void 0!==n[r]?n[r]+1:1,t.push(os.Decoration.widget(o,(()=>{const e=document.createElement("a");return e.id=i,e.className=this.className,e}),{side:-1,key:i}))})),os.DecorationSet.create(e,t)},t=new ts.Plugin({state:{init:(t,n)=>e(n.doc),apply:(t,n)=>t.docChanged?e(t.doc):n},props:{decorations:e=>t.getState(e)}});return[t]}inputRules({type:e}){return this.options.levels.map((t=>(0,rs.textblockTypeInputRule)(new RegExp(`^(#{1,${t}})\\s$`),e,(()=>({level:t})))))}},hs=n(78665),ms=n(42391),fs=class extends $i{get name(){return"hr"}get schema(){return{attrs:{markup:{default:"---"}},group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:"***"===e.attrs.markup?"page-break":""}]}}commands({type:e}){return t=>(n,o)=>(o(n.tr.replaceSelectionWith(e.create(t)).scrollIntoView()),!0)}keys({type:e}){return{"Mod-_":(t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)}}inputRules({type:e}){return[new hs.InputRule(/^(?:---|___\s|\*\*\*\s)$/,((t,n,o)=>{const{tr:r}=t;if(n[0]){const i=n[0].trim();r.setSelection(new ms.NodeSelection(t.doc.resolve(o))).replaceSelectionWith(e.create({markup:i})).scrollIntoView()}return r}))]}toMarkdown(e,t){e.write(`\n${t.attrs.markup}`),e.closeBlock(t)}parseMarkdown(){return{node:"hr",getAttrs:e=>({markup:e.markup})}}},gs=x(n(67294)),bs=n(42391),vs=x(n(67294)),ks=x(n(14087)),ws=wt.button`
  position: absolute;
  top: 8px;
  right: 8px;
  border: 0;
  margin: 0;
  padding: 0;
  border-radius: 4px;
  background: ${e=>e.theme.background};
  color: ${e=>e.theme.textSecondary};
  width: 24px;
  height: 24px;
  display: inline-block;
  cursor: pointer;
  opacity: 0;
  transition: opacity 100ms ease-in-out;

  &:active {
    transform: scale(0.98);
  }

  &:hover {
    color: ${e=>e.theme.text};
    opacity: 1;
  }
`,xs=wt.p`
  border: 0;
  display: block;
  font-size: 13px;
  font-style: italic;
  font-weight: normal;
  color: ${e=>e.theme.textSecondary};
  padding: 2px 0;
  line-height: 16px;
  text-align: center;
  min-height: 1em;
  outline: none;
  background: none;
  resize: none;
  user-select: text;
  cursor: text;

  &:empty:not(:focus) {
    visibility: hidden;
  }

  &:empty:before {
    color: ${e=>e.theme.placeholder};
    content: attr(data-caption);
    pointer-events: none;
  }
`,ys=wt.div`
  line-height: 0;
  display: inline-block;
  position: relative;
  // padding: 10px;
  // pointer-events: none;
  &:hover {
    ${ws} {
      opacity: 0.9;
    }
  }

  // &.ProseMirror-selectednode + ${xs} {
  //   visibility: visible;
  // }

  &.ProseMirror-selectednode img{
    pointer-events: all;
  }
`,Cs=({isSelected:e,downLoad:t,defaultStyles:n,image:o,editor:r})=>{if(!r)return null;const[i,a]=(0,vs.useState)("0px"),s=(0,vs.useRef)(null),[l]=(0,vs.useState)("100%");return vs.default.useEffect((()=>{s.current&&s.current.image&&(s.current.image.onerror=e=>{e.target.src="data:image/svg+xml,%3Csvg height='150' viewBox='0 0 150 150' width='150' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m2465 2286.42347-18.95363-18.92555-50.0112 43.79935-24.62708-24.5906-33.41155 24.5906-22.99654-17.22567v-73.0716c0-2.20914 1.79086-4 4-4h142c2.20914 0 4 1.79086 4 4zm-122-25.59081c5.52285 0 10-4.47052 10-9.98518 0-5.51467-4.47715-9.98519-10-9.98519s-10 4.47052-10 9.98519c0 5.51466 4.47715 9.98518 10 9.98518zm122 40.89296v61.27438c0 2.20914-1.79086 4-4 4h-142c-2.20914 0-4-1.79086-4-4v-53.62625l22.99654 17.22567 33.41155-24.5906 24.62708 24.5906 50.0112-43.79935z' fill='%23eee' fill-rule='evenodd' transform='translate(-2315 -2217)'/%3E%3C/svg%3E"}),o.width&&"99999"===o.width?a("100%"):a("480px")}),[o.width]),vs.default.createElement(ys,{className:e?"ProseMirror-selectednode":"",style:{width:i,maxWidth:l}},vs.default.createElement(ks.default,{ref:s,image:{src:o.src,alt:o.alt,title:o.title,style:{width:i,maxWidth:l},draggable:!1},defaultStyles:b(g({},n),{zoomContainer:{zIndex:2e3}}),shouldRespectMaxDimension:!0}))},Ss=["right","left"],Ms=class extends $i{constructor(){super(...arguments),this.handleKeyDown=({node:e,getPos:t})=>n=>{if("Enter"===n.key){n.preventDefault();const{view:o}=this.editor,r=o.state.doc.resolve(t()+e.nodeSize);return o.dispatch(o.state.tr.setSelection(new bs.TextSelection(r)).split(r.pos)),void o.focus()}if("Backspace"===n.key&&""===n.target.innerText){const{view:e}=this.editor,n=e.state.doc.resolve(t()),o=e.state.tr.setSelection(new bs.NodeSelection(n));return e.dispatch(o.deleteSelection()),void e.focus()}},this.handleBlur=({node:e,getPos:t})=>n=>{const o=n.target.innerText,{src:r,title:i,layoutClass:a}=e.attrs;if(o===e.attrs.alt)return;const{view:s}=this.editor,{tr:l}=s.state,c=t(),d=l.setNodeMarkup(c,void 0,{src:r,alt:o,title:i,layoutClass:a});s.dispatch(d)},this.handleSelect=({getPos:e})=>t=>{t.preventDefault();const{view:n}=this.editor,o=n.state.doc.resolve(e()),r=n.state.tr.setSelection(new bs.NodeSelection(o));n.dispatch(r)},this.handleDownload=({node:e})=>t=>{t.preventDefault(),t.stopPropagation(),(async e=>{const t=await fetch(e.attrs.src),n=await t.blob(),o=URL.createObjectURL(n),r=n.type.split("/")[1],i=e.attrs.alt||"image",a=document.createElement("a");a.href=o,a.download=`${i}.${r}`,document.body.appendChild(a),a.click(),document.body.removeChild(a)})(e)},this.component=e=>{const{theme:t,isSelected:n}=e,{alt:o,src:r,title:i,layoutClass:a,width:s,height:l}=e.node.attrs,c=a?`image image-${a}`:"image";return gs.createElement("div",{contentEditable:!1,className:c,onClick:this.handleSelect(e)},gs.createElement(Cs,{isSelected:n,downLoad:this.handleDownload(e),editor:this.editor,image:{src:r,alt:o,title:i,width:s,height:l},defaultStyles:{overlay:{backgroundColor:t.background}}}))},this.commands=({type:e})=>({alignRight:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{title:null,layoutClass:"right"}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},alignLeft:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{title:null,layoutClass:"left"}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},fullWidth:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{width:"99999",title:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},originWidth:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{width:"480",title:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},alignCenter:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{layoutClass:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},createImage:t=>(n,o)=>{const{selection:r}=n,i=r.$cursor?r.$cursor.pos:r.$to.pos,a=e.create(t);return o(n.tr.insert(i,a)),!0}})}get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},layoutClass:{default:null},title:{default:null},width:{default:null},height:{default:null}},content:"text*",marks:"",group:"inline",selectable:!0,draggable:!1,parseDOM:[{tag:"div[class~=image]",getAttrs:e=>{const t=e.getElementsByTagName("img")[0],n=e.className,o=n&&n.match(/image-(.*)$/),r=o?o[1]:null;return{src:null==t?void 0:t.getAttribute("src"),alt:null==t?void 0:t.getAttribute("alt"),width:null==t?void 0:t.getAttribute("width"),height:null==t?void 0:t.getAttribute("height"),title:null==t?void 0:t.getAttribute("title"),layoutClass:r}}},{tag:"img",getAttrs:e=>({src:e.getAttribute("src"),alt:e.getAttribute("alt"),width:e.getAttribute("width"),height:e.getAttribute("height"),title:e.getAttribute("title")})}],toDOM:e=>["div",{class:e.attrs.layoutClass?`image image-${e.attrs.layoutClass}`:"image"},["img",b(g({},e.attrs),{contentEditable:!1})],["p",{class:"caption"},0]]}}toMarkdown(e,t){let n=" !["+e.esc((t.attrs.alt||"").replace("\n","")||"")+"]("+e.esc(t.attrs.src);if(t.attrs.layoutClass?n+=' "'+e.esc(t.attrs.layoutClass)+'"':t.attrs.title&&(n+=' "'+e.esc(t.attrs.title)+'"'),n+=")",t.attrs.width){n+="{:width="+t.attrs.width+"}"}if(t.attrs.height){n+="{:height="+t.attrs.height+"}"}e.write(n)}parseMarkdown(){return{node:"image",getAttrs:e=>{return g({src:e.attrGet("src"),width:e.attrGet("width"),height:e.attrGet("height"),alt:e.children[0]&&e.children[0].content||null},(t=e.attrGet("title"))?Ss.includes(t)?{layoutClass:t}:{title:t}:{});var t}}}get plugins(){return[pr,(e=this.options,new bs.Plugin({props:{handleDOMEvents:{paste(t,n){if(t.props.editable&&!t.props.editable(t.state)||!e.uploadImage)return!1;if(!n.clipboardData)return!1;const o=Array.prototype.slice.call(n.clipboardData.items).map((e=>e.getAsFile())).filter((e=>e));if(0===o.length)return!1;const{tr:r}=t.state;r.selection.empty||r.deleteSelection();const i=r.selection.from;return fr(t,n,i,o,e),!0},drop(t,n){if(t.props.editable&&!t.props.editable(t.state)||!e.uploadImage)return!1;const o=sr(n).filter((e=>/image/i.test(e.type)));if(0===o.length)return!1;const r=t.posAtCoords({left:n.clientX,top:n.clientY});return!!r&&(fr(t,n,r.pos,o,e),!0)}}}}))];var e}},Es=x(n(67294)),Ls=n(42391);function As(e){e.core.ruler.after("inline","video",(e=>{var t,n;const o=e.tokens;for(let r=o.length-1;r>0;r--)null==(n=null==(t=o[r])?void 0:t.children)||n.forEach(((e,t)=>{var n,i,a,s;if("image"===e.type){o[r].content=o[r].content.replace(/\{\:width=(\d+)\}/,((e,n)=>{var i;return null==(i=o[r].children[t].attrs)||i.push(["width",n||""]),""})),o[r].content=o[r].content.replace(/\{\:height=(\d+)\}/,((e,n)=>{var i;return null==(i=o[r].children[t].attrs)||i.push(["height",n||""]),""}));let l="";null==(n=e.attrs)||n.forEach((e=>{"src"===e[0]&&(l=e[1])})),(/(\.mp4|\.avi|\.webm|\.mov|\.mpg|\.3gp|\.m4v|\.flv|\.asf|\.wmv|\.mkv)$/.test(l)||/^(\w{8})-\w{4}-\w{4}-\w{4}-(\w{12})$/.test(l))&&(o[r].children[t].type="video"),o[r].content=o[r].content.replace(/\{\:(width|height)=(\d+)\}/g,(()=>"")),(null==(i=o[r])?void 0:i.children[t+1])&&"text"===(null==(a=o[r])?void 0:a.children[t+1].type)&&(o[r].children[t+1].content=null==(s=o[r])?void 0:s.children[t+1].content.replace(/\{\:(width|height)=(\d+)\}/g,((e,t)=>"")))}}));return!1}))}var Is=x(n(67294)),$s=x(n(67294)),Ts=x(n(67294)),Os=x(n(67294)),Rs=n(72048),Ps=x(n(67294)),Ds=n(46516),Ns=n(72048);var _s=(0,Ns.once)((function(){return Promise.all([new Promise(((e,t)=>{const n=document.createElement("script");n.type="text/javascript",n.src="//g.alicdn.com/de/prismplayer/2.8.7/aliplayer-min.js",n.onload=()=>{e(window.Aliplayer)},n.onerror=t,document.head.appendChild(n)})),new Promise(((e,t)=>{const n=document.createElement("link");n.rel="stylesheet",n.href="//g.alicdn.com/de/prismplayer/2.8.7/skins/default/aliplayer-min.css",n.onload=()=>{e()},n.onerror=t,document.head.appendChild(n)}))]).then((([e])=>e))}));var Bs=new Ds.Subject;Bs.asObservable();function zs({uuid:e,videoId:t,playAuth:n,coverUrl:o,containerElm:r,videoSize:i}){return Ps.default.useEffect((()=>{let a,s=!1;return _s().then((l=>{if(s)return;const c=r.current.parentElement;if(c){const s=(e=>{const t=document.createElement("div"),n=document.createElement("div");if(t.setAttribute("data-has-size",`${!!e}`),t.appendChild(n),e){const o=e.height/e.width;t.style.maxWidth=`${e.width}px`,n.style.padding=50*o+"% 50%"}return t})(i),d=document.createElement("div"),p=(0,Rs.uniqueId)("aliPlayer");d.setAttribute("id",p),s.appendChild(d),c.replaceChild(s,r.current),a=new l({id:p,vid:t,playauth:n,encryptType:1,cover:o,autoplay:!1,preload:!0,playsinline:!0,keyShortCuts:!0}),function(e){e.on("ready",(()=>{const t=e._el;t.tabIndex=1,t.onkeydown=t=>{const n=t.code;"Tab"!==n&&(t.preventDefault(),t.stopPropagation());const o=e.getStatus();if("Space"===n&&("playing"===o?e.pause():e.play()),"ArrowLeft"===n||"ArrowRight"===n){const t=e.getCurrentTime();e.seek("ArrowLeft"===n?t-3:t+3)}}}))}(a),(e=>{const t=e.getElementsByTagName("img"),n=t.length;for(let o=0;o<n;o++){const e=t.item(o),n=e.parentNode;if(n&&"prism-progress-cursor"===n.className){e.className=(e.className||"")+" no-preview";break}}})(d),a.on("play",(()=>{Bs.next(e)})),a.on("ready",(()=>{var e;d.setAttribute("data-is-ready","true"),null==(e=d.querySelector("video"))||e.addEventListener("click",(()=>{"playing"===a.getStatus()?a.pause():a.play()}))}))}})),()=>{s=!0}}),[e,i,t,n,o,r]),Ps.default.createElement("div",null)}var Hs=x(n(67294));function Vs({icon:e,text:t}){return Hs.default.createElement(Hs.default.Fragment,null,Hs.default.createElement("div",{style:{height:"300px",width:"100%",margin:"0 auto",background:"rgb(240,240,240)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"rgb(140,140,140)",overflow:"hidden",fontSize:"12px",fontWeight:"bold"}},t))}var js=x(n(67294)),Ws=({uuid:e,coverUrl:t,showPremiumTips:n})=>{const o=js.default.useRef(null);return js.default.createElement("div",{style:{position:"relative",display:"inline-block",overflow:"hidden",borderRadius:"3px"}},js.default.createElement("img",{src:encodeURI(t),alt:"video cover",style:{filter:n?"blur(1px)":void 0,width:"100%",maxWidth:"640px"}}),js.default.createElement("div",{style:{position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",background:"rgba(255,255,255, 0.8)",color:"rgba(200,200,200, 0.8)",display:n?"flex":"none",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"14px",lineHeight:"20px"}},"\u5f53\u524d\u89c6\u9891\u4e3a\u529b\u6263 Plus \u4f1a\u5458\u4e13\u4eab\u5185\u5bb9\uff0c\u5347\u7ea7\u529b\u6263 Plus \u4f1a\u5458\u5373\u53ef\u89e3\u9501",js.default.createElement("a",{href:"vip",ref:o,style:{borderRadius:"3px",marginTop:"19px",padding:"4px 8px",backgroundColor:"DLS_COLORS.brand(orange)",color:"DLS_COLORS.grey(0)",textDecoration:"none",fontSize:"12px",lineHeight:"20px"}},"\u5347\u7ea7 Plus \u4f1a\u5458")))};function Fs({uuid:e,containerElm:t,state:n}){if(n.isUpdating)return Os.default.createElement(Vs,{text:"\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u4e2d...",icon:"loading"});if(!n.canSee)switch(n.chargeType){case"FREE":break;case"PREMIUM":return n.coverUrl?Os.default.createElement(Ws,{coverUrl:n.coverUrl,showPremiumTips:!1,uuid:e}):Os.default.createElement(Vs,{text:"\u4f1a\u5458\u89c6\u9891",icon:"close-c"});case"VIDEO_PREMIUM":return n.coverUrl?Os.default.createElement(Ws,{coverUrl:n.coverUrl,showPremiumTips:!0,uuid:e}):Os.default.createElement(Vs,{text:"\u4f1a\u5458\u89c6\u9891",icon:"close-c"})}switch(n.status){case"PENDING":return Os.default.createElement("div",{style:{height:"300px",width:"100%",margin:"0 auto",background:"rgb(240,240,240)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"rgb(140,140,140)",overflow:"hidden",fontSize:"12px",fontWeight:"bold"}},Os.default.createElement("img",{src:"https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/%E9%A3%9E%E4%B9%A620230515-161316.png",alt:"",style:{width:"58px",height:"58px",margin:"0px auto 20px"}}),Os.default.createElement("div",{style:{color:"#525252",textAlign:"center"}},"\u89c6\u9891\u5ba1\u6838\u4e2d"));case"REJECTED":return Os.default.createElement(Vs,{text:"\u89c6\u9891\u5ba1\u6838\u4e0d\u901a\u8fc7",icon:"close-c"});case"APPROVED":return n.videoId&&n.playAuth?Os.default.createElement(zs,{containerElm:t,uuid:e,videoId:n.videoId,playAuth:n.playAuth,coverUrl:n.coverUrl,videoSize:n.videoSize}):Os.default.createElement(Vs,{text:"\u89c6\u9891\u4fe1\u606f\u6709\u8bef",icon:"close-c"});case"TRANSCODING":return Os.default.createElement(Vs,{text:"\u89c6\u9891\u6b63\u5728\u8f6c\u7801\u4e2d...",icon:"video-transcoding"});case"TRANSCODE_FAILED":return Os.default.createElement(Vs,{text:"\u89c6\u9891\u8f6c\u7801\u5931\u8d25",icon:"close-c"});default:return Os.default.createElement(Vs,{text:"\u83b7\u53d6\u89c6\u9891\u4fe1\u606f\u5931\u8d25",icon:"close"})}}var Us=({src:e})=>{const t=(0,Ts.useRef)(null),n=(0,Ts.useRef)(void 0),[o,r]=(0,Ts.useState)({isUpdating:!0});(0,Ts.useEffect)((()=>{r({isUpdating:!0}),window.videoTimerList||(window.videoTimerList=[]),i(e)}),[e]),(0,Ts.useEffect)((()=>()=>{clearTimeout(n.current)}),[]);const i=(0,Ts.useCallback)((e=>{fetch(wr,b(g({method:"POST"},xr),{body:JSON.stringify({query:"query videoInfo($uuid: UUID!) {\n  videosVideoInfo(uuid: $uuid, fetchType: PLAY_AUTH) {\n    playAuth\n    status\n    videoInfo {\n      videoId\n      coverUrl\n      __typename\n    }\n    videoSize {\n      width\n      height\n      __typename\n    }\n    articleChargeType\n    canSee\n    __typename\n  }\n}",variables:{uuid:e}})})).then((async t=>{t.json().then((t=>{var o,a,s,l,c,d,p,u,h,m,f,g,b,v;if(t.errors){const{message:e}=t.errors[0];throw new Error(e)}const k=t.data;k.videosVideoInfo||(n.current=setTimeout((()=>{i(e)}),5e3),window.videoTimerList.push(n.current));const w={isUpdating:!1,playAuth:null!=(a=null==(o=k.videosVideoInfo)?void 0:o.playAuth)?a:null,coverUrl:null!=(l=null==(s=k.videosVideoInfo)?void 0:s.videoInfo.coverUrl)?l:null,videoId:null!=(d=null==(c=k.videosVideoInfo)?void 0:c.videoInfo.videoId)?d:null,chargeType:null!=(u=null==(p=k.videosVideoInfo)?void 0:p.articleChargeType)?u:null,status:null!=(m=null==(h=k.videosVideoInfo)?void 0:h.status)?m:"PENDING",videoSize:null!=(g=null==(f=k.videosVideoInfo)?void 0:f.videoSize)?g:null,canSee:null!=(v=null==(b=k.videosVideoInfo)?void 0:b.canSee)&&v};r(w)}))}))}),[]);return Ts.default.createElement(Zs,{className:"ccc"},Ts.default.createElement("div",{ref:t},Ts.default.createElement(Fs,{uuid:e,containerElm:t,state:o})))},Zs=wt.div`
  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15);
  border-radius: 5px;

  .prism-player {
    background-color: rgb(255, 255, 255) !important;
    border-radius: 5px;

    video {
      border-radius: 5px;
    }

    .prism-liveshift-progress {
      .prism-progress-loaded {
        background: rgba(50, 50, 50, 0.1);
        -webkit-backdrop-filter: blur(2px);
        backdrop-filter: blur(2px);
      }

      .prism-progress-played {
        background-color: #fea115;
      }
    }

    .prism-progress {
      .prism-progress-loaded {
        background: rgba(50, 50, 50, 0.1);
        -webkit-backdrop-filter: blur(2px);
        backdrop-filter: blur(2px);
      }
      .prism-progress-played {
        background-color: #fea115;
      }
    }

    .prism-controlbar {
      z-index: 11 !important;

      .prism-cc-btn {
        display: none;
      }

      .prism-controlbar-bg {
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(2px);
      }

      .prism-volume {
        margin-right: 15px !important;
        transform: scale(0.8);
      }

      .prism-setting-btn {
        transform: scale(0.8);
      }
    }

    .prism-cover {
      z-index: 10 !important;
      pointer-events: none;
      border-radius: 5px;
    }

    .prism-big-play-btn.pause {
      border-radius: 100%;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    }

    .prism-tooltip {
      border-radius: 10px;
      line-height: 19px;
      height: 20px;
      padding: 0 8px;
      box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
    }

    .prism-thumbnail {
      img ~ span {
        border-radius: 10px;
        line-height: 19px;
        height: 20px;
        padding: 0 8px;
        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
      }
    }
  }

  &[data-has-size="true"] {
    position: relative;

    .prism-player {
      position: absolute;
      top: 0;
      left: 0;
      width: 100% !important;
      height: 100% !important;
    }
  }

  &[data-has-size="false"] {
    .prism-player[data-is-ready="true"] {
      display: inline-block;
      width: auto !important;
      height: auto !important;

      video {
        position: static !important;
        width: auto !important;
        height: auto !important;
        transform: none !important;
        max-width: 100%;
        display: block;
      }
    }
  }
`,qs=x(n(67294)),Gs=({src:e})=>qs.default.createElement(qs.default.Fragment,null,qs.default.createElement("video",{style:{width:"100%",height:"100%",pointerEvents:"auto"},className:"editor-normal-video",controls:!0},qs.default.createElement("source",{src:e,type:"video/mp4"}),"\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u8be5\u89c6\u9891\u683c\u5f0f\u7684\u64ad\u653e")),Ks=e=>{return e.src&&(t=e.src,/^.*\.mp4$/.test(t))?$s.default.createElement(Gs,{src:e.src}):e.src&&(e=>new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$").test(e))(e.src)?$s.default.createElement(Us,{src:e.src}):null;var t},Js=wt.button`
  position: absolute;
  top: 8px;
  right: 8px;
  border: 0;
  margin: 0;
  padding: 0;
  border-radius: 4px;
  background: ${e=>e.theme.background};
  color: ${e=>e.theme.textSecondary};
  width: 24px;
  height: 24px;
  display: inline-block;
  cursor: pointer;
  opacity: 0;
  transition: opacity 100ms ease-in-out;

  &:active {
    transform: scale(0.98);
  }

  &:hover {
    color: ${e=>e.theme.text};
    opacity: 1;
  }
`,Xs=wt.p`
  border: 0;
  display: block;
  font-size: 13px;
  font-style: italic;
  font-weight: normal;
  color: ${e=>e.theme.textSecondary};
  padding: 2px 0;
  line-height: 16px;
  text-align: center;
  min-height: 1em;
  outline: none;
  background: none;
  resize: none;
  user-select: text;
  cursor: text;

  &:empty:not(:focus) {
    visibility: hidden;
  }

  &:empty:before {
    color: ${e=>e.theme.placeholder};
    content: attr(data-caption);
    pointer-events: none;
  }
`,Ys=wt.div`
  line-height: 0;
  display: inline-block;
  position: relative;
  max-width: 100%;

  &:hover {
    ${Js} {
      opacity: 0.9;
    }
  }

  &.ProseMirror-selectednode + ${Xs} {
    visibility: visible;
  }
`,Qs=e=>{const{options:t,isSelected:n,width:o,height:r,editor:i}=e;if(!t.sources[0].src)return null;const a=t.sources[0].src,[s,l]=(0,Is.useState)("0px"),[c]=(0,Is.useState)("100%");return Is.default.useEffect((()=>{l("99999"===o?"100%":"480px")}),[o]),Is.default.createElement(Ys,{className:n?"ProseMirror-selectednode video-wrapper":"unselectednode video-wrapper",style:{width:s,maxWidth:c,borderRadius:"5px"}},Is.default.createElement(Ks,{src:a}))},el=["right","left"],tl=class extends $i{constructor(){super(...arguments),this.handleKeyDown=({node:e,getPos:t})=>n=>{if("Enter"===n.key){n.preventDefault();const{view:o}=this.editor,r=o.state.doc.resolve(t()+e.nodeSize);return o.dispatch(o.state.tr.setSelection(new Ls.TextSelection(r)).split(r.pos)),void o.focus()}if("Backspace"===n.key&&""===n.target.innerText){const{view:e}=this.editor,n=e.state.doc.resolve(t()),o=e.state.tr.setSelection(new Ls.NodeSelection(n));return e.dispatch(o.deleteSelection()),void e.focus()}},this.handleSelect=({getPos:e})=>t=>{setTimeout((()=>{null==t||t.preventDefault();const{view:n}=this.editor,o=n.state.doc.resolve(e()),r=n.state.tr.setSelection(new Ls.NodeSelection(o));n.dispatch(r)}),0)},this.component=e=>{const{theme:t,isSelected:n}=e,{src:o,title:r,layoutClass:i,width:a,height:s}=e.node.attrs,l=i?`video video-${i}`:"video",c={controls:!0,responsive:!0,fluid:!0,sources:[{src:o}]};return Es.createElement("div",{contentEditable:!1,className:l,onClick:this.handleSelect(e),onKeyDown:e=>{if("Backspace"===e.key){const{view:e}=this.editor;return e.dispatch(e.state.tr.deleteSelection()),void e.focus()}}},Es.createElement(Qs,{isSelected:n,options:c,editor:this.editor,width:a,height:s}))}}get name(){return"video"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},layoutClass:{default:null},title:{default:null},width:{default:null},height:{default:null}},content:"text*",marks:"",group:"inline",selectable:!0,draggable:!1,parseDOM:[{tag:"div[class~=video]",getAttrs:e=>{const t=e.getElementsByTagName("video")[0],n=e.className,o=n&&n.match(/video-(.*)$/),r=o?o[1]:null;return{src:null==t?void 0:t.getAttribute("src"),alt:null==t?void 0:t.getAttribute("alt"),width:null==t?void 0:t.getAttribute("width"),height:null==t?void 0:t.getAttribute("height"),title:null==t?void 0:t.getAttribute("title"),layoutClass:r}}},{tag:"video",getAttrs:e=>({src:e.getAttribute("src"),alt:e.getAttribute("alt"),width:e.getAttribute("width"),height:e.getAttribute("height"),title:e.getAttribute("title")})}],toDOM:e=>["div",{class:e.attrs.layoutClass?`video video-${e.attrs.layoutClass}`:"video"},["video",b(g({},e.attrs),{contentEditable:!1})],["p",{class:"caption"},0]]}}get rulePlugins(){return[As]}toMarkdown(e,t){let n=" !["+e.esc((t.attrs.alt||"").replace("\n","")||"")+"]("+e.esc(t.attrs.src);if(t.attrs.layoutClass?n+=' "'+e.esc(t.attrs.layoutClass)+'"':t.attrs.title&&(n+=' "'+e.esc(t.attrs.title)+'"'),n+=")",t.attrs.width){n+="{:width="+t.attrs.width+"}"}if(t.attrs.height){n+="{:height="+t.attrs.height+"}"}e.write(n)}parseMarkdown(){return{node:"video",getAttrs:e=>{return g({src:e.attrGet("src"),width:e.attrGet("width"),height:e.attrGet("height"),alt:e.children[0]&&e.children[0].content||null},(t=e.attrGet("title"))?el.includes(t)?{layoutClass:t}:{title:t}:{});var t}}}commands({type:e}){return{alignRight:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{title:null,layoutClass:"right"}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},alignLeft:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{title:null,layoutClass:"left"}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},fullWidth:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{width:"99999",title:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},originWidth:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{width:"480",title:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},alignCenter:()=>(e,t)=>{const n=b(g({},e.selection.node.attrs),{layoutClass:null}),{selection:o}=e;return t(e.tr.setNodeMarkup(o.from,void 0,n)),!0},createVideo:t=>(n,o)=>{const{selection:r}=n,i=r.$cursor?r.$cursor.pos:r.$to.pos,a=e.create(t);return o(n.tr.insert(i,a)),!0}}}},nl=x(n(67294)),ol=x(n(14912)),rl=n(78665),il=n(42391),al=x(n(75872));function sl(e){e.core.ruler.after("inline","block_equation",(e=>{const t=e.tokens;for(let n=t.length-1;n>0;n--){const e=[t[n]].concat(t[n].children);let o=[],r=!1,i=0;if(e.forEach((e=>{e&&e.content&&/^(\$\$).+(\$\$)$/.test(e.content)&&(o=[["tex",e.content.slice(2,e.content.length-2)]],r=!0),e&&"hardbreak"===e.type&&i++})),r){const e=new al.default("block_equation_open","",1);e.attrs=o;const r=new al.default("block_equation_close","",0);e.block=!0,r.block=!0;const a=[];if(i){const e=[new al.default("paragraph_open","p",1),new al.default("inline","",0),new al.default("paragraph_close","p",-1)];e[1].children=[new al.default("text","",0)];for(let t=1;t<=i;t++)a.splice(3*(n-1),0,...e)}t.splice(n-1,3,...a,e,r),n--}}return!1}))}var ll=class extends $i{constructor(){super(...arguments),this.handleSelect=({getPos:e})=>t=>{t.preventDefault();const{view:n}=this.editor,o=n.state.doc.resolve(e()),r=n.state.tr.setSelection(new il.NodeSelection(o));n.dispatch(r),this.options.onClick()},this.component=e=>{const t=e.node.attrs,n=e.isSelected,o=ol.default.renderToString(t.tex,{output:"mathml"});return nl.createElement("div",{contentEditable:!1,tex:t.tex,className:n?"ProseMirror-selectednode":"",style:{cursor:"pointer"},onClick:this.handleSelect(e)},nl.createElement("div",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:o}}))}}get name(){return"block_equation"}get schema(){return{attrs:{tex:{default:""}},content:"block+",group:"block",selectable:!0,draggable:!0,defining:!0,isolating:!0,parseDOM:[{tag:"div[tex]",getAttrs:e=>({tex:e.getAttribute("tex")})}],toDOM:e=>{const t=document.createElement("div");return t.innerHTML=ol.default.renderToString(e.attrs.tex,{output:"mathml"}),t.onclick=this.options.onClick,["div",{tex:e.attrs.tex,style:"cursor: pointer"},t]}}}get rulePlugins(){return[sl]}commands(){return()=>()=>!0}inputRules({type:e}){return[(0,rl.wrappingInputRule)(/^(?:\$\$)([^*]+)(?:\$\$)$/,e,(e=>({tex:e[1]})),(()=>!1))]}toMarkdown(e,t){e.write(`$$${t.attrs.tex}$$`),e.closeBlock(t)}parseMarkdown(){return{block:"block_equation",getAttrs:e=>({tex:e.attrGet("tex")||void 0})}}},cl=n(74032),dl=n(42391),pl=n(51978),ul=n(69124);function hl(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--){const e=t.node(n);if(["list_item","checkbox_item"].includes(e.type.name))return[e,t.before(n)]}}var ml=class extends $i{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}get plugins(){return[new dl.Plugin({state:{init:()=>pl.DecorationSet.empty,apply:(e,t,n,o)=>{const r=e.getMeta("li");if(!r&&!e.docChanged)return t;switch(t=t.map(e.mapping,e.doc),null==r?void 0:r.event){case"mouseover":{const n=(0,ul.findParentNodeClosestToPos)(o.doc.resolve(r.pos),(e=>e.type.name===this.name||"checkbox_item"===e.type.name));if(!n)return t;const i=(0,ul.findParentNodeClosestToPos)(o.doc.resolve(r.pos),(e=>Vi(e,this.editor.schema)));if(!i)return t;const a=i.node.attrs.order||1;let s=0;i.node.content.forEach(((e,t,o)=>{e===n.node&&(s=o)}));const l=String(a+s).length;return t.add(e.doc,[pl.Decoration.node(n.pos,n.pos+n.node.nodeSize,{class:"hovering"},{hover:!0}),pl.Decoration.node(n.pos,n.pos+n.node.nodeSize,{class:`counter-${l}`})])}case"mouseout":{const e=(0,ul.findParentNodeClosestToPos)(o.doc.resolve(r.pos),(e=>e.type.name===this.name||"checkbox_item"===e.type.name));return e?t.remove(t.find(e.pos,e.pos+e.node.nodeSize,(e=>e.hover))):t}}return t}},props:{decorations(e){return this.getState(e)},handleDOMEvents:{mouseover:(e,t)=>{const{state:n,dispatch:o}=e,r=t.target,i=null==r?void 0:r.closest("li");if(!i)return!1;if(!e.dom.contains(i))return!1;const a=e.posAtDOM(i,0);return!!a&&(o(n.tr.setMeta("li",{event:"mouseover",pos:a})),!1)},mouseout:(e,t)=>{const{state:n,dispatch:o}=e,r=t.target,i=null==r?void 0:r.closest("li");if(!i)return!1;if(!e.dom.contains(i))return!1;const a=e.posAtDOM(i,0);return!!a&&(o(n.tr.setMeta("li",{event:"mouseout",pos:a})),!1)}}}})]}keys({type:e}){return{Enter:(0,cl.splitListItem)(e),Tab:(0,cl.sinkListItem)(e),"Shift-Tab":(0,cl.liftListItem)(e),"Mod-]":(0,cl.sinkListItem)(e),"Mod-[":(0,cl.liftListItem)(e),"Shift-Enter":(e,t)=>{if(!eo(e))return!1;if(!e.selection.empty)return!1;const{tr:n,selection:o}=e;return t(n.split(o.to)),!0},"Alt-ArrowUp":(e,t)=>{if(!e.selection.empty)return!1;const n=hl(e);if(!n)return!1;const[o,r]=n,i=e.doc.resolve(r);if(!i.nodeBefore||!["list_item","checkbox_item"].includes(i.nodeBefore.type.name))return console.log("Node before not a list item"),!1;const{tr:a}=e,s=r-i.nodeBefore.nodeSize;return t(a.delete(r,r+o.nodeSize).insert(s,o).setSelection(dl.TextSelection.near(a.doc.resolve(s)))),!0},"Alt-ArrowDown":(e,t)=>{if(!e.selection.empty)return!1;const n=hl(e);if(!n)return!1;const[o,r]=n,i=e.doc.resolve(r+o.nodeSize);if(!i.nodeAfter||!["list_item","checkbox_item"].includes(i.nodeAfter.type.name))return console.log("Node after not a list item"),!1;const{tr:a}=e,s=r+o.nodeSize+i.nodeAfter.nodeSize;return t(a.insert(s,o).setSelection(dl.TextSelection.near(a.doc.resolve(s))).delete(r,r+o.nodeSize)),!0}}}toMarkdown(e,t){e.renderContent(t)}parseMarkdown(){return{block:"list_item"}}},fl=n(78665),gl=n(18953),bl=x(n(67294)),vl=x(n(73935)),kl=x(n(40591));function wl(e){return(0,kl.default)(e,"notice",{marker:":",validate:()=>!0,render:function(t,n){const{info:o}=t[n];return 1===t[n].nesting?`<div class="notice notice-${e.utils.escapeHtml(o)}">\n`:"</div>\n"}})}var xl=class extends $i{constructor(){super(...arguments),this.handleStyleChange=e=>{const{view:t}=this.editor,{tr:n}=t.state,o=e.target,{top:r,left:i}=o.getBoundingClientRect(),a=t.posAtCoords({top:r,left:i});if(a){const e=n.setNodeMarkup(a.inside,void 0,{style:o.value});t.dispatch(e)}}}get styleOptions(){return Object.entries({info:this.options.dictionary.info,warning:this.options.dictionary.warning,tip:this.options.dictionary.tip})}get name(){return"container_notice"}get rulePlugins(){return[wl]}get schema(){return{attrs:{style:{default:"info"}},content:"block+",group:"block",defining:!0,draggable:!0,parseDOM:[{tag:"div.notice-block",preserveWhitespace:"full",contentElement:"div:last-child",getAttrs:e=>({style:e.className.includes("tip")?"tip":e.className.includes("warning")?"warning":void 0})}],toDOM:e=>{const t=document.createElement("select");let n;t.addEventListener("change",this.handleStyleChange),this.styleOptions.forEach((([n,o])=>{const r=document.createElement("option");r.value=n,r.innerText=o,r.selected=e.attrs.style===n,t.appendChild(r)})),n="tip"===e.attrs.style?bl.createElement(gl.StarredIcon,{color:"currentColor"}):"warning"===e.attrs.style?bl.createElement(gl.WarningIcon,{color:"currentColor"}):bl.createElement(gl.InfoIcon,{color:"currentColor"});const o=document.createElement("div");return o.className="icon",vl.default.render(n,o),["div",{class:`notice-block ${e.attrs.style}`},o,["div",{contentEditable:!1},t],["div",{class:"content"},0]]}}}commands({type:e}){return t=>Ni(e,t)}inputRules({type:e}){return[(0,fl.wrappingInputRule)(/^:::$/,e)]}toMarkdown(e,t){e.write("\n:::"+(t.attrs.style||"info")+"\n"),e.renderContent(t),e.ensureNewLine(),e.write(":::"),e.closeBlock(t)}parseMarkdown(){return{block:"container_notice",getAttrs:e=>({style:e.info})}}},yl=n(78665),Cl=class extends $i{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1})}],toDOM:e=>1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}commands({type:e,schema:t}){return()=>ji(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-9":ji(e,t.nodes.list_item)}}inputRules({type:e}){return[(0,yl.wrappingInputRule)(/^(\d+)\.\s$/,e,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order===+e[1]))]}toMarkdown(e,t){e.write("\n");const n=void 0!==t.attrs.order?t.attrs.order:1,o=(""+(n+t.childCount-1)).length,r=e.repeat(" ",o+2);e.renderList(t,r,(t=>{const r=`${n+t}`;return e.repeat(" ",o-r.length)+r+". "}))}parseMarkdown(){return{block:"ordered_list",getAttrs:e=>({order:parseInt(e.attrGet("start")||"1",10)})}}},Sl=n(49270),Ml=class extends $i{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}keys({type:e}){return{"Shift-Ctrl-0":(0,Sl.setBlockType)(e)}}commands({type:e}){return()=>(0,Sl.setBlockType)(e)}toMarkdown(e,t){""!==t.textContent.trim()||0!==t.childCount||e.inTable?(e.renderInline(t),e.closeBlock(t)):e.write("\\\n")}parseMarkdown(){return{block:"paragraph"}}},El=n(51978),Ll=n(31640),Al=n(69124),Il=n(42391),$l=x(n(75872)),Tl=/(?:^|[^\\])\\n/;function Ol(e){e.core.ruler.after("inline","tables-pm",(e=>{const t=e.tokens;let n=!1;for(let o=t.length-1;o>0;o--){if(n&&t[o].level--,"inline"===t[o].type&&t[o].content.match(Tl)){const e=t[o].children||[];t[o].children=[],e.forEach((e=>{var n;const r=e.content.split(Tl);r.length>1&&"code_inline"!==e.type?r.forEach(((e,n)=>{var i,a;const s=new $l.default("text","",1);if(s.content=e.trim(),null==(i=t[o].children)||i.push(s),n<r.length-1){const e=new $l.default("br","br",1);null==(a=t[o].children)||a.push(e)}})):null==(n=t[o].children)||n.push(e)}))}if(["thead_open","thead_close","tbody_open","tbody_close"].includes(t[o].type)&&(n=!n,t.splice(o,1)),["th_open","td_open"].includes(t[o].type)){t.splice(o+1,0,new $l.default("paragraph_open","p",1));const e=t[o].attrs;if(e){const n=e[0][1];t[o].info=n.split(":")[1]}}["th_close","td_close"].includes(t[o].type)&&t.splice(o,0,new $l.default("paragraph_close","p",-1))}return!1}))}var Rl=class extends $i{get name(){return"table"}get schema(){return{content:"tr+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:()=>["div",{class:"scrollable-wrapper"},["div",{class:"scrollable"},["table",{class:"rme-table"},["tbody",0]]]]}}get rulePlugins(){return[Ol]}commands({schema:e}){return{createTable:({rowsCount:t,colsCount:n})=>(o,r)=>{const i=o.tr.selection.anchor+1,a=(0,Al.createTable)(e,t,n),s=o.tr.replaceSelectionWith(a).scrollIntoView(),l=s.doc.resolve(i);s.setSelection(Il.TextSelection.near(l)),r(s)},setColumnAttr:({index:e,alignment:t})=>(n,o)=>{const r=(0,Al.getCellsInColumn)(e)(n.selection)||[];let i=n.tr;r.forEach((({pos:e})=>{i=i.setNodeMarkup(e,null,{alignment:t})})),o(i)},addColumnBefore:()=>Ll.addColumnBefore,addColumnAfter:()=>Ll.addColumnAfter,deleteColumn:()=>Ll.deleteColumn,addRowAfter:({index:e})=>(t,n)=>{if(0===e){const o=(0,Al.addRowAt)(e+2,!0)(t.tr);n((0,Al.moveRow)(e+2,e+1)(o))}else n((0,Al.addRowAt)(e+1,!0)(t.tr))},deleteRow:()=>Ll.deleteRow,deleteTable:()=>Ll.deleteTable,toggleHeaderColumn:()=>Ll.toggleHeaderColumn,toggleHeaderRow:()=>Ll.toggleHeaderRow,toggleHeaderCell:()=>Ll.toggleHeaderCell,setCellAttr:()=>Ll.setCellAttr,fixTables:()=>Ll.fixTables}}keys(){return{Tab:(0,Ll.goToNextCell)(1),"Shift-Tab":(0,Ll.goToNextCell)(-1),Enter:(e,t)=>{if(!(0,Ll.isInTable)(e))return!1;const n=(0,Al.getCellsInColumn)(0)(e.selection)||[];return t((0,Al.addRowAt)(n.length,!0)(e.tr)),!0}}}toMarkdown(e,t){e.renderTable(t),e.closeBlock(t)}parseMarkdown(){return{block:"table"}}get plugins(){return[(0,Ll.tableEditing)(),new Il.Plugin({props:{decorations:e=>{const{doc:t}=e,n=[];let o=0;return t.descendants(((e,t)=>{if(e.type.name!==this.name)return;const r=document.getElementsByClassName("rme-table")[o];if(!r)return;const i=r.parentElement;!!(i&&i.scrollWidth>i.clientWidth)&&n.push(El.Decoration.widget(t+1,(()=>{const e=document.createElement("div");return e.className="scrollable-shadow right",e}))),o++})),El.DecorationSet.create(t,n)}}})]}},Pl=n(51978),Dl=n(42391),Nl=n(69124),_l=class extends $i{get name(){return"td"}get schema(){return{content:"paragraph+",tableRole:"cell",isolating:!0,parseDOM:[{tag:"td"}],toDOM:e=>["td",e.attrs.alignment?{style:`text-align: ${e.attrs.alignment}`}:{},0],attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}toMarkdown(){}parseMarkdown(){return{block:"td",getAttrs:e=>({alignment:e.info})}}get plugins(){return[new Dl.Plugin({props:{decorations:e=>{const{doc:t,selection:n}=e,o=[],r=(0,Nl.getCellsInColumn)(0)(n);return r&&r.forEach((({pos:t},i)=>{o.push(Pl.Decoration.widget(t+1,(()=>{let t="grip-row";(0,Nl.isRowSelected)(i)(n)&&(t+=" selected"),0===i&&(t+=" first"),i===r.length-1&&(t+=" last");const o=document.createElement("a");return o.className=t,o.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopImmediatePropagation(),this.options.onSelectRow(i,e)})),o})))})),Pl.DecorationSet.create(t,o)}}})]}},Bl=n(51978),zl=n(42391),Hl=n(69124),Vl=class extends $i{get name(){return"th"}get schema(){return{content:"paragraph+",tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th"}],toDOM:e=>["th",e.attrs.alignment?{style:`text-align: ${e.attrs.alignment}`}:{},0],attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}toMarkdown(){}parseMarkdown(){return{block:"th",getAttrs:e=>({alignment:e.info})}}get plugins(){return[new zl.Plugin({props:{decorations:e=>{const{doc:t,selection:n}=e,o=[],r=(0,Hl.getCellsInRow)(0)(n);return r&&r.forEach((({pos:t},i)=>{o.push(Bl.Decoration.widget(t+1,(()=>{let t="grip-column";(0,Hl.isColumnSelected)(i)(n)&&(t+=" selected"),0===i?t+=" first":i===r.length-1&&(t+=" last");const o=document.createElement("a");return o.className=t,o.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopImmediatePropagation(),this.options.onSelectColumn(i,e)})),o})))})),Bl.DecorationSet.create(t,o)}}})]}},jl=class extends $i{get name(){return"tr"}get schema(){return{content:"(th | td)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]}}parseMarkdown(){return{block:"tr"}}},Wl=n(49270),Fl=n(78665);function Ul(e,t,n){return new Fl.InputRule(e,((e,o,r,i)=>{const a=n instanceof Function?n(o):n,{tr:s}=e,l=o.length-1;let c=i,d=r;if(o[l]){const n=r+o[0].indexOf(o[l-1]),a=n+o[l-1].length-1,p=n+o[l-1].lastIndexOf(o[l]),u=p+o[l].length,h=function(e,t,n){let o=[];return n.doc.nodesBetween(e,t,((e,t)=>{o=[...o,...e.marks.map((n=>({start:t,end:t+e.nodeSize,mark:n})))]})),o}(r,i,e).filter((e=>e.mark.type.excludes(t))).filter((e=>e.end>n));if(h.length)return null;u<a&&s.delete(u,a),p>n&&s.delete(n,p),d=n,c=d+o[l].length}return s.addMark(d,c,t.create(a)),s.removeStoredMark(t),s}))}var Zl=n(49270),ql=class extends Ii{get type(){return"mark"}get markdownToken(){return""}get toMarkdown(){return{}}parseMarkdown(){return{}}commands({type:e}){return()=>(0,Zl.toggleMark)(e)}},Gl=class extends ql{get name(){return"strong"}get schema(){return{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>"bold"===e}],toDOM:()=>["strong"]}}inputRules({type:e}){return[Ul(/(?:\*\*)([^*]+)(?:\*\*)$/,e)]}keys({type:e}){return{"Mod-b":(0,Wl.toggleMark)(e),"Mod-B":(0,Wl.toggleMark)(e)}}get toMarkdown(){return{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"strong"}}},Kl=n(49270),Jl=n(42391);function Xl(e,t){const{code_inline:n}=e.schema.marks,o=t>=0&&e.doc.nodeAt(t);return!!o&&!!o.marks.filter((e=>e.type===n)).length}function Yl(e,t){const n=/`+/g;let o,r=0;if(e.isText)for(;o=n.exec(e.text);)r=Math.max(r,o[0].length);let i=r>0&&t>0?" `":"`";for(let a=0;a<r;a++)i+="`";return r>0&&t<0&&(i+=" "),i}var Ql=class extends ql{get name(){return"code_inline"}get schema(){return{excludes:"_",parseDOM:[{tag:"code",preserveWhitespace:!0}],toDOM:()=>["code",{spellCheck:!1}]}}inputRules({type:e}){return[Ul(/(?:^|[^`])(`([^`]+)`)$/,e)]}keys({type:e}){return{"Mod`":(0,Kl.toggleMark)(e),ArrowLeft:(e,t)=>{const{code_inline:n}=e.schema.marks,{empty:o,$cursor:r}=e.selection;if(!o||!r)return!1;const{storedMarks:i}=e.tr;if(n){const o=n&&to(n)(e),a=Xl(e,r.pos),s=Xl(e,r.pos-1),l=Xl(e,r.pos-2),c=a&&!s&&Array.isArray(i),d=s&&!l&&(null===i||Array.isArray(i)&&!!i.length),p=(c&&Array.isArray(i)&&!i.length||!c&&null===i)&&!s&&l,u=!a&&s&&Array.isArray(i)&&!i.length;if(!o&&p)return t(e.tr.setSelection(Jl.Selection.near(e.doc.resolve(r.pos-1))).removeStoredMark(n)),!0;if(!o&&u)return t(e.tr.addStoredMark(n.create())),!0;if(o&&d)return t(e.tr.setSelection(Jl.Selection.near(e.doc.resolve(r.pos-1))).addStoredMark(n.create())),!0;const h=0===r.index(r.depth-1);if(o&&(c||!r.nodeBefore&&h))return t(e.tr.removeStoredMark(n)),!0}return!1},ArrowRight:(e,t)=>{const{code_inline:n}=e.schema.marks,{empty:o,$cursor:r}=e.selection;if(!o||!r)return!1;const{storedMarks:i}=e.tr;if(n){const o=to(n)(e),a=e.doc.rangeHasMark(r.pos,r.pos,n),s=e.doc.rangeHasMark(r.pos,r.pos+1,n),l=!a&&!s&&(!i||!!i.length),c=!a&&s&&(!i||!i.length);if(!o&&c)return t(e.tr.addStoredMark(n.create())),!0;if(o&&l)return t(e.tr.removeStoredMark(n)),!0}return!1}}}get toMarkdown(){return{open:(e,t,n,o)=>Yl(n.child(o),-1),close:(e,t,n,o)=>Yl(n.child(o-1),1),escape:!1}}parseMarkdown(){return{mark:"code_inline"}}},ec=n(49270);function tc(e){const t=e.delim.charCodeAt(0);return function(n){function o(n,o){let r,i,a,s,l;const c=[],d=o.length;for(r=0;r<d;r++)a=o[r],a.marker===t&&-1!==a.end&&(s=o[a.end],l=n.tokens[a.token],l.type=`${e.mark}_open`,l.tag="span",l.attrs=[["class",e.mark]],l.nesting=1,l.markup=e.delim,l.content="",l=n.tokens[s.token],l.type=`${e.mark}_close`,l.tag="span",l.nesting=-1,l.markup=e.delim,l.content="","text"===n.tokens[s.token-1].type&&n.tokens[s.token-1].content===e.delim[0]&&c.push(s.token-1));for(;c.length;){for(r=c.pop(),i=r+1;i<n.tokens.length&&n.tokens[i].type===`${e.mark}_close`;)i++;i--,r!==i&&(l=n.tokens[i],n.tokens[i]=n.tokens[r],n.tokens[r]=l)}}n.inline.ruler.before("emphasis",e.mark,(function(e,n){let o,r;const i=e.pos,a=e.src.charCodeAt(i);if(n)return!1;if(a!==t)return!1;const s=e.scanDelims(e.pos,!0),l=String.fromCharCode(a);let c=s.length;if(c<2)return!1;for(c%2&&(r=e.push("text","",0),r.content=l,c--),o=0;o<c;o+=2)r=e.push("text","",0),r.content=l+l,(s.can_open||s.can_close)&&e.delimiters.push({marker:a,length:0,jump:o,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return e.pos+=s.length,!0})),n.inline.ruler2.before("emphasis",e.mark,(function(e){let t;const n=e.tokens_meta,r=(e.tokens_meta||[]).length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}))}}var nc=class extends ql{get name(){return"highlight"}get schema(){return{parseDOM:[{tag:"mark"}],toDOM:()=>["mark"]}}inputRules({type:e}){return[Ul(/(?:==)([^=]+)(?:==)$/,e)]}keys({type:e}){return{"Mod-Ctrl-h":(0,ec.toggleMark)(e)}}get rulePlugins(){return[tc({delim:"==",mark:"highlight"})]}get toMarkdown(){return{open:"==",close:"==",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"highlight"}}},oc=n(49270),rc=class extends ql{get name(){return"em"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"===e}],toDOM:()=>["em"]}}inputRules({type:e}){return[Ul(/(?:^|[\s])(_([^_]+)_)$/,e),Ul(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}keys({type:e}){return{"Mod-i":(0,oc.toggleMark)(e),"Mod-I":(0,oc.toggleMark)(e)}}get toMarkdown(){return{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"em"}}},ic=n(49270),ac=n(42391),sc=n(78665),lc=n(72048),cc=/\[([^[]+)]\((\S+)\)$/;function dc(e,t,n,o){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;const r=t.child(n+(o<0?-1:0));if(!r.isText||r.text!==e.attrs.href||r.marks[r.marks.length-1]!==e)return!1;if(n===(o<0?1:t.childCount-1))return!0;const i=t.child(n+(o<0?-2:1));return!e.isInSet(i.marks)}var pc=class extends ql{get name(){return"link"}get schema(){return{attrs:{href:{default:""}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href")})}],toDOM:e=>{const t=(new Date).getTime()+(0,lc.uniqueId)();if(!this.editor.props.readOnly){const n=document.createElement("div");n.id=`editor-hover-${t}`;const o=document.createElement("div");o.className="hover-a-tag-el-value",o.innerText=e.attrs.href,n.className="hover-a-tag-el",n.appendChild(o);const r=document.createElement("div");r.className="goku-editor-separator";const i=document.createElement("div");i.className="goku-editor-link-icon goku-editor-link-edit",i.addEventListener("click",(e=>{if(!e.target||!e.target.parentElement||!e.target.parentElement.parentElement)return;e.stopPropagation(),window.gokuEditorHoverLinkEdit=!0;const n=this.editor.view,o=document.querySelector(`#editor-a-${t}`);if(!o)return;const r=this.editor.view.posAtDOM(o,0),i=o.lastChild.textContent.length,a=n.state.doc.resolve(r),s=n.state.doc.resolve(r+i),l=n.state.tr.setSelection(new ac.TextSelection(a,s));n.dispatch(l)}));const a=document.createElement("div");a.className="editor-selection-tooltip",a.innerText="\u7f16\u8f91\u94fe\u63a5",i.appendChild(a);const s=document.createElement("div");s.className="goku-editor-link-icon goku-editor-link-delete",s.addEventListener("click",(e=>{if(!e.target||!e.target.parentElement||!e.target.parentElement.parentElement)return;e.stopPropagation();const n=this.editor.view,o=document.querySelector(`#editor-a-${t}`);if(!o)return;o.removeAttribute("href");const r=this.editor.view.posAtDOM(o,0),i=o.lastChild.textContent.length;n.dispatch(n.state.tr.removeMark(r,r+i,n.state.schema.marks.link))}));const l=document.createElement("div");l.className="editor-selection-tooltip",l.innerText="\u79fb\u9664\u94fe\u63a5",s.appendChild(l),n.appendChild(r),n.appendChild(i),n.appendChild(s),n.onmouseenter=e=>{e.target&&(n.style.display="flex")},n.onmouseleave=e=>{e.target&&(n.style="display:none;")},document.body.appendChild(n)}return["a",b(g({},e.attrs),{rel:"noopener noreferrer nofollow",class:"goku-editor-link-a",id:`editor-a-${t}`}),["span",0]]}}}inputRules({type:e}){return[new sc.InputRule(cc,((t,n,o,r)=>{const[i,a,s]=n,{tr:l}=t;return i&&l.replaceWith(o,r,this.editor.schema.text(a)).addMark(o,o+a.length,e.create({href:s})),l}))]}commands({type:e}){return({href:t}={href:""})=>(0,ic.toggleMark)(e,{href:t})}keys({type:e}){return{"Mod-k":(t,n)=>t.selection.empty?(this.options.onKeyboardShortcut(),!0):(0,ic.toggleMark)(e,{href:""})(t,n)}}get plugins(){return[new ac.Plugin({props:{handleDOMEvents:{mouseover:(e,t)=>{if(t.target instanceof HTMLAnchorElement&&!t.target.className.includes("ProseMirror-widget")&&this.options.onHoverLink)return this.options.onHoverLink(t);if(t.target&&t.target.parentElement&&"A"===t.target.parentElement.tagName&&!this.editor.props.readOnly){const e=t.target.parentElement,{left:n,top:o,width:r,height:i}=e.getBoundingClientRect(),[,a]=e.id.match(/^editor-a-(\d{14,18})$/),s=document.querySelector(`#editor-hover-${a}`),l=o+window.scrollY+i+7,c=n+r/2;s.style=`display:flex;top:${l}px;left:${c}px`}return!1},mouseout:(e,t)=>{var n;if(t.target&&t.target.parentElement&&"A"===t.target.parentElement.tagName&&!this.editor.props.readOnly){const e=t.target.parentElement,{left:o,height:r,width:i}=e.getBoundingClientRect(),[,a]=e.id.match(/^editor-a-(\d{14,18})$/),s=document.querySelector(`#editor-hover-${a}`);if(s){const e=document.querySelector(".ProseMirror").getBoundingClientRect(),a=s.getBoundingClientRect(),l=function(e,t){let n=e;for(;"BODY"!==n.tagName;){if(-1!==t.indexOf(n.tagName))return!0;n=n.parentElement}return!1}(null==(n=t.target)?void 0:n.parentElement,["H1","H2","H3"])?r-3:r-1;(t.layerY<l+2||i>a.width&&Math.abs(t.layerX-o+e.left-i/2)>a.width/2)&&(s.style="display:none")}}return!1},click:(e,t)=>{if(t.stopPropagation(),t.preventDefault(),t.target instanceof HTMLAnchorElement||t.target.parentElement instanceof HTMLAnchorElement){const e=t.target.href||(t.target.parentNode instanceof HTMLAnchorElement?t.target.parentNode.href:"");if(e.startsWith("#")&&this.options.onClickHashtag)return t.stopPropagation(),t.preventDefault(),this.options.onClickHashtag(e,t),!0;if(this.options.onClickLink)return t.stopPropagation(),t.preventDefault(),this.options.onClickLink(e,t),!0}return!1}}}})]}get toMarkdown(){return{open:(e,t,n,o)=>dc(t,n,o,1)?"<":"[",close:(e,t,n,o)=>dc(t,n,o,-1)?">":"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}}parseMarkdown(){return{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})}}},uc=n(49270),hc=class extends ql{get name(){return"strikethrough"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"}],toDOM:()=>["del",0]}}keys({type:e}){return{"Mod-d":(0,uc.toggleMark)(e)}}inputRules({type:e}){return[Ul(/~([^~]+)~$/,e)]}get toMarkdown(){return{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}get markdownToken(){return"s"}parseMarkdown(){return{mark:"strikethrough"}}},mc=n(42391),fc=class extends ql{get name(){return"placeholder"}get schema(){return{parseDOM:[{tag:"span.template-placeholder"}],toDOM:()=>["span",{class:"template-placeholder"}]}}get rulePlugins(){return[tc({delim:"!!",mark:"placeholder"})]}get toMarkdown(){return{open:"!!",close:"!!",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"placeholder"}}get plugins(){return[new mc.Plugin({props:{handleTextInput:(e,t,n,o)=>{if(this.editor.props.template)return!1;const{state:r,dispatch:i}=e,a=Go(r.doc.resolve(t),r.schema.marks.placeholder);if(!a)return!1;const s=Math.min(t,a.from),l=Math.max(n,a.to);i(r.tr.removeMark(a.from,a.to,r.schema.marks.placeholder).insertText(o,s,l));const c=e.state.doc.resolve(s+o.length);return i(e.state.tr.setSelection(mc.TextSelection.near(c))),!0},handleKeyDown:(e,t)=>{if(!e.props.editable||!e.props.editable(e.state))return!1;if(this.editor.props.template)return!1;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key&&"Backspace"!==t.key)return!1;const{state:n,dispatch:o}=e;if("Backspace"===t.key){const e=Go(n.doc.resolve(Math.max(0,n.selection.from-1)),n.schema.marks.placeholder);return!!e&&(o(n.tr.removeMark(e.from,e.to,n.schema.marks.placeholder).insertText("",e.from,e.to)),!0)}if("ArrowLeft"===t.key){const e=Go(n.doc.resolve(Math.max(0,n.selection.from-1)),n.schema.marks.placeholder);if(!e)return!1;const t=n.doc.resolve(e.from);return o(n.tr.setSelection(mc.TextSelection.near(t))),!0}if("ArrowRight"===t.key){const e=Go(n.selection.$from,n.schema.marks.placeholder);if(!e)return!1;const t=n.doc.resolve(e.to);return o(n.tr.setSelection(mc.TextSelection.near(t))),!0}return!1},handleClick:(e,t,n)=>{if(!e.props.editable||!e.props.editable(e.state))return!1;if(this.editor.props.template)return!1;if(n.target instanceof HTMLSpanElement&&n.target.className.includes("template-placeholder")){const{state:t,dispatch:o}=e,r=Go(t.selection.$from,t.schema.marks.placeholder);if(!r)return!1;n.stopPropagation(),n.preventDefault();const i=t.doc.resolve(r.from);return o(t.tr.setSelection(mc.TextSelection.near(i))),!0}return!1}}})]}},gc=n(49270);function bc(e){e.inline.ruler2.after("emphasis","underline",(e=>{const t=e.tokens;for(let n=t.length-1;n>0;n--){const e=t[n];"__"===e.markup&&("strong_open"===e.type&&(t[n].tag="underline",t[n].type="underline_open"),"strong_close"===e.type&&(t[n].tag="underline",t[n].type="underline_close"))}return!1}))}var vc=class extends ql{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e}],toDOM:()=>["u",0]}}get rulePlugins(){return[bc]}inputRules({type:e}){return[Ul(/(?:__)([^_]+)(?:__)$/,e)]}keys({type:e}){return{"Mod-u":(0,gc.toggleMark)(e)}}get toMarkdown(){return{open:"__",close:"__",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"underline"}}},kc=n(78665),wc=x(n(73935)),xc=x(n(67294)),yc=n(42391),Cc=n(31640),Sc=n(69124),Mc=n(51978),Ec=/^\/([\u4e00-\u9fa5_a-zA-Z0-9]+)?$/,Lc=/(^(?!\/(\w+)?)(.*)$|^\/(([\w\W]+)\s.*|\s)$|^\/(([^\u4e00-\u9fa5_a-zA-Z0-9])+)$)/;function Ac(e,t,n,o,r){if(e.composing)return!1;const i=e.state,a=i.doc.resolve(t);if(a.parent.type.spec.code)return!1;const s=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc"),l=o.exec(s);return!!r(i,l,l?t-l[0].length:t,n)}var Ic=class extends Ii{get name(){return"blockmenu"}get plugins(){const e=document.createElement("button");return e.className="block-menu-trigger",e.type="button",wc.default.render(xc.createElement(qt,{style:{float:"left"}}),e),[new yc.Plugin({props:{handleClick:()=>(this.options.onClose(),!1),handleKeyDown:(e,t)=>{var n,o,r,i,a,s,l,c,d,p,u,h;if("Backspace"===t.key){if("image"===(null==(o=null==(n=e.state.doc.resolve(Math.max(0,e.state.selection.from-4)))?void 0:n.nodeAfter)?void 0:o.type.name)||"video"===(null==(i=null==(r=e.state.doc.resolve(Math.max(0,e.state.selection.from-4)))?void 0:r.nodeAfter)?void 0:i.type.name)){const t=e.state.doc.resolve(Math.max(0,e.state.selection.from-4)),n=e.state.tr.setSelection(new yc.NodeSelection(t));return e.dispatch(n),!0}setTimeout((()=>{const{pos:t}=e.state.selection.$from;return Ac(e,t,t,Ec,((e,t)=>(t?this.options.onOpen(t[1]):this.options.onClose(),null)))}))}if("ArrowLeft"===t.key&&(null==(a=e.state.selection)?void 0:a.node)&&("image"===(null==(s=e.state.selection)?void 0:s.node.type.name)||"video"===(null==(l=e.state.selection)?void 0:l.node.type.name))){const t=e.state.tr.setSelection(yc.Selection.near(e.state.doc.resolve(e.state.selection.from-2)));return e.dispatch(t),!0}if("ArrowRight"===t.key&&(null==(c=e.state.selection)?void 0:c.node)&&("image"===(null==(d=e.state.selection)?void 0:d.node.type.name)||"video"===(null==(p=e.state.selection)?void 0:p.node.type.name))){const t=e.state.tr.setSelection(yc.Selection.near(e.state.doc.resolve(e.state.selection.from+3)));return e.dispatch(t),!0}if("Enter"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Tab"===t.key){const{pos:n}=e.state.selection.$from;if("ArrowUp"===t.key)try{const t=e.state.doc.child(e.state.doc.childAfter(n).index-1);if(t&&t.lastChild&&("image"===t.lastChild.type.name||"video"===t.lastChild.type.name)){const t=(null==(u=e.state.doc.resolve(n).nodeBefore)?void 0:u.nodeSize)||0,o=e.state.doc.resolve(Math.max(0,n-t-4)),r=e.state.tr.setSelection(new yc.NodeSelection(o));return e.dispatch(r),!0}}catch(m){}if("ArrowDown"===t.key)try{const t=e.state.doc.child(e.state.doc.childAfter(n).index+1);if(t&&t.lastChild&&("image"===t.lastChild.type.name||"video"===t.lastChild.type.name)){const t=(null==(h=e.state.doc.resolve(n).nodeAfter)?void 0:h.nodeSize)||0,o=e.state.doc.resolve(Math.max(0,n+t+2)),r=e.state.tr.setSelection(new yc.NodeSelection(o));return e.dispatch(r),!0}}catch(m){}return Ac(e,n,n,Ec,((e,t)=>!(!t||!this.options.getBlockMenuOpen())||null))}return!1},decorations:t=>{const n=(0,Sc.findParentNode)((e=>"paragraph"===e.type.name))(t.selection);if(!n)return;const o=[],r=n&&0===n.node.content.size,i=n&&"/"===n.node.textContent;return 1===t.selection.$from.depth?(r&&(o.push(Mc.Decoration.widget(n.pos,(()=>(e.addEventListener("click",(()=>{this.options.onOpen("")})),e)))),o.push(Mc.Decoration.node(n.pos,n.pos+n.node.nodeSize,{class:"placeholder","data-empty-text":this.options.dictionary.newLineEmpty}))),i&&o.push(Mc.Decoration.node(n.pos,n.pos+n.node.nodeSize,{class:"placeholder","data-empty-text":`  ${this.options.dictionary.newLineWithSlash}`})),Mc.DecorationSet.create(t.doc,o)):void 0}}})]}inputRules(){return[new kc.InputRule(Ec,((e,t)=>(t&&"paragraph"===e.selection.$from.parent.type.name&&!(0,Cc.isInTable)(e)&&this.options.onOpen(t[1]),null))),new kc.InputRule(Lc,((e,t)=>(t&&this.options.onClose(),null)))]}},$c=n(78665),Tc=n(42391),Oc=/(?:^|\s):([0-9a-zA-Z_+-]+)?$/,Rc=/(?:^|\s):(([0-9a-zA-Z_+-]*\s+)|(\s+[0-9a-zA-Z_+-]+)|[^0-9a-zA-Z_+-]+)$/,Pc=class extends Ii{get name(){return"emojimenu"}get plugins(){return[new Tc.Plugin({props:{handleClick:()=>(this.options.onClose(),!1),handleKeyDown:(e,t)=>{if("Backspace"===t.key&&setTimeout((()=>{const{pos:t}=e.state.selection.$from;return Ac(e,t,t,Oc,((e,t)=>(t?this.options.onOpen(t[1]):this.options.onClose(),null)))})),"Enter"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Tab"===t.key){const{pos:t}=e.state.selection.$from;return Ac(e,t,t,Oc,((e,t)=>!(!t||!this.options.getBlockMenuOpen())||null))}return!1}}})]}inputRules(){return[new $c.InputRule(Oc,((e,t)=>(t&&"paragraph"===e.selection.$from.parent.type.name&&!Ma(e)&&this.options.onOpen(t[1]),null))),new $c.InputRule(Rc,((e,t)=>(t&&this.options.onClose(),null)))]}},Dc=n(42391),Nc=n(51978),_c=n(69124),Bc=class extends Ii{get name(){return"folding"}get plugins(){let e=!1;return[new Dc.Plugin({view:t=>(e=!1,t.dispatch(t.state.tr.setMeta("folding",{loaded:!0})),{}),appendTransaction:(t,n,o)=>{if(e)return;if(!t.some((e=>e.getMeta("folding"))))return;let r=!1;const i=o.tr,a=(0,_c.findBlockNodes)(o.doc);for(const e of a)if("heading"===e.node.type.name){const t=Ei(e.node,this.editor.props.id);"collapsed"===(null==localStorage?void 0:localStorage.getItem(t))&&(i.setNodeMarkup(e.pos,void 0,b(g({},e.node.attrs),{collapsed:!0})),r=!0)}return e=!0,r?i:null},props:{decorations:e=>{const{doc:t}=e,n=cs(t).map((e=>Nc.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:"folded-content"})));return Nc.DecorationSet.create(t,n)}}})]}},zc=n(78665),Hc=n(98638),Vc=class extends Ii{get name(){return"history"}keys(){return{"Mod-z":Hc.undo,"Mod-y":Hc.redo,"Shift-Mod-z":Hc.redo,Backspace:zc.undoInputRule}}get plugins(){return[(0,Hc.history)()]}},jc=n(42391),Wc=n(81634),Fc=!("undefined"===typeof window)&&"MacIntel"===window.navigator.platform;var Uc=class extends Ii{get name(){return"keys"}get plugins(){return[new jc.Plugin({props:{handleDOMEvents:{blur:this.options.onBlur,focus:this.options.onFocus},handleKeyDown:(e,t)=>{if(e.state.selection instanceof jc.AllSelection){if("ArrowUp"===t.key){const t=jc.Selection.atStart(e.state.doc);return e.dispatch(e.state.tr.setSelection(t)),!0}if("ArrowDown"===t.key){const t=jc.Selection.atEnd(e.state.doc);return e.dispatch(e.state.tr.setSelection(t)),!0}}return e.state.selection instanceof Wc.GapCursor&&"Enter"===t.key?(e.dispatch(e.state.tr.insert(e.state.selection.from,e.state.schema.nodes.paragraph.create({}))),e.dispatch(e.state.tr.setSelection(jc.TextSelection.near(e.state.doc.resolve(e.state.selection.from),-1))),!0):!!function(e){return Fc?e.metaKey:e.ctrlKey}(t)&&("s"===t.key?(t.preventDefault(),this.options.onSave(),!0):"Enter"===t.key?(t.preventDefault(),this.options.onSaveAndExit(),!0):"Escape"===t.key&&(t.preventDefault(),this.options.onCancel(),!0))}}})]}},Zc=n(42391),qc=class extends Ii{get name(){return"maxlength"}get plugins(){return[new Zc.Plugin({filterTransaction:e=>{if(this.options.maxLength){return!(e.doc&&e.doc.nodeSize>this.options.maxLength)}return!0}})]}},Gc=n(42391),Kc=n(51978),Jc=(0,n(72048).throttle)((()=>{const e=setTimeout((()=>{const t=document.querySelector(".ProseMirror"),n=document.querySelector(".block-menu-trigger"),o=document.querySelector(".placeholder");if(n&&o&&t){const{top:e}=null==t?void 0:t.getBoundingClientRect(),{top:r}=o.getBoundingClientRect();n.style=`top:${r-e}px`}clearTimeout(e)}),0)}),100),Xc=class extends Ii{get name(){return"empty-placeholder"}get defaultOptions(){return{emptyNodeClass:"placeholder",placeholder:""}}get plugins(){return[new Gc.Plugin({props:{decorations:e=>{const{doc:t}=e,n=[],o=""===t.textContent&&t.childCount<=1&&t.content.size<=2;return t.descendants(((e,t)=>{if(!o)return;if(0!==t||"paragraph"!==e.type.name)return;const r=Kc.Decoration.node(t,t+e.nodeSize,{class:this.options.emptyNodeClass,"data-empty-text":this.options.placeholder});n.push(r)})),Jc(),Kc.DecorationSet.create(t,n)}}})]}},Yc=n(78665),Qc=new Yc.InputRule(/->$/,"\u2192"),ed=class extends Ii{get name(){return"smart_text"}inputRules(){return[Qc,Yc.ellipsis,...Yc.smartQuotes]}},td=n(42391),nd=class extends Ii{get name(){return"trailing_node"}get defaultOptions(){return{node:"paragraph",notAfter:["paragraph","heading"]}}get plugins(){const e=new td.PluginKey(this.name),t=Object.entries(this.editor.schema.nodes).map((([,e])=>e)).filter((e=>this.options.notAfter.includes(e.name)));return[new td.Plugin({key:e,view:()=>({update:t=>{const{state:n}=t;if(!e.getState(n))return;const{doc:o,schema:r,tr:i}=n,a=r.nodes[this.options.node],s=i.insert(o.content.size,a.create());t.dispatch(s)}}),state:{init:(e,n)=>{const o=n.tr.doc.lastChild;return!!o&&!t.includes(o.type)},apply:(e,n)=>{if(!e.docChanged)return n;const o=e.doc.lastChild;return!!o&&!t.includes(o.type)}}})]}},od=n(42391),rd=n(31640),id=n(49270);var ad=class extends Ii{get name(){return"markdown-paste"}get plugins(){return[new od.Plugin({props:{handlePaste:(e,t)=>{if(e.props.editable&&!e.props.editable(e.state))return!1;if(!t.clipboardData)return!1;const n=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("text/html"),r=t.clipboardData.getData("vscode-editor-data"),{state:i,dispatch:a}=e;if(xo(n)){if(!i.selection.empty)return(0,id.toggleMark)(this.editor.schema.marks.link,{href:n})(i,a),!0;const{embeds:t}=this.editor.props;if(t&&!(0,rd.isInTable)(i))for(const e of t){if(e.matcher(n))return this.editor.commands.embed({href:n}),!0}const o=e.state.tr.insertText(n,i.selection.from,i.selection.to).addMark(i.selection.from,i.selection.to+n.length,i.schema.marks.link.create({href:n}));return e.dispatch(o),!0}if(Ma(e.state))return t.preventDefault(),e.dispatch(e.state.tr.insertText(n)),!0;const s=r?JSON.parse(r):void 0,l=null==s?void 0:s.mode;if(l&&"markdown"!==l)return t.preventDefault(),e.dispatch(e.state.tr.replaceSelectionWith(e.state.schema.nodes.code_fence.create({language:Object.keys(ka).includes(s.mode)?s.mode:null})).insertText(n)),!0;if(o&&/<div class="hover-a-tag-el">/.test(o)){const t=o.match(/<span>(.+)<\/span>/),n=o.match(/<a href="(.+)" rel="noopener noreferrer nofollow" class="goku-editor-link-a">/);if((null==t?void 0:t.length)&&(null==n?void 0:n.length)){const o=t[1],r=n[1],a=e.state.tr.insertText(o,i.selection.from,i.selection.to).addMark(i.selection.from,i.selection.to+o.length,i.schema.marks.link.create({href:r}));return e.dispatch(a),!0}}if(null==o?void 0:o.includes("data-pm-slice"))return!1;if(n&&!o&&!r){const t=e.state.tr.insertText(n,i.selection.from,i.selection.to);return e.dispatch(t),!0}if(function(e){const t=e.match(/^```/gm);if(t&&t.length>1)return!0;if(e.match(/\[[^]+\]\(https?:\/\/\S+\)/gm))return!0;if(e.match(/\[[^]+\]\(\/\S+\)/gm))return!0;if(e.match(/^#{1,6}\s+\S+/gm))return!0;const n=e.match(/^[\d-*].?\s\S+/gm);return!!(n&&n.length>1)}(n)||0===o.length||"markdown"===l){t.preventDefault();const o=this.editor.pasteParser.parse(function(e){const t=/^\s?(\[(X|\s|_|-)\]\s(.*)?)/gim;for(;e.match(t);)e=e.replace(t,(e=>`- ${e.trim()}`));return e}(n)),r=o.slice(0),i=e.state.tr.replaceSelection(r);return e.dispatch(i),!0}return!1}}})]}},sd=n(19443),ld=/\[(X|\s|_|-)\]\s(.*)?/i;function cd(e,t){return!!(n=e[t])&&"inline"===n.type&&function(e){return!!e&&("list_item_open"===e.type||"checkbox_item_open"===e.type)}(e[t-2])&&function(e){return!!e&&"paragraph_open"===e.type}(e[t-1])&&function(e){return e&&e.content.match(ld)}(e[t]);var n}function dd(e){function t(e,t){const n=e[t],o=!!n.attrGet("checked");return 1===n.nesting?`<li class="checkbox-list-item"><span class="checkbox ${o?"checked":""}">${o?"[x]":"[ ]"}</span>`:"</li>\n"}e.renderer.rules.checkbox_item_open=t,e.renderer.rules.checkbox_item_close=t,e.core.ruler.after("inline","checkboxes",(e=>{const t=e.tokens;for(let n=t.length-1;n>0;n--){const e=cd(t,n);if(e){const o="x"===e[1].toLowerCase();"bullet_list_open"===t[n-3].type&&(t[n-3].type="checkbox_list_open"),"bullet_list_close"===t[n+3].type&&(t[n+3].type="checkbox_list_close");const r=t[n].children;if(r){const e=r[0].content.match(ld);if(e){const o=e[2];t[n].content=o,r[0].content=o}}t[n-2].type="checkbox_item_open",!0===o&&(t[n-2].attrs=[["checked","true"]]);let i=n;for(;"list_item_close"!==t[i].type;)i++;t[i].type="checkbox_item_close"}}return!1}))}var pd=[Ga,Qa,dd,tc({delim:"==",mark:"highlight"}),tc({delim:"!!",mark:"placeholder"}),bc,Ol,wl,Va];var ud=n(78665),hd=n(74032),md=new wi([new Oi,new Ri,new es,new Ml,new _i,new ja,new Wi,new Na,new Pa,new class extends $i{get name(){return"checkbox_list"}get schema(){return{group:"block",content:"checkbox_item+",toDOM:()=>["ul",{class:this.name},0],parseDOM:[{tag:`[class="${this.name}"]`}]}}keys({type:e,schema:t}){return{"Shift-Ctrl-7":ji(e,t.nodes.checkbox_item)}}commands({type:e,schema:t}){return()=>ji(e,t.nodes.checkbox_item)}inputRules({type:e}){return[(0,ud.wrappingInputRule)(/^-?\s*(\[ \])\s$/i,e)]}toMarkdown(e,t){e.renderList(t,"  ",(()=>"- "))}parseMarkdown(){return{block:"checkbox_list"}}},new class extends $i{constructor(){super(...arguments),this.handleChange=e=>{const{view:t}=this.editor,{tr:n}=t.state,{top:o,left:r}=e.target.getBoundingClientRect(),i=t.posAtCoords({top:o,left:r});if(i){const o=n.setNodeMarkup(i.inside,void 0,{checked:e.target.checked});t.dispatch(o)}}}get name(){return"checkbox_item"}get schema(){return{attrs:{checked:{default:!1}},content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:`li[data-type="${this.name}"]`,getAttrs:e=>({checked:e.className.includes("checked")})}],toDOM:e=>{const t=document.createElement("input");return t.type="checkbox",t.tabIndex=-1,t.addEventListener("change",this.handleChange),e.attrs.checked&&(t.checked=!0),["li",{"data-type":this.name,class:e.attrs.checked?"checked":void 0},["span",{contentEditable:!1},t],["div",0]]}}}get rulePlugins(){return[dd]}keys({type:e}){return{Enter:(0,hd.splitListItem)(e),Tab:(0,hd.sinkListItem)(e),"Shift-Tab":(0,hd.liftListItem)(e),"Mod-]":(0,hd.sinkListItem)(e),"Mod-[":(0,hd.liftListItem)(e)}}toMarkdown(e,t){e.write(t.attrs.checked?"[x] ":"[ ] "),e.renderContent(t)}parseMarkdown(){return{block:"checkbox_item",getAttrs:e=>({checked:!!e.attrGet("checked")||void 0})}}},new Ja,new ml,new xl,new us,new fs,new Ms,new Rl,new _l,new Vl,new jl,new Gl,new Ql,new nc,new rc,new pc,new hc,new fc,new vc,new Cl]),fd=new sd.Schema({nodes:md.nodes,marks:md.marks}),gd=md.parser({schema:fd,plugins:md.rulePlugins}),bd=md.serializer(),vd=e=>function(e,t=pd){return ki({plugins:t}).render(e).trim()}(e,md.rulePlugins),kd=Ct,wd=class extends I.PureComponent{constructor(){super(...arguments),this.state={isRTL:!1,isEditorFocused:!1,selectionMenuOpen:!1,blockMenuOpen:!1,linkMenuOpen:!1,teXMenuOpen:!1,blockMenuSearch:"",emojiMenuOpen:!1,spaceHeight:60},this.windowClickEvent=e=>{if(e.target&&void 0!==window.showSelectNode){window.showSelectNode=void 0;document.querySelectorAll(".goku-editor-code-select-option-container").forEach((e=>{-1!==e.className.indexOf("show")&&(e.style="opacity:0")}))}const t=document.querySelector(".ProseMirror");e.target&&!(null==t?void 0:t.contains(e.target))&&this.handleCloseBlockMenu()},this.calculateDir=()=>{if(!this.element)return;const e="rtl"===this.props.dir||"rtl"===getComputedStyle(this.element).direction;this.state.isRTL!==e&&this.setState({isRTL:e})},this.value=()=>this.serializer.serialize(this.view.state.doc),this.handleChange=()=>{this.props.onChange&&this.props.onChange((()=>this.value()))},this.handleSave=()=>{const{onSave:e}=this.props;e&&e({done:!1})},this.handleSaveAndExit=()=>{const{onSave:e}=this.props;e&&e({done:!0})},this.handleEditorBlur=()=>{this.setState({isEditorFocused:!1})},this.handleEditorFocus=()=>{this.setState({isEditorFocused:!0})},this.handleOpenSelectionMenu=()=>{this.setState({blockMenuOpen:!1,selectionMenuOpen:!0})},this.handleCloseSelectionMenu=()=>{this.setState({selectionMenuOpen:!1})},this.handleOpenLinkMenu=()=>{this.setState({blockMenuOpen:!1,linkMenuOpen:!0})},this.handleCloseLinkMenu=()=>{this.setState({linkMenuOpen:!1})},this.handleOpenTeXMenu=()=>{this.setState({blockMenuOpen:!1,teXMenuOpen:!0})},this.handleCloseTeXMenu=()=>{this.setState({teXMenuOpen:!1})},this.handleOpenBlockMenu=e=>{this.setState({blockMenuOpen:!0,blockMenuSearch:e});try{const e=document.querySelector("#block-menu-container");e&&(null==e?void 0:e.scrollTop)&&(e.scrollTop=0)}catch(t){}},this.handleCloseBlockMenu=()=>{this.state.blockMenuOpen&&this.setState({blockMenuOpen:!1})},this.handleSelectRow=(e,t)=>{this.view.dispatch((0,H.selectRow)(e)(t.tr))},this.handleSelectColumn=(e,t)=>{this.view.dispatch((0,H.selectColumn)(e)(t.tr))},this.handleSelectTable=e=>{this.view.dispatch((0,H.selectTable)(e.tr))},this.handleSpaceHeight=()=>{if(this.element&&this.props.wrapperHeight){const{height:e}=this.element.getBoundingClientRect();e<=this.props.wrapperHeight?this.setState({spaceHeight:this.props.wrapperHeight-e}):e>this.props.wrapperHeight&&60!==this.state.spaceHeight&&this.setState({spaceHeight:60})}},this.throttleSpaceHeight=(0,T.throttle)(this.handleSpaceHeight,500),this.getBlockMenuOpen=()=>this.state.blockMenuOpen,this.getEmojiMenuOpen=()=>this.state.emojiMenuOpen,this.focusAtStart=()=>{const e=O.Selection.atStart(this.view.state.doc),t=this.view.state.tr.setSelection(e);this.view.dispatch(t),this.view.focus()},this.focusAtEnd=()=>{const e=O.Selection.atEnd(this.view.state.doc),t=this.view.state.tr.setSelection(e);this.view.dispatch(t),this.view.focus()},this.getHeadings=()=>{const e=[],t={};return this.view.state.doc.forEach((n=>{if("heading"===n.type.name){const o=Mi(n);let r=o;t[o]>0&&(r=Mi(n,t[o])),t[o]=void 0!==t[o]?t[o]+1:1,e.push({title:n.textContent,level:n.attrs.level,id:r})}})),e},this.theme=()=>this.props.theme||(this.props.dark?St:Ct),this.dictionary=(0,$.default)((e=>g(g({},Et),e)))}componentDidMount(){var e;if(this.init(),this.props.scrollTo&&this.scrollToAnchor(this.props.scrollTo),this.calculateDir(),this.props.readOnly)return;this.props.autoFocus&&this.focusAtEnd();const t=document.createElement("style");t.type="text/css",t.innerHTML='\n.hover-a-tag-el {\n  position: absolute;\n  white-space:nowrap;\n  \n  height: 32px;\n  background: #FFFFFF;\n  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04), 0px 12px 48px rgba(0, 0, 0, 0.04);\n  border-radius: 5px;\n  display: none;\n  transform: translateX(-50%);\n  padding: 6px 8px;\n  font-size: 14px;\n  line-height: 20px;\n  text-align: center;\n  color: #1A1A1A;\n  box-sizing: border-box;\n  z-index: 100;\n}\n\n.hover-a-tag-el .hover-a-tag-el-value {\n  max-width: 240px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.hover-a-tag-el::before {\n  content: "";\n  display: inline-block;\n  height: 15px;\n  width: 100%;\n  position: absolute;\n  top: -10px;\n  left: 0px;\n}\n\n.goku-editor-link-a {\n  position: relative;\n  text-selectable: true;\n}\n\n.goku-editor-link-a:hover {\n  .hover-a-tag-el {\n    display:flex;\n  }\n}\n\n.goku-editor-separator {\n  height: 16px;\n  width: 1px;\n  background: rgba(0, 0, 0, 0.05);\n  display: inline-block;\n  margin-left: 8px;\n  margin-top: 4px;\n  box-sizing: border-box;\n  margin-left: 10px;\n}\n\n.goku-editor-link-icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  display: inline-block;\n  padding: 5px;\n  pointer-events: all;\n  box-sizing: border-box;\n  margin-left: 10px;\n  position: relative;\n  margin-top: -2px;\n}\n\n.goku-editor-link-icon:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.goku-editor-link-edit::after {\n  content: "";\n  display: inline-block;\n  background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorEditLink.svg");\n  background-size: 100% 100%;\n  height: 14px;\n  width: 14px;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.goku-editor-link-delete::after {\n  content: "";\n  display: inline-block;\n  background-image: url("https://static.leetcode.cn/upload-data/ou_b0be940575e78591b48f9caa4e4aad78/editorDeleteLittle.svg");\n  background-size: 100% 100%;\n  height: 14px;\n  width: 14px;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.editor-selection-tooltip {\n  position: absolute;\n  top: -40px;\n  left: 50%;\n  // width: 80px;\n  box-sizing: border-box;\n  transform: translateX(-50%);\n  background: #2A2A2A;\n  border-radius: 4px;\n  display: none;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  color: #fff;\n  padding: 6px 12px;\n}\n\n.editor-selection-tooltip::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-width: 8px;\n  border-style: solid;\n  top: 100%;\n  left: 50%;\n  margin-left: -8px;\n  border-top-color: #2A2A2A;\n}\n\n.goku-editor-link-icon:hover .editor-selection-tooltip {\n  display: inline-block;\n}\n';const n=null==(e=document.getElementsByTagName("HEAD"))?void 0:e.item(0);n&&n.appendChild(t),window.addEventListener("click",this.windowClickEvent)}componentWillUnmount(){window.videoTimerList&&window.videoTimerList.length&&(window.videoTimerList.forEach((e=>{clearTimeout(e)})),window.videoTimerList=void 0),window.removeEventListener("click",this.windowClickEvent)}componentDidUpdate(e){if(this.throttleSpaceHeight(),this.props.value&&e.value!==this.props.value){const e=this.createState(this.props.value);this.view.updateState(e)}e.readOnly!==this.props.readOnly&&this.view.update(b(g({},this.view.props),{editable:()=>!this.props.readOnly})),this.props.scrollTo&&this.props.scrollTo!==e.scrollTo&&this.scrollToAnchor(this.props.scrollTo),e.readOnly&&!this.props.readOnly&&this.props.autoFocus&&this.focusAtEnd(),e.dir!==this.props.dir&&this.calculateDir(),this.isBlurred||this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.teXMenuOpen||this.state.selectionMenuOpen||(this.isBlurred=!0,this.props.onBlur&&this.props.onBlur()),this.isBlurred&&(this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.teXMenuOpen||this.state.selectionMenuOpen)&&(this.isBlurred=!1,this.props.onFocus&&this.props.onFocus())}init(){this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.rulePlugins=this.createRulePlugins(),this.keymaps=this.createKeymaps(),this.serializer=this.createSerializer(),this.parser=this.createParser(),this.pasteParser=this.createPasteParser(),this.inputRules=this.createInputRules(),this.nodeViews=this.createNodeViews(),this.view=this.createView(),this.commands=this.createCommands()}createExtensions(){const e=this.dictionary(this.props.dictionary);return new wi([...[new Oi,new es,new Ml,new _i,new Na({dictionary:e,onShowToast:this.props.onShowToast}),new Pa({dictionary:e,onShowToast:this.props.onShowToast}),new ja,new Ri,new Wi,new Ja({embeds:this.props.embeds}),new ml,new xl({dictionary:e}),new us({dictionary:e,onShowToast:this.props.onShowToast,offset:this.props.headingsOffset}),new fs,new Ms({dictionary:e,uploadImage:this.props.uploadImage,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast}),new tl({dictionary:e,uploadImage:this.props.uploadImage,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast}),new Rl,new _l({onSelectTable:this.handleSelectTable,onSelectRow:this.handleSelectRow}),new Vl({onSelectColumn:this.handleSelectColumn}),new jl,new Gl,new Ql,new nc,new rc,new fc,new vc,new pc({onKeyboardShortcut:this.handleOpenLinkMenu,onClickLink:this.props.onClickLink,onClickHashtag:this.props.onClickHashtag,onHoverLink:this.props.onHoverLink}),new ll({onClick:this.handleOpenTeXMenu}),new hc,new Cl,new Vc,new Bc,new ed,new nd,new ad,new Uc({onBlur:this.handleEditorBlur,onFocus:this.handleEditorFocus,onSave:this.handleSave,onSaveAndExit:this.handleSaveAndExit,onCancel:this.props.onCancel}),new Ic({dictionary:e,onOpen:this.handleOpenBlockMenu,onClose:this.handleCloseBlockMenu,getBlockMenuOpen:this.getBlockMenuOpen}),new Pc({onOpen:e=>{this.setState({emojiMenuOpen:!0,blockMenuSearch:e})},onClose:()=>{this.setState({emojiMenuOpen:!1})},getEmojiMenuOpen:this.getEmojiMenuOpen}),new Xc({placeholder:this.props.placeholder}),new qc({maxLength:this.props.maxLength})].filter((e=>!this.props.disableExtensions||!this.props.disableExtensions.includes(e.name))),...this.props.extensions||[]],this)}createPlugins(){return this.extensions.plugins}createRulePlugins(){return this.extensions.rulePlugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema})}createNodeViews(){return this.extensions.extensions.filter((e=>e.component)).reduce(((e,t)=>b(g({},e),{[t.name]:(e,n,o,r)=>new class{constructor(e,{editor:t,extension:n,node:o,view:r,getPos:i,decorations:a}){this.isSelected=!1,this.component=e,this.editor=t,this.extension=n,this.getPos=i,this.decorations=a,this.node=o,this.view=r,this.dom=o.type.spec.inline?document.createElement("span"):document.createElement("div"),this.renderElement()}renderElement(){const{dark:e}=this.editor.props,t=this.editor.props.theme||(e?St:Ct),n=this.component({theme:t,node:this.node,isSelected:this.isSelected,isEditable:this.view.editable,getPos:this.getPos});yi.default.render(xi.createElement(ut,{theme:t},n),this.dom)}update(e){return e.type===this.node.type&&(this.node=e,this.renderElement(),!0)}selectNode(){this.view.editable&&(this.isSelected=!0,this.renderElement())}deselectNode(){this.view.editable&&(this.isSelected=!1,this.renderElement())}stopEvent(){return!0}destroy(){this.dom&&yi.default.unmountComponentAtNode(this.dom),this.dom=null}ignoreMutation(){return!0}}(t.component,{editor:this,extension:t,node:e,view:n,getPos:o,decorations:r})})),{})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new N.Schema({nodes:this.nodes,marks:this.marks})}createSerializer(){return this.extensions.serializer()}createParser(){return this.extensions.parser({schema:this.schema,plugins:this.rulePlugins})}createPasteParser(){return this.extensions.parser({schema:this.schema,rules:{linkify:!0},plugins:this.rulePlugins})}createState(e){const t=e||this.props.defaultValue,n=this.createDocument("\n"!==t[t.length-1]?t+"\n\n\\\n":t);return O.EditorState.create({schema:this.schema,doc:n,plugins:[...this.plugins,...this.keymaps,(0,R.dropCursor)({color:this.theme().cursor}),(0,P.gapCursor)(),(0,_.inputRules)({rules:this.inputRules}),(0,B.keymap)(z.baseKeymap)]})}createDocument(e){return this.parser.parse(e)}createView(){if(!this.element)throw new Error("createView called before ref available");const e=e=>e.steps.some((e=>{var t,n,o;return(null==(o=null==(n=null==(t=e.slice)?void 0:t.content)?void 0:n.firstChild)?void 0:o.type.name)===this.schema.nodes.checkbox_item.name})),t=this,n=new D.EditorView(this.element,{state:this.createState(this.props.value),editable:()=>!this.props.readOnly,nodeViews:this.nodeViews,handleDOMEvents:this.props.handleDOMEvents,dispatchTransaction:function(n){var o,r,i,a,s,l,c,d;n.selectionSet&&!n.docChanged&&n.selection.from===n.selection.to&&("image"!==(null==(r=null==(o=this.state.doc.resolve(Math.max(0,n.selection.from-2)))?void 0:o.nodeAfter)?void 0:r.type.name)&&"video"!==(null==(a=null==(i=this.state.doc.resolve(Math.max(0,n.selection.from-2)))?void 0:i.nodeAfter)?void 0:a.type.name)||n.setSelection(new O.NodeSelection(this.state.doc.resolve(Math.max(0,n.selection.from-2)))),"image"!==(null==(l=null==(s=this.state.doc.resolve(Math.max(0,n.selection.from)))?void 0:s.nodeAfter)?void 0:l.type.name)&&"video"!==(null==(d=null==(c=this.state.doc.resolve(Math.max(0,n.selection.from)))?void 0:c.nodeAfter)?void 0:d.type.name)||n.setSelection(new O.NodeSelection(this.state.doc.resolve(Math.max(0,n.selection.from)))));const{state:p,transactions:u}=this.state.applyTransaction(n);this.updateState(p),u.some((e=>e.docChanged))&&(!t.props.readOnly||t.props.readOnlyWriteCheckboxes&&u.some(e))&&t.handleChange(),t.calculateDir(),t.forceUpdate()}});return n.dom.setAttribute("role","textbox"),n}scrollToAnchor(e){if(e)try{const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth"})}catch(t){console.warn(`Attempted to scroll to invalid hash: ${e}`,t)}}render(){const{dir:e,readOnly:t,readOnlyWriteCheckboxes:n,style:o,tooltip:r,className:i,onKeyDown:a}=this.props,{isRTL:s}=this.state,l=this.dictionary(this.props.dictionary);return I.createElement(Lt,{onKeyDown:a,style:o,className:i,align:"flex-start",justify:"center",dir:e,column:!0},I.createElement(ut,{theme:this.theme()},I.createElement(I.Fragment,null,I.createElement(Li,{dir:e,rtl:s,readOnly:t,readOnlyWriteCheckboxes:n,ref:e=>this.element=e}),!t&&this.view&&I.createElement(I.Fragment,null,I.createElement(Ai,{spaceHeight:this.state.spaceHeight,onClick:()=>{this.focusAtEnd(),this.handleCloseBlockMenu()}}),I.createElement(I.Fragment,null,I.createElement(Qo,{view:this.view,dictionary:l,commands:this.commands,rtl:s,isTemplate:!0===this.props.template,onOpen:this.handleOpenSelectionMenu,onClose:this.handleCloseSelectionMenu,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onCreateLink:this.props.onCreateLink,tooltip:r}),I.createElement(ei,{view:this.view,dictionary:l,isActive:this.state.linkMenuOpen,onCreateLink:this.props.onCreateLink,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onShowToast:this.props.onShowToast,onClose:this.handleCloseLinkMenu,tooltip:r}),I.createElement(ui,{view:this.view,dictionary:l,isActive:this.state.teXMenuOpen,onShowToast:this.props.onShowToast,onClose:this.handleCloseTeXMenu,tooltip:r}),I.createElement(Yr,{view:this.view,commands:this.commands,dictionary:l,rtl:s,isActive:this.state.emojiMenuOpen,search:this.state.blockMenuSearch,onClose:()=>this.setState({emojiMenuOpen:!1})}),I.createElement(jr,{view:this.view,commands:this.commands,dictionary:l,rtl:s,isActive:this.state.blockMenuOpen,search:this.state.blockMenuSearch,onClose:this.handleCloseBlockMenu,uploadImage:this.props.uploadImage,uploadVideo:this.props.uploadVideo,onLinkToolbarOpen:this.handleOpenLinkMenu,onTeXToolbarOpen:this.handleOpenTeXMenu,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast,embeds:this.props.embeds}))))))}};wd.defaultProps={defaultValue:"",dir:"auto",placeholder:"\u8f93\u5165 \u201c/\u201d \u5feb\u901f\u6dfb\u52a0\u5185\u5bb9",onImageUploadStart:()=>{},onImageUploadStop:()=>{},onClickLink:e=>{window.open(e,"_blank")},embeds:[],extensions:[],tooltip:function({tooltip:e,children:t}){return hi.createElement("span",{title:e},t)}};var xd=wd}}]);