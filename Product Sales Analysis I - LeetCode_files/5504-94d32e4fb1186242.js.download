(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5504],{75708:function(t,i,n){var o;"undefined"!=typeof self&&self,t.exports=(o=n(67294),function(t){function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var n={};return i.m=t,i.c=n,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i,n){"use strict";function o(){return o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o.apply(this,arguments)}function s(t){return h(t)||r(t)||a(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,i){if(t){if("string"==typeof t)return l(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,i):void 0}}function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t){if(Array.isArray(t))return l(t)}function l(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=t[n];return o}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0});var p=n(1),d=n.n(p),u="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,f=Object(p.forwardRef)((function(t,i){var n=Object(p.useRef)(),e=Object(p.useRef)();return u((function(){function i(){var i=t.highcharts||"object"===("undefined"==typeof window?"undefined":c(window))&&window.Highcharts,o=t.constructorType||"chart";i?i[o]?t.options?e.current=i[o](n.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(e.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&e.current){var o;(o=e.current).update.apply(o,[t.options].concat(s(t.updateArgs||[!0,!0])))}else i()}else i()})),u((function(){return function(){e.current&&(e.current.destroy(),e.current=null)}}),[]),Object(p.useImperativeHandle)(i,(function(){return{get chart(){return e.current},container:n}}),[]),d.a.createElement("div",o({},t.containerProps,{ref:n}))}));i.default=Object(p.memo)(f)},function(t,i){t.exports=o}]))},75111:function(t,i,n){"use strict";var o,s,e;e=function(t){function i(t,i,n,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,n))}i(t=t?t._modules:{},"Extensions/Annotations/Mixins/EventEmitterMixin.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,i){var n=i.addEvent,o=i.fireEvent,s=i.objectEach,e=i.pick,a=i.removeEvent;return{addEvents:function(){var i=this,e=function(o){n(o,t.isTouchDevice?"touchstart":"mousedown",(function(t){i.onMouseDown(t)}),{passive:!1})};if(e(this.graphic.element),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&e(t.graphic.text.element)})),s(i.options.events,(function(t,o){var s=function(n){"click"===o&&i.cancelClick||t.call(i,i.chart.pointer.normalize(n),i.target)};-1===(i.nonDOMEvents||[]).indexOf(o)?i.graphic.on(o,s):n(i,o,s,{passive:!1})})),i.options.draggable&&(n(i,"drag",i.onDrag),!i.graphic.renderer.styledMode)){var a={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[i.options.draggable]};i.graphic.css(a),(i.labels||[]).forEach((function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(a)}))}i.isUpdating||o(i,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(i){var s=this,a=s.chart.pointer;if(i.preventDefault&&i.preventDefault(),2!==i.button){var r=(i=a.normalize(i)).chartX,h=i.chartY;s.cancelClick=!1,s.chart.hasDraggedAnnotation=!0,s.removeDrag=n(t.doc,t.isTouchDevice?"touchmove":"mousemove",(function(t){s.hasDragged=!0,(t=a.normalize(t)).prevChartX=r,t.prevChartY=h,o(s,"drag",t),r=t.chartX,h=t.chartY}),t.isTouchDevice?{passive:!1}:void 0),s.removeMouseUp=n(t.doc,t.isTouchDevice?"touchend":"mouseup",(function(t){var i=e(s.target&&s.target.annotation,s.target);i&&(i.cancelClick=s.hasDragged),s.cancelClick=s.hasDragged,s.hasDragged=!1,s.chart.hasDraggedAnnotation=!1,o(e(i,s),"afterUpdate"),s.onMouseUp(t)}),t.isTouchDevice?{passive:!1}:void 0)}},onMouseUp:function(t){var i=this.chart;t=this.target||this;var n=i.options.annotations;i=i.annotations.indexOf(t),this.removeDocEvents(),n[i]=t.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var i=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(i.y=0),"y"===this.options.draggable&&(i.x=0),this.points.length?this.translate(i.x,i.y):(this.shapes.forEach((function(t){t.translate(i.x,i.y)})),this.labels.forEach((function(t){t.translate(i.x,i.y)}))),this.redraw(!1)}},mouseMoveToRadians:function(t,i,n){var o=t.prevChartY-n,s=t.prevChartX-i;return n=t.chartY-n,t=t.chartX-i,this.chart.inverted&&(i=s,s=o,o=i,i=t,t=n,n=i),Math.atan2(n,t)-Math.atan2(o,s)},mouseMoveToTranslation:function(t){var i=t.chartX-t.prevChartX;if(t=t.chartY-t.prevChartY,this.chart.inverted){var n=t;t=i,i=n}return{x:i,y:t}},mouseMoveToScale:function(t,i,n){return i=(t.chartX-i||1)/(t.prevChartX-i||1),t=(t.chartY-n||1)/(t.prevChartY-n||1),this.chart.inverted&&(n=t,t=i,i=n),{x:i,y:t}},destroy:function(){this.removeDocEvents(),a(this),this.hcEvents=null}}})),i(t,"Extensions/Annotations/ControlPoint.js",[t["Core/Utilities.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],(function(t,i){var n=t.merge,o=t.pick;return function(){function t(t,n,s,e){this.addEvents=i.addEvents,this.graphic=void 0,this.mouseMoveToRadians=i.mouseMoveToRadians,this.mouseMoveToScale=i.mouseMoveToScale,this.mouseMoveToTranslation=i.mouseMoveToTranslation,this.onDrag=i.onDrag,this.onMouseDown=i.onMouseDown,this.onMouseUp=i.onMouseUp,this.removeDocEvents=i.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=n,this.options=s,this.index=o(s.index,e)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,i=this.options;this.graphic=t.renderer.symbol(i.symbol,0,0,i.width,i.height).add(t.controlPointsGroup).css(i.style),this.setVisibility(i.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){i.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},t.prototype.update=function(t){var i=this.chart,o=this.target,s=this.index;t=n(!0,this.options,t),this.destroy(),this.constructor(i,o,t,s),this.render(i.controlPointsGroup),this.redraw()},t}()})),i(t,"Extensions/Annotations/MockPoint.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"],t["Core/Axis/Axis.js"]],(function(t,i,n){var o=i.defined,s=i.fireEvent;return function(){function i(i,n,o){this.y=this.x=this.ttBelow=this.plotY=this.plotX=this.negative=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:i,getPlotBox:t.prototype.getPlotBox},this.target=n||null,this.options=o,this.applyOptions(this.getOptions())}return i.fromPoint=function(t){return new i(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},i.pointToPixels=function(t,i){var n=t.series,o=n.chart,s=t.plotX,e=t.plotY;return o.inverted&&(t.mock?(s=t.plotY,e=t.plotX):(s=o.plotWidth-t.plotY,e=o.plotHeight-t.plotX)),n&&!i&&(s+=(t=n.getPlotBox()).translateX,e+=t.translateY),{x:s,y:e}},i.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},i.prototype.hasDynamicOptions=function(){return"function"===typeof this.options},i.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},i.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},i.prototype.setAxis=function(t,i){t=t[i+="Axis"];var s=this.series.chart;this.series[i]=t instanceof n?t:o(t)?s[i][t]||s.get(t):null},i.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},i.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},i.prototype.isInsidePlot=function(){var t=this.plotX,i=this.plotY,n=this.series.xAxis,e=this.series.yAxis,a={x:t,y:i,isInsidePlot:!0};return n&&(a.isInsidePlot=o(t)&&0<=t&&t<=n.len),e&&(a.isInsidePlot=a.isInsidePlot&&o(i)&&0<=i&&i<=e.len),s(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot},i.prototype.refresh=function(){var t=this.series,i=t.xAxis;t=t.yAxis;var n=this.getOptions();i?(this.x=n.x,this.plotX=i.toPixels(n.x,!0)):(this.x=null,this.plotX=n.x),t?(this.y=n.y,this.plotY=t.toPixels(n.y,!0)):(this.y=null,this.plotY=n.y),this.isInside=this.isInsidePlot()},i.prototype.translate=function(t,i,n,o){this.hasDynamicOptions()||(this.plotX+=n,this.plotY+=o,this.refreshOptions())},i.prototype.scale=function(t,i,n,o){if(!this.hasDynamicOptions()){var s=this.plotY*o;this.plotX=(1-n)*t+this.plotX*n,this.plotY=(1-o)*i+s,this.refreshOptions()}},i.prototype.rotate=function(t,i,n){if(!this.hasDynamicOptions()){var o=Math.cos(n);n=Math.sin(n);var s=this.plotX,e=this.plotY;s-=t,e-=i,this.plotX=s*o-e*n+t,this.plotY=s*n+e*o+i,this.refreshOptions()}},i.prototype.refreshOptions=function(){var t=this.series,i=t.xAxis;t=t.yAxis,this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},i}()})),i(t,"Extensions/Annotations/Mixins/ControllableMixin.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,n,o){var s=o.isObject,e=o.isString,a=o.merge,r=o.splat;return{init:function(t,i,n){this.annotation=t,this.chart=t.chart,this.options=i,this.points=[],this.controlPoints=[],this.index=n,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&r(t.point)},attrsFromOptions:function(t){var i,n=this.constructor.attrsMap,o={},s=this.chart.styledMode;for(i in t){var e=n[i];!e||s&&-1!==["fill","stroke","stroke-width"].indexOf(e)||(o[e]=t[i])}return o},anchor:function(t){var i=t.series.getPlotBox(),o=t.series.chart,s=t.mock?t.toAnchor():n.prototype.getAnchor.call({chart:t.series.chart},t);return{relativePosition:s={x:s[0]+(this.options.x||0),y:s[1]+(this.options.y||0),height:s[2]||0,width:s[3]||0},absolutePosition:a(s,{x:s.x+(t.mock?i.translateX:o.plotLeft),y:s.y+(t.mock?i.translateY:o.plotTop)})}},point:function(t,n){return t&&t.series?t:(n&&null!==n.series||(s(t)?n=new i(this.chart,this,t):e(t)?n=this.chart.get(t)||null:"function"===typeof t&&(n=(n=t.call(n,this)).series?n:new i(this.chart,this,t))),n)},linkPoints:function(){var t,i=this.getPointsOptions(),n=this.points,o=i&&i.length||0;for(t=0;t<o;t++){var s=this.point(i[t],n[t]);if(!s)return void(n.length=0);s.mock&&s.refresh(),n[t]=s}return n},addControlPoints:function(){var i=this.options.controlPoints;(i||[]).forEach((function(n,o){(n=a(this.options.controlPointOptions,n)).index||(n.index=o),i[o]=n,this.controlPoints.push(new t(this.chart,this,n))}),this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach((function(t){t.render()}))},redraw:function(t){this.controlPoints.forEach((function(i){i.redraw(t)}))},transform:function(t,i,n,o,s){if(this.chart.inverted){var e=i;i=n,n=e}this.points.forEach((function(e,a){this.transformPoint(t,i,n,o,s,a)}),this)},transformPoint:function(t,n,o,s,e,a){var r=this.points[a];r.mock||(r=this.points[a]=i.fromPoint(r)),r[t](n,o,s,e)},translate:function(t,i){this.transform("translate",null,null,t,i)},translatePoint:function(t,i,n){this.transformPoint("translate",null,null,t,i,n)},translateShape:function(t,i,n){var o=this.annotation.chart,s=this.annotation.userOptions,e=o.annotations.indexOf(this.annotation);o=o.options.annotations[e],this.translatePoint(t,i,0),n&&this.translatePoint(t,i,1),o[this.collection][this.index].point=this.options.point,s[this.collection][this.index].point=this.options.point},rotate:function(t,i,n){this.transform("rotate",t,i,n)},scale:function(t,i,n,o){this.transform("scale",t,i,n,o)},setControlPointsVisibility:function(t){this.controlPoints.forEach((function(i){i.setVisibility(t)}))},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach((function(t){t.destroy()})),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var i=this.annotation;t=a(!0,this.options,t);var n=this.graphic.parentGroup;this.destroy(),this.constructor(i,t,this.index),this.render(n),this.redraw()}}})),i(t,"Extensions/Annotations/Mixins/MarkerMixin.js",[t["Core/Chart/Chart.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,i,n){function o(t){return function(i){this.attr(t,"url(#"+i+")")}}var s=n.addEvent,e=n.defined,a=n.merge,r=n.uniqueKey,h={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};return i.prototype.addMarker=function(t,i){var n={attributes:{id:t}},o={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};return n.children=i.children&&i.children.map((function(t){return a(o,t)})),i=a(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},i,n),(i=this.definition(i)).id=t,i},i={markerEndSetter:o("marker-end"),markerStartSetter:o("marker-start"),setItemMarkers:function(t){var i=t.options,n=t.chart,o=n.options.defs,s=i.fill,h=e(s)&&"none"!==s?s:i.stroke;["markerStart","markerEnd"].forEach((function(s){var e,l=i[s];if(l){for(e in o){var c=o[e];if((l===(c.attributes&&c.attributes.id)||l===c.id)&&"marker"===c.tagName){var p=c;break}}p&&(l=t[s]=n.renderer.addMarker((i.id||r())+"-"+l,a(p,{color:h})),t.attr(s,l.getAttribute("id")))}}))}},s(t,"afterGetContainer",(function(){this.options.defs=a(h,this.options.defs||{})})),i})),i(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/Mixins/MarkerMixin.js"],t["Core/Utilities.js"]],(function(t,i,n,o){var s=o.extend,e="rgba(192,192,192,"+(i.svg?1e-4:.002)+")";return function(){function i(i,o,s){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=n.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(i,o,s),this.collection="shapes"}return i.prototype.toD=function(){var t=this.options.d;if(t)return"function"===typeof t?t.call(this):t;var i=(t=this.points).length,n=i,o=t[0],s=n&&this.anchor(o).absolutePosition,e=0,a=[];if(s)for(a.push(["M",s.x,s.y]);++e<i&&n;)n=(o=t[e]).command||"L",s=this.anchor(o).absolutePosition,"M"===n||"L"===n?a.push([n,s.x,s.y]):"Z"===n&&a.push([n]),n=o.series.visible;return n?this.chart.renderer.crispLine(a,this.graphic.strokeWidth()):null},i.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||!!this.options.d},i.prototype.render=function(i){var o=this.options,a=this.attrsFromOptions(o);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(a).add(i),o.className&&this.graphic.addClass(o.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(i),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:e,fill:e,"stroke-width":this.graphic.strokeWidth()+2*o.snap}),t.render.call(this),s(this.graphic,{markerStartSetter:n.markerStartSetter,markerEndSetter:n.markerEndSetter}),this.setMarkers(this)},i.prototype.redraw=function(i){var n=this.toD(),o=i?"animate":"attr";n?(this.graphic[o]({d:n}),this.tracker[o]({d:n})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!n,t.redraw.call(this,i)},i.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},i}()})),i(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,n){var o=n.merge;return function(){function n(i,n,o){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(i,n,o),this.collection="shapes"}return n.prototype.render=function(i){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(n).add(i),t.render.call(this)},n.prototype.redraw=function(i){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[i?"animate":"attr"]({x:n.x,y:n.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!n,t.redraw.call(this,i)},n.attrsMap=o(i.attrsMap,{width:"width",height:"height"}),n}()})),i(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,n){var o=n.merge;return function(){function n(i,n,o){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(i,n,o),this.collection="shapes"}return n.prototype.render=function(i){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(n).add(i),t.render.call(this)},n.prototype.redraw=function(i){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[i?"animate":"attr"]({x:n.x,y:n.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n,t.redraw.call(this,i)},n.prototype.setRadius=function(t){this.options.r=t},n.attrsMap=o(i.attrsMap,{r:"r"}),n}()})),i(t,"Extensions/Annotations/Controllables/ControllableEllipse.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,i,n){var o=n.merge,s=n.defined;return function(){function n(i,n,o){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.linkPoints=t.linkPoints,this.point=t.point,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.translatePoint=t.translatePoint,this.transformPoint=t.transformPoint,this.type="ellipse",this.init(i,n,o),this.collection="shapes"}return n.prototype.init=function(i,n,o){s(n.yAxis)&&n.points.forEach((function(t){t.yAxis=n.yAxis})),s(n.xAxis)&&n.points.forEach((function(t){t.xAxis=n.xAxis})),t.init.call(this,i,n,o)},n.prototype.render=function(i){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(i),t.render.call(this)},n.prototype.translate=function(i,n){t.translateShape.call(this,i,n,!0)},n.prototype.getDistanceFromLine=function(t,i,n,o){return Math.abs((i.y-t.y)*n-(i.x-t.x)*o+i.x*t.y-i.y*t.x)/Math.sqrt((i.y-t.y)*(i.y-t.y)+(i.x-t.x)*(i.x-t.x))},n.prototype.getAttrs=function(t,i){var n=t.x,o=t.y,s=i.x,e=i.y;i=(n+s)/2,t=(o+e)/2;var a=Math.sqrt((n-s)*(n-s)/4+(o-e)*(o-e)/4);return o=180*Math.atan((e-o)/(s-n))/Math.PI,i<n&&(o+=180),{cx:i,cy:t,rx:a,ry:n=this.getRY(),angle:o}},n.prototype.getRY=function(){var t=this.getYAxis();return s(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry},n.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},n.prototype.getAbsolutePosition=function(t){return this.anchor(t).absolutePosition},n.prototype.redraw=function(i){var n=this.getAbsolutePosition(this.points[0]),o=this.getAbsolutePosition(this.points[1]);o=this.getAttrs(n,o),n?this.graphic[i?"animate":"attr"]({cx:o.cx,cy:o.cy,rx:o.rx,ry:o.ry,rotation:o.angle,rotationOriginX:o.cx,rotationOriginY:o.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n,t.redraw.call(this,i)},n.prototype.setYRadius=function(t){this.options.ry=t,this.annotation.userOptions.shapes[0].ry=t,this.annotation.options.shapes[0].ry=t},n.attrsMap=o(i.attrsMap,{ry:"ry"}),n}()})),i(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Core/FormatUtilities.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],(function(t,i,n,o,s,e){var a=i.format;i=o.prototype.symbols;var r=e.extend,h=e.isNumber,l=e.pick;return e=function(){function i(i,n,o){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(i,n,o),this.collection="labels"}return i.alignedPosition=function(t,i){var n,o,s=t.align,e=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0);return"right"===s?n=1:"center"===s&&(n=2),n&&(a+=(i.width-(t.width||0))/n),"bottom"===e?o=1:"middle"===e&&(o=2),o&&(r+=(i.height-(t.height||0))/o),{x:Math.round(a),y:Math.round(r)}},i.justifiedOptions=function(t,i,n,o){var s=n.align,e=n.verticalAlign,a=i.box?0:i.padding||0,r=i.getBBox();i={align:s,verticalAlign:e,x:n.x,y:n.y,width:i.width,height:i.height},n=(o.x||0)-t.plotLeft,o=(o.y||0)-t.plotTop;var h=n+a;return 0>h&&("right"===s?i.align="left":i.x=(i.x||0)-h),(h=n+r.width-a)>t.plotWidth&&("left"===s?i.align="right":i.x=(i.x||0)+t.plotWidth-h),0>(h=o+a)&&("bottom"===e?i.verticalAlign="top":i.y=(i.y||0)-h),(h=o+r.height-a)>t.plotHeight&&("top"===e?i.verticalAlign="bottom":i.y=(i.y||0)+t.plotHeight-h),i},i.prototype.translatePoint=function(i,n){t.translatePoint.call(this,i,n,0)},i.prototype.translate=function(t,i){var n=this.annotation.chart,o=this.annotation.userOptions,s=n.annotations.indexOf(this.annotation);s=n.options.annotations[s],n.inverted&&(n=t,t=i,i=n),this.options.x+=t,this.options.y+=i,s[this.collection][this.index].x=this.options.x,s[this.collection][this.index].y=this.options.y,o[this.collection][this.index].x=this.options.x,o[this.collection][this.index].y=this.options.y},i.prototype.render=function(n){var o=this.options,s=this.attrsFromOptions(o),e=o.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,o.shape,null,null,o.useHTML,null,"annotation-label").attr(s).add(n),this.annotation.chart.styledMode||("contrast"===e.color&&(e.color=this.annotation.chart.renderer.getContrast(-1<i.shapesWithoutBackground.indexOf(o.shape)?"#FFFFFF":o.backgroundColor)),this.graphic.css(o.style).shadow(o.shadow)),o.className&&this.graphic.addClass(o.className),this.graphic.labelrank=o.labelrank,t.render.call(this)},i.prototype.redraw=function(i){var n=this.options,o=this.text||n.format||n.text,s=this.graphic,e=this.points[0];s.attr({text:o?a(o,e.getLabelConfig(),this.annotation.chart):n.formatter.call(e,this)}),n=this.anchor(e),(o=this.position(n))?(s.alignAttr=o,o.anchorX=n.absolutePosition.x,o.anchorY=n.absolutePosition.y,s[i?"animate":"attr"](o)):s.attr({x:0,y:-9999}),s.placed=!!o,t.redraw.call(this,i)},i.prototype.anchor=function(i){var n=t.anchor.apply(this,arguments),o=this.options.x||0,s=this.options.y||0;return n.absolutePosition.x-=o,n.absolutePosition.y-=s,n.relativePosition.x-=o,n.relativePosition.y-=s,n},i.prototype.position=function(t){var o=this.graphic,e=this.annotation.chart,a=this.points[0],h=this.options,c=t.absolutePosition,p=t.relativePosition,d=a.series.visible&&n.prototype.isInsidePlot.call(a);t=void 0===(t=o.width)?0:t;var u=o.height;if(u=void 0===u?0:u,d){if(h.distance)var f=s.prototype.getPosition.call({chart:e,distance:l(h.distance,16)},t,u,{plotX:p.x,plotY:p.y,negative:a.negative,ttBelow:a.ttBelow,h:p.height||p.width});else h.positioner?f=h.positioner.call(this):(a={x:c.x,y:c.y,width:0,height:0},f=i.alignedPosition(r(h,{width:t,height:u}),a),"justify"===this.options.overflow&&(f=i.alignedPosition(i.justifiedOptions(e,o,h,f),a)));h.crop&&(o=f.x-e.plotLeft,h=f.y-e.plotTop,d=e.isInsidePlot(o,h)&&e.isInsidePlot(o+t,h+u))}return d?f:null},i.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},i.shapesWithoutBackground=["connector"],i}(),i.connector=function(t,i,n,o,s){var e=s&&s.anchorX;s=s&&s.anchorY;var a=n/2;if(h(e)&&h(s)){var r=[["M",e,s]],l=i-s;0>l&&(l=-o-l),l<n&&(a=e<t+n/2?l:n-l),s>i+o?r.push(["L",t+a,i+o]):s<i?r.push(["L",t+a,i]):e<t?r.push(["L",t,i+o/2]):e>t+n&&r.push(["L",t+n,i+o/2])}return r||[]},e})),i(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"]],(function(t,i){return function(){function n(t,n,o){this.addControlPoints=i.addControlPoints,this.anchor=i.anchor,this.attr=i.attr,this.attrsFromOptions=i.attrsFromOptions,this.destroy=i.destroy,this.getPointsOptions=i.getPointsOptions,this.init=i.init,this.linkPoints=i.linkPoints,this.point=i.point,this.rotate=i.rotate,this.scale=i.scale,this.setControlPointsVisibility=i.setControlPointsVisibility,this.shouldBeDrawn=i.shouldBeDrawn,this.transform=i.transform,this.transformPoint=i.transformPoint,this.translatePoint=i.translatePoint,this.translateShape=i.translateShape,this.update=i.update,this.type="image",this.translate=i.translateShape,this.init(t,n,o),this.collection="shapes"}return n.prototype.render=function(t){var n=this.attrsFromOptions(this.options),o=this.options;this.graphic=this.annotation.chart.renderer.image(o.src,0,-9e9,o.width,o.height).attr(n).add(t),this.graphic.width=o.width,this.graphic.height=o.height,i.render.call(this)},n.prototype.redraw=function(n){var o=this.anchor(this.points[0]);(o=t.prototype.position.call(this,o))?this.graphic[n?"animate":"attr"]({x:o.x,y:o.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!o,i.redraw.call(this,n)},n.attrsMap={width:"width",height:"height",zIndex:"zIndex"},n}()})),i(t,"Extensions/Annotations/Annotations.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllableEllipse.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,n,o,s,e,a,r,h,l,c,p,d,u,f){var g=t.getDeferredAnimation;t=i.prototype;var v=f.addEvent,y=f.defined,m=f.destroyObjectProperties,x=f.erase,b=f.extend,A=f.find,C=f.fireEvent,P=f.merge,k=f.pick,w=f.splat;f=f.wrap;var E=function(){function t(t,i){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=P(this.defaultOptions,i),this.userOptions=i,i=this.getLabelsAndShapesOptions(this.options,i),this.options.labels=i.labels,this.options.shapes=i.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,i=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=g(t,i)},t.prototype.getLabelsAndShapesOptions=function(t,i){var n={};return["labels","shapes"].forEach((function(o){t[o]&&(n[o]=i[o]?w(i[o]).map((function(i,n){return P(t[o][n],i)})):t[o])})),n},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach((function(t,i){t=this.initShape(t,i),P(!0,this.options.shapes[i],t.options)}),this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach((function(t,i){t=this.initLabel(t,i),P(!0,this.options.labels[i],t.options)}),this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,i=this.chart.yAxis,n=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((function(n,o){return o=o&&(o.point||o.points&&o.points[0]),[t[o&&o.xAxis]||n[0],i[o&&o.yAxis]||n[1]]}),[]);this.clipXAxis=n[0],this.clipYAxis=n[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce((function(t,i){return i.options.allowOverlap||t.push(i.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=P(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),n.redraw.call(this,t)},t.prototype.redrawItems=function(t,i){for(var n=t.length;n--;)this.redrawItem(t[n],i)},t.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),n.render.call(this)},t.prototype.setVisibility=function(t){var i=this.options,n=this.chart.navigationBindings;t=k(t,!i.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||(this.setControlPointsVisibility(!1),n.activeAnnotation===this&&n.popup&&"annotation-toolbar"===n.popup.formType&&C(n,"closePopup")),i.visible=t},t.prototype.setControlPointsVisibility=function(t){var i=function(i){i.setControlPointsVisibility(t)};n.setControlPointsVisibility.call(this,t),this.shapes.forEach(i),this.labels.forEach(i)},t.prototype.destroy=function(){var t=this.chart,i=function(t){t.destroy()};this.labels.forEach(i),this.shapes.forEach(i),this.clipYAxis=this.clipXAxis=null,x(t.labelCollectors,this.labelCollector),c.destroy.call(this),n.destroy.call(this),m(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,i){var n=this.chart,o=this.getLabelsAndShapesOptions(this.userOptions,t),s=n.annotations.indexOf(this);(t=P(!0,this.userOptions,t)).labels=o.labels,t.shapes=o.shapes,this.destroy(),this.constructor(n,t),n.options.annotations[s]=t,this.isUpdating=!0,k(i,!0)&&n.redraw(),C(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(i,n){return i=P(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},i),(n=new t.shapesMap[i.type](this,i,n)).itemType="shape",this.shapes.push(n),n},t.prototype.initLabel=function(t,i){return t=P(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(i=new h(this,t,i)).itemType="label",this.labels.push(i),i},t.prototype.redrawItem=function(t,i){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(k(i,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var i=!1,n=t.graphic;t.points.forEach((function(t){!1!==t.series.visible&&!1!==t.visible&&(i=!0)})),i?"hidden"===n.visibility&&n.show():n.hide()},t.prototype.destroyItem=function(t){x(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=l,t.MockPoint=d,t.shapesMap={rect:o,circle:s,ellipse:e,path:a,image:r},t.types={},t}();return P(!0,E.prototype,n,c,P(E.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return y(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},visible:!1,events:{}},events:{},zIndex:6}})),p.extendAnnotation=function(t,i,n,o){i=i||E,b(t.prototype,P(i.prototype,n)),t.prototype.defaultOptions=P(t.prototype.defaultOptions,o||{})},b(t,{initAnnotation:function(t){return t=new(E.types[t.type]||E)(this,t),this.annotations.push(t),t},addAnnotation:function(t,i){return t=this.initAnnotation(t),this.options.annotations.push(t.options),k(i,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(t){var i=this.annotations,n="annotations"===t.coll?t:A(i,(function(i){return i.options.id===t}));n&&(C(n,"remove"),x(this.options.annotations,n.options),x(i,n),n.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],v(i,"afterInit",(function(){this.annotations=[],this.options.annotations||(this.options.annotations=[])})),t.callbacks.push((function(t){t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach((function(i,n){if(!t.annotations.some((function(t){return t.options===i}))){var o=t.initAnnotation(i);t.options.annotations[n]=o.options}})),t.drawAnnotations(),v(t,"redraw",t.drawAnnotations),v(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),v(t,"exportData",(function(i){var n=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,o=!i.dataRows[1].xValues,s=t.options.lang&&t.options.lang.exportData&&t.options.lang.exportData.annotationHeader,e=function(t){if(n){var i=n(t);if(!1!==i)return i}return i=s+" "+t,o?{columnTitle:i,topLevelColumnTitle:i}:i},a=i.dataRows[0].length,r=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.itemDelimiter,h=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.join;t.annotations.forEach((function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach((function(t){if(t.options.text){var n=t.options.text;t.points.forEach((function(t){var o=t.x,s=t.series.xAxis?t.series.xAxis.options.index:-1,e=!1;if(-1===s){t=i.dataRows[0].length;for(var l=Array(t),c=0;c<t;++c)l[c]="";l.push(n),l.xValues=[],l.xValues[s]=o,i.dataRows.push(l),e=!0}if(e||i.dataRows.forEach((function(t){!e&&t.xValues&&void 0!==s&&o===t.xValues[s]&&(h&&t.length>a?t[t.length-1]+=r+n:t.push(n),e=!0)})),!e){for(t=i.dataRows[0].length,l=Array(t),c=0;c<t;++c)l[c]="";l[0]=o,l.push(n),l.xValues=[],void 0!==s&&(l.xValues[s]=o),i.dataRows.push(l)}}))}}))}));var l=0;i.dataRows.forEach((function(t){l=Math.max(l,t.length)}));for(var c=l-i.dataRows[0].length,p=0;p<c;p++){var d=e(p+1);o?(i.dataRows[0].push(d.topLevelColumnTitle),i.dataRows[1].push(d.columnTitle)):i.dataRows[0].push(d)}}))})),f(u.prototype,"onContainerMouseDown",(function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))})),p.Annotation=E,E})),i(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new i(t)),t};var i=function(){function t(t){this.updates=[],this.chart=t}return t.prototype.addUpdate=function(t){this.chart.navigation.updates.push(t)},t.prototype.update=function(t,i){var n=this;this.updates.forEach((function(o){o.call(n.chart,t,i)}))},t}();t.Additions=i}(t||(t={})),t})),i(t,"Extensions/Annotations/NavigationBindings.js",[t["Extensions/Annotations/Annotations.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],(function(t,i,n,o,s,e,a){function r(t){var i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;v(!0,t.prototype.defaultOptions.events,{click:function(t){var n=this,o=n.chart.navigationBindings,s=o.activeAnnotation;i&&i.call(n,t),s!==n?(o.deselectAnnotation(),o.activeAnnotation=n,n.setControlPointsVisibility(!0),p(o,"showPopup",{annotation:n,formType:"annotation-toolbar",options:o.annotationToFields(n),onSubmit:function(t){var i={};"remove"===t.actionType?(o.activeAnnotation=!1,o.chart.removeAnnotation(n)):(o.fieldsToOptions(t.fields,i),o.deselectAnnotation(),t=i.typeOptions,"measure"===n.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),n.update(i))}})):p(o,"closePopup"),t.activeAnnotation=!0}})}var h=o.format;o=e.setOptions;var l=a.addEvent,c=a.attr,p=a.fireEvent,d=a.isArray,u=a.isFunction,f=a.isNumber,g=a.isObject,v=a.merge,y=a.objectEach,m=a.pick,x=s.doc,b=s.win,A=function(){function t(t,i){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=i,this.eventsToUnbind=[],this.container=x.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,i=t.chart,n=t.container,o=t.options;t.boundClassNames={},y(o.bindings||{},(function(i){t.boundClassNames[i.className]=i})),[].forEach.call(n,(function(i){t.eventsToUnbind.push(l(i,"click",(function(n){var o=t.getButtonEvents(i,n);o&&-1===o.button.className.indexOf("highcharts-disabled-btn")&&t.bindingsButtonClick(o.button,o.events,n)})))})),y(o.events||{},(function(i,n){u(i)&&t.eventsToUnbind.push(l(t,n,i,{passive:!1}))})),t.eventsToUnbind.push(l(i.container,"click",(function(n){!i.cancelClick&&i.isInsidePlot(n.chartX-i.plotLeft,n.chartY-i.plotTop,{visiblePlotOnly:!0})&&t.bindingsChartClick(this,n)}))),t.eventsToUnbind.push(l(i.container,s.isTouchDevice?"touchmove":"mousemove",(function(i){t.bindingsContainerMouseMove(this,i)}),s.isTouchDevice?{passive:!1}:void 0))},t.prototype.initUpdate=function(){var t=this;n.compose(this.chart).navigation.addUpdate((function(i){t.update(i)}))},t.prototype.bindingsButtonClick=function(t,i,n){var o=this.chart,s=o.renderer.boxWrapper,e=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===t.classList&&(e=!1),p(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&o.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),e?(this.selectedButton=i,this.selectedButtonElement=t,p(this,"selectButton",{button:t}),i.init&&i.init.call(this,t,n),(i.start||i.steps)&&o.renderer.boxWrapper.addClass("highcharts-draw-mode")):(o.stockTools&&o.stockTools.toggleButtonAciveClass(t),s.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)},t.prototype.bindingsChartClick=function(t,i){t=this.chart;var n=this.activeAnnotation,o=this.selectedButton;t=t.renderer.boxWrapper,n&&(n.cancelClick||i.activeAnnotation||!i.target.parentNode||function(t,i){var n=b.Element.prototype,o=n.matches||n.msMatchesSelector||n.webkitMatchesSelector,s=null;if(n.closest)s=n.closest.call(t,i);else do{if(o.call(t,i))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return s}(i.target,".highcharts-popup")?n.cancelClick&&setTimeout((function(){n.cancelClick=!1}),0):p(this,"closePopup")),o&&o.start&&(this.nextEvent?(this.nextEvent(i,this.currentUserDetails),this.steps&&(this.stepIndex++,o.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=o.steps[this.stepIndex]:(p(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),o.end&&o.end.call(this,i,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=o.start.call(this,i))&&o.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=o.steps[this.stepIndex]):(p(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,o.end&&o.end.call(this,i,this.currentUserDetails)))},t.prototype.bindingsContainerMouseMove=function(t,i){this.mouseMoveEvent&&this.mouseMoveEvent(i,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,i){return y(t,(function(t,n){var o=parseFloat(t),s=n.split("."),e=i,a=s.length-1;!f(o)||t.match(/px/g)||n.match(/format/g)||(t=o),""!==t&&"undefined"!==t&&s.forEach((function(i,n){var o=m(s[n+1],"");a===n?e[i]=t:(e[i]||(e[i]=o.match(/\d/g)?[]:{}),e=e[i])}))})),i},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(i){function n(t,o,s,r){if(s&&t&&-1===l.indexOf(o)&&(0<=(s.indexOf&&s.indexOf(o))||s[o]||!0===s))if(d(t))r[o]=[],t.forEach((function(t,i){g(t)?(r[o][i]={},y(t,(function(t,s){n(t,s,e[o],r[o][i])}))):n(t,0,e[o],r[o])}));else if(g(t)){var c={};d(r)?(r.push(c),c[o]={},c=c[o]):r[o]=c,y(t,(function(t,i){n(t,i,0===o?s:e[o],c)}))}else"format"===o?r[o]=[h(t,i.labels[0].points[0]).toString(),"text"]:d(r)?r.push([t,a(t)]):r[o]=[t,a(t)]}var o=i.options,s=t.annotationsEditable,e=s.nestedOptions,a=this.utils.getFieldType,r=m(o.type,o.shapes&&o.shapes[0]&&o.shapes[0].type,o.labels&&o.labels[0]&&o.labels[0].itemType,"label"),l=t.annotationsNonEditable[o.langKey]||[],c={langKey:o.langKey,type:r};return y(o,(function(t,i){"typeOptions"===i?(c[i]={},y(o[i],(function(t,o){n(t,o,e,c[i])}))):n(t,i,s[r],c)})),c},t.prototype.getClickedClassNames=function(t,i){var n,o=i.target;for(i=[];o&&((n=c(o,"class"))&&(i=i.concat(n.split(" ").map((function(t){return[t,o]})))),(o=o.parentNode)!==t););return i},t.prototype.getButtonEvents=function(t,i){var n,o=this;return this.getClickedClassNames(t,i).forEach((function(t){o.boundClassNames[t[0]]&&!n&&(n={events:o.boundClassNames[t[0]],button:t[1]})})),n},t.prototype.update=function(t){this.options=v(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach((function(t){t()}))},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},t}();return A.prototype.utils={getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]},updateRectSize:function(t,i){var n=i.chart,o=i.options.typeOptions,s=f(o.xAxis)&&n.xAxis[o.xAxis],e=f(o.yAxis)&&n.yAxis[o.yAxis];s&&e&&(s=s.toValue(t[s.horiz?"chartX":"chartY"]),t=e.toValue(t[e.horiz?"chartX":"chartY"]),e=s-o.point.x,o=o.point.y-t,i.update({typeOptions:{background:{width:n.inverted?o:e,height:n.inverted?e:o}}}))},getAssignedAxis:function(t){return t.filter((function(t){var i=t.axis.getExtremes(),n=i.min;i=i.max;var o=m(t.axis.minPointOffset,0);return f(n)&&f(i)&&t.value>=n-o&&t.value<=i+o&&!t.axis.options.isInternal}))[0]}},i.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new A(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},l(i,"load",(function(){this.initNavigationBindings()})),l(i,"destroy",(function(){this.navigationBindings&&this.navigationBindings.destroy()})),l(A,"deselectButton",(function(){this.selectedButtonElement=null})),l(t,"remove",(function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()})),s.Annotation&&(r(t),y(t.types,(function(t){r(t)}))),o({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t);t=this.utils.getAssignedAxis(i.xAxis),i=this.utils.getAssignedAxis(i.yAxis);var n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(v({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:i.value,xAxis:t.axis.options.index,yAxis:i.axis.options.index},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,i){var n=i.options.shapes[0].point;if(f(n.xAxis)&&f(n.yAxis)){var o=this.chart.inverted,s=this.chart.xAxis[n.xAxis].toPixels(n.x);n=this.chart.yAxis[n.yAxis].toPixels(n.y),o=Math.max(Math.sqrt(Math.pow(o?n-t.chartX:s-t.chartX,2)+Math.pow(o?s-t.chartY:n-t.chartY,2)),5)}i.update({shapes:[{r:o}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t);t=this.utils.getAssignedAxis(i.xAxis),i=this.utils.getAssignedAxis(i.yAxis);var n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(v({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.options.index,yAxis:i.axis.options.index,points:[{x:t.value,y:i.value},{x:t.value,y:i.value}],ry:1}]},n.annotationsOptions,n.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,i){var n=(i=i.shapes[0]).getAbsolutePosition(i.points[1]);i.translatePoint(t.chartX-n.x,t.chartY-n.y,1),i.redraw(!1)},function(t,i){var n=(i=i.shapes[0]).getAbsolutePosition(i.points[0]),o=i.getAbsolutePosition(i.points[1]);t=i.getDistanceFromLine(n,o,t.chartX,t.chartY),n=i.getYAxis(),t=Math.abs(n.toValue(0)-n.toValue(t)),i.setYRadius(t),i.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.utils.getAssignedAxis(t.xAxis),n=this.utils.getAssignedAxis(t.yAxis);if(i&&n){t=i.value;var o=n.value;i=i.axis.options.index,n=n.axis.options.index;var s=this.chart.options.navigation;return this.chart.addAnnotation(v({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:i,yAxis:n,x:t,y:o},{xAxis:i,yAxis:n,x:t,y:o},{xAxis:i,yAxis:n,x:t,y:o},{xAxis:i,yAxis:n,x:t,y:o},{command:"Z"}]}]},s.annotationsOptions,s.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,i){var n=i.options.shapes[0].points,o=this.chart.pointer.getCoordinates(t);t=this.utils.getAssignedAxis(o.xAxis),o=this.utils.getAssignedAxis(o.yAxis),t&&o&&(t=t.value,o=o.value,n[1].x=t,n[2].x=t,n[2].y=o,n[3].y=o,i.update({shapes:[{points:n}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t);t=this.utils.getAssignedAxis(i.xAxis),i=this.utils.getAssignedAxis(i.yAxis);var n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(v({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.options.index,yAxis:i.axis.options.index,x:t.value,y:i.value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),l(i,"render",(function(){var t=this,i=t.navigationBindings;if(t&&i){var n=!1;t.series.forEach((function(t){!t.options.isInternal&&t.visible&&(n=!0)})),y(i.boundClassNames,(function(i,o){if(t.navigationBindings&&t.navigationBindings.container&&t.navigationBindings.container[0]&&(o=t.navigationBindings.container[0].querySelectorAll("."+o)))for(var s=0;s<o.length;s++){var e=o[s],a=e.className;"normal"===i.noDataState||n?-1!==a.indexOf("highcharts-disabled-btn")&&e.classList.remove("highcharts-disabled-btn"):-1===a.indexOf("highcharts-disabled-btn")&&(e.className+=" highcharts-disabled-btn")}}))}})),l(A,"closePopup",(function(){this.deselectAnnotation()})),A})),i(t,"Extensions/Annotations/Popup.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Core/DefaultOptions.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,i,n,o,s,e){var a=i.doc,r=i.isFirefox,h=o.getOptions,l=e.addEvent,c=e.createElement,p=e.defined,d=e.fireEvent,u=e.isArray,f=e.isObject,g=e.objectEach,v=e.pick,y=e.stableSort;o=e.wrap;var m,x=/\d/g;!function(t){t[t["params.algorithm"]=0]="params.algorithm",t[t["params.average"]=1]="params.average"}(m||(m={}));var b={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return o(s.prototype,"onContainerMouseDown",(function(t,i){this.inClass(i.target,"highcharts-popup")||t.apply(this,Array.prototype.slice.call(arguments,1))})),i.Popup=function(t,i,n){this.init(t,i,n)},i.Popup.prototype={init:function(t,n,o){this.chart=o,this.container=c("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,t),l(this.container,"mousedown",(function(){var t=o&&o.navigationBindings&&o.navigationBindings.activeAnnotation;if(t){t.cancelClick=!0;var n=l(i.doc,"click",(function(){setTimeout((function(){t.cancelClick=!1}),0),n()}))}})),this.lang=this.getLangpack(),this.iconsURL=n,this.addCloseBtn()},addCloseBtn:function(){var t=this,i=this.iconsURL,n=c("div",{className:"highcharts-popup-close"},void 0,this.container);n.style["background-image"]="url("+(i.match(/png|svg|jpeg|jpg|gif/gi)?i:i+"close.svg")+")",["click","touchstart"].forEach((function(i){l(n,i,(function(){t.chart?d(t.chart.navigationBindings,"closePopup"):t.closePopup()}))}))},addColsContainer:function(t){var i=c("div",{className:"highcharts-popup-lhs-col"},void 0,t);return t=c("div",{className:"highcharts-popup-rhs-col"},void 0,t),c("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,t),{lhsCol:i,rhsCol:t}},addInput:function(t,i,n,o){var s=t.split(".");s=s[s.length-1];var e=this.lang;return(i="highcharts-"+i+"-"+v(o.htmlFor,s)).match(x)||c("label",{htmlFor:i,className:o.labelClassName},void 0,n).appendChild(a.createTextNode(e[s]||s)),(n=c("input",{name:i,value:o.value,type:o.type,className:"highcharts-popup-field"},void 0,n)).setAttribute("highcharts-data-name",t),n},addButton:function(t,i,n,o,s){var e=this,r=this.closePopup,h=this.getFields,p=c("button",void 0,void 0,t);return p.appendChild(a.createTextNode(i)),s&&["click","touchstart"].forEach((function(t){l(p,t,(function(){return r.call(e),s(h(o,n))}))})),p},getFields:function(t,i){var n=Array.prototype.slice.call(t.querySelectorAll("input")),o=Array.prototype.slice.call(t.querySelectorAll("select")),s=t.querySelectorAll("#highcharts-select-series > option:checked")[0];t=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];var e={actionType:i,linkedTo:s&&s.getAttribute("value")||"",fields:{}};return n.forEach((function(t){var i=t.getAttribute("highcharts-data-name");t.getAttribute("highcharts-data-series-id")?e.seriesId=t.value:i?e.fields[i]=t.value:e.type=t.value})),o.forEach((function(t){var i=t.id;"highcharts-select-series"!==i&&"highcharts-select-volume"!==i&&(i=i.split("highcharts-select-")[1],e.fields[i]=t.value)})),t&&(e.fields["params.volumeSeriesID"]=t.getAttribute("value")||""),e},showPopup:function(){var i=this.container,n=i.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,i.innerHTML=t.emptyHTML,0<=i.className.indexOf("highcharts-annotation-toolbar")&&(i.classList.remove("highcharts-annotation-toolbar"),i.removeAttribute("style")),i.appendChild(n),i.style.display="block",i.style.height=""},closePopup:function(){v(this.popup&&this.popup.container,this.container).style.display="none"},showForm:function(t,i,n,o){i&&(this.popup=i.navigationBindings.popup,this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,i,n,o),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,i,n,o),"annotation-edit"===t&&this.annotations.addForm.call(this,i,n,o),"flag"===t&&this.annotations.addForm.call(this,i,n,o,!0),this.formType=t,this.container.style.height=this.container.offsetHeight+"px")},getLangpack:function(){return h().lang.navigation.popup},annotations:{addToolbar:function(t,i,n){var o=this,s=this.lang,e=this.popup.container,r=this.showForm;-1===e.className.indexOf("highcharts-annotation-toolbar")&&(e.className+=" highcharts-annotation-toolbar"),t&&(e.style.top=t.plotTop+10+"px"),c("span",void 0,void 0,e).appendChild(a.createTextNode(v(s[i.langKey]||i.langKey,i.shapes&&i.shapes[0].type)));var h=this.addButton(e,s.removeButton||"remove","remove",e,n);h.className+=" highcharts-annotation-remove-button",h.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(h=this.addButton(e,s.editButton||"edit","edit",e,(function(){r.call(o,"annotation-edit",t,i,n)}))).className+=" highcharts-annotation-edit-button",h.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(t,i,n,o){var s=this.popup.container,e=this.lang;if(t){var r=c("h2",{className:"highcharts-popup-main-title"},void 0,s);r.appendChild(a.createTextNode(e[i.langKey]||i.langKey||"")),r=c("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,s);var h=c("div",{className:"highcharts-popup-bottom-row"},void 0,s);this.annotations.addFormFields.call(this,r,t,"",i,[],!0),this.addButton(h,o?e.addButton||"add":e.saveButton||"save",o?"add":"save",s,n)}},addFormFields:function(t,i,n,o,s,e){var h,l,p=this,d=this.annotations.addFormFields,v=this.addInput,m=this.lang;i&&(g(o,(function(o,e){h=""!==n?n+"."+e:e,f(o)&&(!u(o)||u(o)&&f(o[0])?((l=m[e]||e).match(x)||s.push([!0,l,t]),d.call(p,t,i,h,o,s,!1)):s.push([p,h,"annotation",t,o]))})),e&&(y(s,(function(t){return t[1].match(/format/g)?-1:1})),r&&s.reverse(),s.forEach((function(t){!0===t[0]?c("span",{className:"highcharts-annotation-title"},void 0,t[2]).appendChild(a.createTextNode(t[1])):(t[4]={value:t[4][0],type:t[4][1]},v.apply(t[0],t.splice(1)))}))))}},indicators:{addForm:function(t,i,n){var o=this.indicators,s=this.lang;if(t){this.tabs.init.call(this,t),i=this.popup.container.querySelectorAll(".highcharts-tab-item-content"),this.addColsContainer(i[0]),o.addSearchBox.call(this,t,i[0]),o.addIndicatorList.call(this,t,i[0],"add");var e=i[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(e,s.addButton||"add","add",e,n),this.addColsContainer(i[1]),o.addIndicatorList.call(this,t,i[1],"edit"),e=i[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(e,s.saveButton||"save","edit",e,n),this.addButton(e,s.removeButton||"remove","remove",e,n)}},filterSeries:function(t,i){var n,o=this.indicators,s=this.chart&&this.chart.options.lang,e=s&&s.navigation&&s.navigation.popup&&s.navigation.popup.indicatorAliases,a=[];return g(t,(function(t,s){var r=t.options;if(t.params||r&&r.params)if(s=(r=o.getNameType(t,s)).indicatorFullName,r=r.indicatorType,i){var h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");h=new RegExp(h,"i");var l=e&&e[r]&&e[r].join(" ")||"";(s.match(h)||l.match(h))&&(n={indicatorFullName:s,indicatorType:r,series:t},a.push(n))}else n={indicatorFullName:s,indicatorType:r,series:t},a.push(n)})),a},filterSeriesArray:function(t){var i,n=[];return t.forEach((function(t){t.is("sma")&&(i={indicatorFullName:t.name,indicatorType:t.type,series:t},n.push(i))})),n},addIndicatorList:function(i,n,o,s){var e=this,r=e.indicators,h=e.lang,p=n.querySelectorAll(".highcharts-popup-lhs-col")[0];n=n.querySelectorAll(".highcharts-popup-rhs-col")[0];var d="edit"===o,f=this.indicators.addFormFields;if(o=d?i.series:i.options.plotOptions||{},i||!o){var g,v=[];d||u(o)?u(o)&&(v=r.filterSeriesArray.call(this,o)):v=r.filterSeries.call(this,o,s),y(v,(function(t,i){return(t=t.indicatorFullName.toLowerCase())<(i=i.indicatorFullName.toLowerCase())?-1:t>i?1:0})),p.children[1]&&p.children[1].remove();var m=c("ul",{className:"highcharts-indicator-list"},void 0,p),x=n.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];v.forEach((function(t){var n=t.indicatorFullName,o=t.indicatorType,s=t.series;(g=c("li",{className:"highcharts-indicator-list"},void 0,m)).appendChild(a.createTextNode(n)),["click","touchstart"].forEach((function(t){l(g,t,(function(){var t=x.parentNode.children[1];f.call(e,i,s,o,x),t&&(t.style.display="block"),d&&s.options&&c("input",{type:"hidden",name:"highcharts-id-"+o,value:s.options.id},void 0,x).setAttribute("highcharts-data-series-id",s.options.id)}))}))})),0<m.childNodes.length?m.childNodes[0].click():d||(t.setElementHTML(x.parentNode.children[0],h.noFilterMatch||""),x.parentNode.children[1].style.display="none")}},addSearchBox:function(t,i){var n=this,o=i.querySelectorAll(".highcharts-popup-lhs-col")[0];i=this.lang.clearFilter,o=c("div",{className:"highcharts-input-wrapper"},void 0,o);var s=function(i){n.indicators.addIndicatorList.call(n,t,n.container,"add",i)},e=this.addInput("searchIndicators","input",o,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),a=c("a",{textContent:i},void 0,o);e.classList.add("highcharts-input-search-indicators"),a.classList.add("clear-filter-button"),l(e,"input",(function(t){s(this.value),a.style.display=this.value.length?"inline-block":"none"})),["click","touchstart"].forEach((function(t){l(a,t,(function(){e.value="",s(""),a.style.display="none"}))}))},addSelection:function(t,i,n){var o=i.split(".");o=o[o.length-1],t="highcharts-"+i+"-type-"+t;var s=this.lang;return c("label",{htmlFor:t},null,n).appendChild(a.createTextNode(s[o]||i)),(n=c("select",{name:t,className:"highcharts-popup-field",id:"highcharts-select-"+i},null,n)).setAttribute("id","highcharts-select-"+i),n},addSelectionOptions:function(t,i,n,o,s,e,r){"series"===i||"volume"===i?t.series.forEach((function(t){var o=t.options,s=o.name||o.params?t.name:o.id||"";"highcharts-navigator-series"!==o.id&&o.id!==(r&&r.options&&r.options.id)&&(p(e)||"volume"!==i||"column"!==t.type||(e=o.id),c("option",{value:o.id},void 0,n).appendChild(a.createTextNode(s)))})):o&&s&&b[s+"-"+o].forEach((function(t){c("option",{value:t},void 0,n).appendChild(a.createTextNode(t))})),p(e)&&(n.value=e)},getNameType:function(t,n){var o=t.options,s=i.seriesTypes;return s=s[n]&&s[n].prototype.nameBase||n.toUpperCase(),o&&o.type&&(n=t.options.type,s=t.name),{indicatorFullName:s,indicatorType:n}},listAllSeries:function(t,i,n,o,s,e){var a=this.indicators;n&&(t=a.addSelection.call(this,t,i,o),a.addSelectionOptions.call(this,n,i,t,void 0,void 0,void 0,s),p(e)&&(t.value=e))},addFormFields:function(i,n,o,s){var e=n.params||n.options.params,r=this.indicators.getNameType;s.innerHTML=t.emptyHTML,c("h3",{className:"highcharts-indicator-title"},void 0,s).appendChild(a.createTextNode(r(n,o).indicatorFullName)),c("input",{type:"hidden",name:"highcharts-type-"+o,value:o},void 0,s),this.indicators.listAllSeries.call(this,o,"series",i,s,n,n.linkedParent&&n.linkedParent.options.id),e.volumeSeriesID&&this.indicators.listAllSeries.call(this,o,"volume",i,s,n,n.linkedParent&&e.volumeSeriesID),this.indicators.addParamInputs.call(this,i,"params",e,o,s)},addParamInputs:function(t,i,n,o,s){var e,a=this,r=a.indicators,h=this.indicators.addParamInputs,l=this.addInput;t&&g(n,(function(n,c){if(e=i+"."+c,p(n)&&e)if(f(n)&&(l.call(a,e,o,s,{}),h.call(a,t,e,n,o,s)),e in m){var d=r.addSelection.call(a,o,e,s);r.addSelectionOptions.call(a,t,i,d,o,c,n)}else"params.volumeSeriesID"===e||u(n)||l.call(a,e,o,s,{value:n,type:"text"})}))},getAmount:function(){var t=0;return this.series.forEach((function(i){var n=i.options;(i.params||n&&n.params)&&t++})),t}},tabs:{init:function(t){var i=this.tabs,n=this.indicators.getAmount.call(t);t&&(t=i.addMenuItem.call(this,"add"),i.addMenuItem.call(this,"edit",n),i.addContentItem.call(this,"add"),i.addContentItem.call(this,"edit"),i.switchTabs.call(this,n),i.selectTab.call(this,t,0))},addMenuItem:function(t,i){var n=this.popup.container,o="highcharts-tab-item",s=this.lang;return 0===i&&(o+=" highcharts-tab-disabled"),(i=c("span",{className:o},void 0,n)).appendChild(a.createTextNode(s[t+"Button"]||t)),i.setAttribute("highcharts-data-tab-type",t),i},addContentItem:function(){return c("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.popup.container)},switchTabs:function(t){var i=this;this.popup.container.querySelectorAll(".highcharts-tab-item").forEach((function(n,o){"edit"===n.getAttribute("highcharts-data-tab-type")&&0===t||["click","touchstart"].forEach((function(t){l(n,t,(function(){i.tabs.deselectAll.call(i),i.tabs.selectTab.call(i,this,o)}))}))}))},selectTab:function(t,i){var n=this.popup.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",n[i].className+=" highcharts-tab-item-show"},deselectAll:function(){var t,i=this.popup.container,n=i.querySelectorAll(".highcharts-tab-item");for(i=i.querySelectorAll(".highcharts-tab-item-content"),t=0;t<n.length;t++)n[t].classList.remove("highcharts-tab-item-active"),i[t].classList.remove("highcharts-tab-item-show")}}},l(n,"showPopup",(function(t){this.popup||(this.popup=new i.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/9.3.3/gfx/stock-icons/",this.chart)),this.popup.showForm(t.formType,this.chart,t.options,t.onSubmit)})),l(n,"closePopup",(function(){this.popup&&this.popup.closePopup()})),i.Popup})),i(t,"masters/modules/annotations.src.js",[],(function(){}))},t.exports?(e.default=e,t.exports=e):(o=[n(78840)],void 0===(s=function(t){return e(t),e.Highcharts=t,e}.apply(i,o))||(t.exports=s))}}]);